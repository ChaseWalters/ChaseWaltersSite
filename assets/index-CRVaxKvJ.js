(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function n1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pm={exports:{}},Pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m_;function dw(){if(m_)return Pl;m_=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:e,type:r,key:c,ref:o!==void 0?o:null,props:u}}return Pl.Fragment=t,Pl.jsx=i,Pl.jsxs=i,Pl}var p_;function mw(){return p_||(p_=1,pm.exports=dw()),pm.exports}var x=mw(),gm={exports:{}},Ut={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g_;function pw(){if(g_)return Ut;g_=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function b(I){return I===null||typeof I!="object"?null:(I=_&&I[_]||I["@@iterator"],typeof I=="function"?I:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,L={};function j(I,rt,ht){this.props=I,this.context=rt,this.refs=L,this.updater=ht||w}j.prototype.isReactComponent={},j.prototype.setState=function(I,rt){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,rt,"setState")},j.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function U(){}U.prototype=j.prototype;function K(I,rt,ht){this.props=I,this.context=rt,this.refs=L,this.updater=ht||w}var Q=K.prototype=new U;Q.constructor=K,C(Q,j.prototype),Q.isPureReactComponent=!0;var lt=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},st=Object.prototype.hasOwnProperty;function V(I,rt,ht,ut,bt,Ct){return ht=Ct.ref,{$$typeof:e,type:I,key:rt,ref:ht!==void 0?ht:null,props:Ct}}function R(I,rt){return V(I.type,rt,void 0,void 0,void 0,I.props)}function D(I){return typeof I=="object"&&I!==null&&I.$$typeof===e}function O(I){var rt={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ht){return rt[ht]})}var P=/\/+/g;function z(I,rt){return typeof I=="object"&&I!==null&&I.key!=null?O(""+I.key):rt.toString(36)}function N(){}function he(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(N,N):(I.status="pending",I.then(function(rt){I.status==="pending"&&(I.status="fulfilled",I.value=rt)},function(rt){I.status==="pending"&&(I.status="rejected",I.reason=rt)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function Xt(I,rt,ht,ut,bt){var Ct=typeof I;(Ct==="undefined"||Ct==="boolean")&&(I=null);var wt=!1;if(I===null)wt=!0;else switch(Ct){case"bigint":case"string":case"number":wt=!0;break;case"object":switch(I.$$typeof){case e:case t:wt=!0;break;case y:return wt=I._init,Xt(wt(I._payload),rt,ht,ut,bt)}}if(wt)return bt=bt(I),wt=ut===""?"."+z(I,0):ut,lt(bt)?(ht="",wt!=null&&(ht=wt.replace(P,"$&/")+"/"),Xt(bt,rt,ht,"",function(fe){return fe})):bt!=null&&(D(bt)&&(bt=R(bt,ht+(bt.key==null||I&&I.key===bt.key?"":(""+bt.key).replace(P,"$&/")+"/")+wt)),rt.push(bt)),1;wt=0;var dt=ut===""?".":ut+":";if(lt(I))for(var mt=0;mt<I.length;mt++)ut=I[mt],Ct=dt+z(ut,mt),wt+=Xt(ut,rt,ht,Ct,bt);else if(mt=b(I),typeof mt=="function")for(I=mt.call(I),mt=0;!(ut=I.next()).done;)ut=ut.value,Ct=dt+z(ut,mt++),wt+=Xt(ut,rt,ht,Ct,bt);else if(Ct==="object"){if(typeof I.then=="function")return Xt(he(I),rt,ht,ut,bt);throw rt=String(I),Error("Objects are not valid as a React child (found: "+(rt==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":rt)+"). If you meant to render a collection of children, use an array instead.")}return wt}function W(I,rt,ht){if(I==null)return I;var ut=[],bt=0;return Xt(I,ut,"","",function(Ct){return rt.call(ht,Ct,bt++)}),ut}function at(I){if(I._status===-1){var rt=I._result;rt=rt(),rt.then(function(ht){(I._status===0||I._status===-1)&&(I._status=1,I._result=ht)},function(ht){(I._status===0||I._status===-1)&&(I._status=2,I._result=ht)}),I._status===-1&&(I._status=0,I._result=rt)}if(I._status===1)return I._result.default;throw I._result}var ft=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var rt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(rt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function zt(){}return Ut.Children={map:W,forEach:function(I,rt,ht){W(I,function(){rt.apply(this,arguments)},ht)},count:function(I){var rt=0;return W(I,function(){rt++}),rt},toArray:function(I){return W(I,function(rt){return rt})||[]},only:function(I){if(!D(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Ut.Component=j,Ut.Fragment=i,Ut.Profiler=o,Ut.PureComponent=K,Ut.StrictMode=r,Ut.Suspense=m,Ut.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,Ut.__COMPILER_RUNTIME={__proto__:null,c:function(I){return q.H.useMemoCache(I)}},Ut.cache=function(I){return function(){return I.apply(null,arguments)}},Ut.cloneElement=function(I,rt,ht){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var ut=C({},I.props),bt=I.key,Ct=void 0;if(rt!=null)for(wt in rt.ref!==void 0&&(Ct=void 0),rt.key!==void 0&&(bt=""+rt.key),rt)!st.call(rt,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&rt.ref===void 0||(ut[wt]=rt[wt]);var wt=arguments.length-2;if(wt===1)ut.children=ht;else if(1<wt){for(var dt=Array(wt),mt=0;mt<wt;mt++)dt[mt]=arguments[mt+2];ut.children=dt}return V(I.type,bt,void 0,void 0,Ct,ut)},Ut.createContext=function(I){return I={$$typeof:c,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:u,_context:I},I},Ut.createElement=function(I,rt,ht){var ut,bt={},Ct=null;if(rt!=null)for(ut in rt.key!==void 0&&(Ct=""+rt.key),rt)st.call(rt,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(bt[ut]=rt[ut]);var wt=arguments.length-2;if(wt===1)bt.children=ht;else if(1<wt){for(var dt=Array(wt),mt=0;mt<wt;mt++)dt[mt]=arguments[mt+2];bt.children=dt}if(I&&I.defaultProps)for(ut in wt=I.defaultProps,wt)bt[ut]===void 0&&(bt[ut]=wt[ut]);return V(I,Ct,void 0,void 0,null,bt)},Ut.createRef=function(){return{current:null}},Ut.forwardRef=function(I){return{$$typeof:d,render:I}},Ut.isValidElement=D,Ut.lazy=function(I){return{$$typeof:y,_payload:{_status:-1,_result:I},_init:at}},Ut.memo=function(I,rt){return{$$typeof:g,type:I,compare:rt===void 0?null:rt}},Ut.startTransition=function(I){var rt=q.T,ht={};q.T=ht;try{var ut=I(),bt=q.S;bt!==null&&bt(ht,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(zt,ft)}catch(Ct){ft(Ct)}finally{q.T=rt}},Ut.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},Ut.use=function(I){return q.H.use(I)},Ut.useActionState=function(I,rt,ht){return q.H.useActionState(I,rt,ht)},Ut.useCallback=function(I,rt){return q.H.useCallback(I,rt)},Ut.useContext=function(I){return q.H.useContext(I)},Ut.useDebugValue=function(){},Ut.useDeferredValue=function(I,rt){return q.H.useDeferredValue(I,rt)},Ut.useEffect=function(I,rt,ht){var ut=q.H;if(typeof ht=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ut.useEffect(I,rt)},Ut.useId=function(){return q.H.useId()},Ut.useImperativeHandle=function(I,rt,ht){return q.H.useImperativeHandle(I,rt,ht)},Ut.useInsertionEffect=function(I,rt){return q.H.useInsertionEffect(I,rt)},Ut.useLayoutEffect=function(I,rt){return q.H.useLayoutEffect(I,rt)},Ut.useMemo=function(I,rt){return q.H.useMemo(I,rt)},Ut.useOptimistic=function(I,rt){return q.H.useOptimistic(I,rt)},Ut.useReducer=function(I,rt,ht){return q.H.useReducer(I,rt,ht)},Ut.useRef=function(I){return q.H.useRef(I)},Ut.useState=function(I){return q.H.useState(I)},Ut.useSyncExternalStore=function(I,rt,ht){return q.H.useSyncExternalStore(I,rt,ht)},Ut.useTransition=function(){return q.H.useTransition()},Ut.version="19.1.0",Ut}var y_;function Pp(){return y_||(y_=1,gm.exports=pw()),gm.exports}var k=Pp();const sr=n1(k);var ym={exports:{}},kl={},vm={exports:{}},_m={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function gw(){return v_||(v_=1,function(e){function t(W,at){var ft=W.length;W.push(at);t:for(;0<ft;){var zt=ft-1>>>1,I=W[zt];if(0<o(I,at))W[zt]=at,W[ft]=I,ft=zt;else break t}}function i(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var at=W[0],ft=W.pop();if(ft!==at){W[0]=ft;t:for(var zt=0,I=W.length,rt=I>>>1;zt<rt;){var ht=2*(zt+1)-1,ut=W[ht],bt=ht+1,Ct=W[bt];if(0>o(ut,ft))bt<I&&0>o(Ct,ut)?(W[zt]=Ct,W[bt]=ft,zt=bt):(W[zt]=ut,W[ht]=ft,zt=ht);else if(bt<I&&0>o(Ct,ft))W[zt]=Ct,W[bt]=ft,zt=bt;else break t}}return at}function o(W,at){var ft=W.sortIndex-at.sortIndex;return ft!==0?ft:W.id-at.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var m=[],g=[],y=1,_=null,b=3,w=!1,C=!1,L=!1,j=!1,U=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function lt(W){for(var at=i(g);at!==null;){if(at.callback===null)r(g);else if(at.startTime<=W)r(g),at.sortIndex=at.expirationTime,t(m,at);else break;at=i(g)}}function q(W){if(L=!1,lt(W),!C)if(i(m)!==null)C=!0,st||(st=!0,z());else{var at=i(g);at!==null&&Xt(q,at.startTime-W)}}var st=!1,V=-1,R=5,D=-1;function O(){return j?!0:!(e.unstable_now()-D<R)}function P(){if(j=!1,st){var W=e.unstable_now();D=W;var at=!0;try{t:{C=!1,L&&(L=!1,K(V),V=-1),w=!0;var ft=b;try{e:{for(lt(W),_=i(m);_!==null&&!(_.expirationTime>W&&O());){var zt=_.callback;if(typeof zt=="function"){_.callback=null,b=_.priorityLevel;var I=zt(_.expirationTime<=W);if(W=e.unstable_now(),typeof I=="function"){_.callback=I,lt(W),at=!0;break e}_===i(m)&&r(m),lt(W)}else r(m);_=i(m)}if(_!==null)at=!0;else{var rt=i(g);rt!==null&&Xt(q,rt.startTime-W),at=!1}}break t}finally{_=null,b=ft,w=!1}at=void 0}}finally{at?z():st=!1}}}var z;if(typeof Q=="function")z=function(){Q(P)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,he=N.port2;N.port1.onmessage=P,z=function(){he.postMessage(null)}}else z=function(){U(P,0)};function Xt(W,at){V=U(function(){W(e.unstable_now())},at)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(W){switch(b){case 1:case 2:case 3:var at=3;break;default:at=b}var ft=b;b=at;try{return W()}finally{b=ft}},e.unstable_requestPaint=function(){j=!0},e.unstable_runWithPriority=function(W,at){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ft=b;b=W;try{return at()}finally{b=ft}},e.unstable_scheduleCallback=function(W,at,ft){var zt=e.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?zt+ft:zt):ft=zt,W){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=ft+I,W={id:y++,callback:at,priorityLevel:W,startTime:ft,expirationTime:I,sortIndex:-1},ft>zt?(W.sortIndex=ft,t(g,W),i(m)===null&&W===i(g)&&(L?(K(V),V=-1):L=!0,Xt(q,ft-zt))):(W.sortIndex=I,t(m,W),C||w||(C=!0,st||(st=!0,z()))),W},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(W){var at=b;return function(){var ft=b;b=at;try{return W.apply(this,arguments)}finally{b=ft}}}}(_m)),_m}var __;function yw(){return __||(__=1,vm.exports=gw()),vm.exports}var Tm={exports:{}},En={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_;function vw(){if(T_)return En;T_=1;var e=Pp();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:m,containerInfo:g,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return En.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,En.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(m,g,null,y)},En.flushSync=function(m){var g=c.T,y=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=g,r.p=y,r.d.f()}},En.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(m,g))},En.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},En.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,_=d(y,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,w=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?r.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:w}):y==="script"&&r.d.X(m,{crossOrigin:_,integrity:b,fetchPriority:w,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},En.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=d(g.as,g.crossOrigin);r.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(m)},En.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,_=d(y,g.crossOrigin);r.d.L(m,y,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},En.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=d(g.as,g.crossOrigin);r.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(m)},En.requestFormReset=function(m){r.d.r(m)},En.unstable_batchedUpdates=function(m,g){return m(g)},En.useFormState=function(m,g,y){return c.H.useFormState(m,g,y)},En.useFormStatus=function(){return c.H.useHostTransitionStatus()},En.version="19.1.0",En}var b_;function _w(){if(b_)return Tm.exports;b_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Tm.exports=vw(),Tm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_;function Tw(){if(E_)return kl;E_=1;var e=yw(),t=Pp(),i=_w();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function d(n){if(u(n)!==n)throw Error(r(188))}function m(n){var s=n.alternate;if(!s){if(s=u(n),s===null)throw Error(r(188));return s!==n?null:n}for(var a=n,l=s;;){var f=a.return;if(f===null)break;var p=f.alternate;if(p===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===a)return d(f),n;if(p===l)return d(f),s;p=p.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=p;else{for(var E=!1,S=f.child;S;){if(S===a){E=!0,a=f,l=p;break}if(S===l){E=!0,l=f,a=p;break}S=S.sibling}if(!E){for(S=p.child;S;){if(S===a){E=!0,a=p,l=f;break}if(S===l){E=!0,l=p,a=f;break}S=S.sibling}if(!E)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:s}function g(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=g(n),s!==null)return s;n=n.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),K=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),lt=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),st=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function z(n){return n===null||typeof n!="object"?null:(n=P&&n[P]||n["@@iterator"],typeof n=="function"?n:null)}var N=Symbol.for("react.client.reference");function he(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===N?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case C:return"Fragment";case j:return"Profiler";case L:return"StrictMode";case q:return"Suspense";case st:return"SuspenseList";case D:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case w:return"Portal";case Q:return(n.displayName||"Context")+".Provider";case K:return(n._context.displayName||"Context")+".Consumer";case lt:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case V:return s=n.displayName||null,s!==null?s:he(n.type)||"Memo";case R:s=n._payload,n=n._init;try{return he(n(s))}catch{}}return null}var Xt=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},zt=[],I=-1;function rt(n){return{current:n}}function ht(n){0>I||(n.current=zt[I],zt[I]=null,I--)}function ut(n,s){I++,zt[I]=n.current,n.current=s}var bt=rt(null),Ct=rt(null),wt=rt(null),dt=rt(null);function mt(n,s){switch(ut(wt,s),ut(Ct,n),ut(bt,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?H0(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=H0(s),n=F0(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ht(bt),ut(bt,n)}function fe(){ht(bt),ht(Ct),ht(wt)}function we(n){n.memoizedState!==null&&ut(dt,n);var s=bt.current,a=F0(s,n.type);s!==a&&(ut(Ct,n),ut(bt,a))}function ae(n){Ct.current===n&&(ht(bt),ht(Ct)),dt.current===n&&(ht(dt),Vl._currentValue=ft)}var He=Object.prototype.hasOwnProperty,qt=e.unstable_scheduleCallback,_n=e.unstable_cancelCallback,Se=e.unstable_shouldYield,Fe=e.unstable_requestPaint,Te=e.unstable_now,br=e.unstable_getCurrentPriorityLevel,Zn=e.unstable_ImmediatePriority,Bt=e.unstable_UserBlockingPriority,ke=e.unstable_NormalPriority,Er=e.unstable_LowPriority,Wn=e.unstable_IdlePriority,mi=e.log,pi=e.unstable_setDisableYieldValue,pe=null,$t=null;function qe(n){if(typeof mi=="function"&&pi(n),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(pe,n)}catch{}}var Xe=Math.clz32?Math.clz32:Jn,fa=Math.log,Oo=Math.LN2;function Jn(n){return n>>>=0,n===0?32:31-(fa(n)/Oo|0)|0}var In=256,Ei=4194304;function zn(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Zi(n,s,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,p=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var S=l&134217727;return S!==0?(l=S&~p,l!==0?f=zn(l):(E&=S,E!==0?f=zn(E):a||(a=S&~n,a!==0&&(f=zn(a))))):(S=l&~p,S!==0?f=zn(S):E!==0?f=zn(E):a||(a=l&~n,a!==0&&(f=zn(a)))),f===0?0:s!==0&&s!==f&&(s&p)===0&&(p=f&-f,a=s&-s,p>=a||p===32&&(a&4194048)!==0)?s:f}function Wi(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function J(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pt(){var n=In;return In<<=1,(In&4194048)===0&&(In=256),n}function vt(){var n=Ei;return Ei<<=1,(Ei&62914560)===0&&(Ei=4194304),n}function Pt(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function yt(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function At(n,s,a,l,f,p){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var S=n.entanglements,M=n.expirationTimes,Y=n.hiddenUpdates;for(a=E&~a;0<a;){var tt=31-Xe(a),nt=1<<tt;S[tt]=0,M[tt]=-1;var X=Y[tt];if(X!==null)for(Y[tt]=null,tt=0;tt<X.length;tt++){var $=X[tt];$!==null&&($.lane&=-536870913)}a&=~nt}l!==0&&Et(n,l,0),p!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=p&~(E&~s))}function Et(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var l=31-Xe(s);n.entangledLanes|=s,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function kt(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var l=31-Xe(a),f=1<<l;f&s|n[l]&s&&(n[l]|=s),a&=~f}}function oe(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Rt(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Tt(){var n=at.p;return n!==0?n:(n=window.event,n===void 0?32:l_(n.type))}function ne(n,s){var a=at.p;try{return at.p=n,s()}finally{at.p=a}}var ie=Math.random().toString(36).slice(2),le="__reactFiber$"+ie,Ae="__reactProps$"+ie,Tn="__reactContainer$"+ie,Po="__reactEvents$"+ie,vf="__reactListeners$"+ie,Ds="__reactHandles$"+ie,Vu="__reactResources$"+ie,Sr="__reactMarker$"+ie;function Vs(n){delete n[le],delete n[Ae],delete n[Po],delete n[vf],delete n[Ds]}function Ji(n){var s=n[le];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Tn]||a[le]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=K0(n);n!==null;){if(a=n[le])return a;n=K0(n)}return s}n=a,a=n.parentNode}return null}function Si(n){if(n=n[le]||n[Tn]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function Ai(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function Cn(n){var s=n[Vu];return s||(s=n[Vu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Le(n){n[Sr]=!0}var ko=new Set,da={};function gi(n,s){ts(n,s),ts(n+"Capture",s)}function ts(n,s){for(da[n]=s,n=0;n<s.length;n++)ko.add(s[n])}var Mu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nu={},Ar={};function Iu(n){return He.call(Ar,n)?!0:He.call(Nu,n)?!1:Mu.test(n)?Ar[n]=!0:(Nu[n]=!0,!1)}function Ms(n,s,a){if(Iu(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function xi(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function cn(n,s,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+l)}}var xr,Ou;function es(n){if(xr===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);xr=s&&s[1]||"",Ou=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xr+n+Ou}var ma=!1;function pa(n,s){if(!n||ma)return"";ma=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch($){var X=$}Reflect.construct(n,[],nt)}else{try{nt.call()}catch($){X=$}n.call(nt.prototype)}}else{try{throw Error()}catch($){X=$}(nt=n())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch($){if($&&X&&typeof $.stack=="string")return[$.stack,X.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),E=p[0],S=p[1];if(E&&S){var M=E.split(`
`),Y=S.split(`
`);for(f=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;if(l===M.length||f===Y.length)for(l=M.length-1,f=Y.length-1;1<=l&&0<=f&&M[l]!==Y[f];)f--;for(;1<=l&&0<=f;l--,f--)if(M[l]!==Y[f]){if(l!==1||f!==1)do if(l--,f--,0>f||M[l]!==Y[f]){var tt=`
`+M[l].replace(" at new "," at ");return n.displayName&&tt.includes("<anonymous>")&&(tt=tt.replace("<anonymous>",n.displayName)),tt}while(1<=l&&0<=f);break}}}finally{ma=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?es(a):""}function Lo(n){switch(n.tag){case 26:case 27:case 5:return es(n.type);case 16:return es("Lazy");case 13:return es("Suspense");case 19:return es("SuspenseList");case 0:case 15:return pa(n.type,!1);case 11:return pa(n.type.render,!1);case 1:return pa(n.type,!0);case 31:return es("Activity");default:return""}}function ga(n){try{var s="";do s+=Lo(n),n=n.return;while(n);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Dn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function jo(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function _f(n){var s=jo(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),l=""+n[s];if(!n.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,p=a.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,p.call(this,E)}}),Object.defineProperty(n,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function ya(n){n._valueTracker||(n._valueTracker=_f(n))}function Bo(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return n&&(l=jo(n)?n.checked?"true":"false":n.value),n=l,n!==a?(s.setValue(n),!0):!1}function wr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Tf=/[\n"\\]/g;function Ge(n){return n.replace(Tf,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Hn(n,s,a,l,f,p,E,S){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),s!=null?E==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Dn(s)):n.value!==""+Dn(s)&&(n.value=""+Dn(s)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),s!=null?Ns(n,E,Dn(s)):a!=null?Ns(n,E,Dn(a)):l!=null&&n.removeAttribute("value"),f==null&&p!=null&&(n.defaultChecked=!!p),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+Dn(S):n.removeAttribute("name")}function Rr(n,s,a,l,f,p,E,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),s!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||s!=null))return;a=a!=null?""+Dn(a):"",s=s!=null?""+Dn(s):a,S||s===n.value||(n.value=s),n.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=S?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function Ns(n,s,a){s==="number"&&wr(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function ns(n,s,a,l){if(n=n.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=s.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+Dn(a),s=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function ge(n,s,a){if(s!=null&&(s=""+Dn(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+Dn(a):""}function Cr(n,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(Xt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=Dn(s),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function ti(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var Dr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pu(n,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":l?n.setProperty(s,a):typeof a!="number"||a===0||Dr.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function Uo(n,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&Pu(n,f,l)}else for(var p in s)s.hasOwnProperty(p)&&Pu(n,p,s[p])}function zo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ef=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function va(n){return Ef.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var is=null;function ei(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ss=null,rs=null;function Ho(n){var s=Si(n);if(s&&(n=s.stateNode)){var a=n[Ae]||null;t:switch(n=s.stateNode,s.type){case"input":if(Hn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ge(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==n&&l.form===n.form){var f=l[Ae]||null;if(!f)throw Error(r(90));Hn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===n.form&&Bo(l)}break t;case"textarea":ge(n,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&ns(n,!!a.multiple,s,!1)}}}var wi=!1;function ku(n,s,a){if(wi)return n(s,a);wi=!0;try{var l=n(s);return l}finally{if(wi=!1,(ss!==null||rs!==null)&&(Dc(),ss&&(s=ss,n=rs,rs=ss=null,Ho(s),n)))for(s=0;s<n.length;s++)Ho(n[s])}}function Vr(n,s){var a=n.stateNode;if(a===null)return null;var l=a[Ae]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break t;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var yi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ni=!1;if(yi)try{var Mr={};Object.defineProperty(Mr,"passive",{get:function(){ni=!0}}),window.addEventListener("test",Mr,Mr),window.removeEventListener("test",Mr,Mr)}catch{ni=!1}var Ri=null,Is=null,as=null;function Fo(){if(as)return as;var n,s=Is,a=s.length,l,f="value"in Ri?Ri.value:Ri.textContent,p=f.length;for(n=0;n<a&&s[n]===f[n];n++);var E=a-n;for(l=1;l<=E&&s[a-l]===f[p-l];l++);return as=f.slice(n,1<l?1-l:void 0)}function Ci(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Di(){return!0}function qo(){return!1}function sn(n){function s(a,l,f,p,E){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(a=n[S],this[S]=a?a(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Di:qo,this.isPropagationStopped=qo,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),s}var ue={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_a=sn(ue),Nr=y({},ue,{view:0,detail:0}),Lu=sn(Nr),Ta,ba,Vi,Ir=y({},Nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Vi&&(Vi&&n.type==="mousemove"?(Ta=n.screenX-Vi.screenX,ba=n.screenY-Vi.screenY):ba=Ta=0,Vi=n),Ta)},movementY:function(n){return"movementY"in n?n.movementY:ba}}),ii=sn(Ir),ju=y({},Ir,{dataTransfer:0}),Sf=sn(ju),Or=y({},Nr,{relatedTarget:0}),Ea=sn(Or),Go=y({},ue,{animationName:0,elapsedTime:0,pseudoElement:0}),Sa=sn(Go),Bu=y({},ue,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Aa=sn(Bu),Af=y({},ue,{data:0}),Yo=sn(Af),Pr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ko(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=zu[n])?!!s[n]:!1}function kr(){return Ko}var Hu=y({},Nr,{key:function(n){if(n.key){var s=Pr[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Ci(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Uu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(n){return n.type==="keypress"?Ci(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ci(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),xa=sn(Hu),Fu=y({},Ir,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qo=sn(Fu),os=y({},Nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr}),qu=sn(os),Gu=y({},ue,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yu=sn(Gu),Ku=y({},Ir,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),wa=sn(Ku),Vn=y({},ue,{newState:0,oldState:0}),Qu=sn(Vn),Xu=[9,13,27,32],Mi=yi&&"CompositionEvent"in window,h=null;yi&&"documentMode"in document&&(h=document.documentMode);var v=yi&&"TextEvent"in window&&!h,T=yi&&(!Mi||h&&8<h&&11>=h),A=" ",F=!1;function Z(n,s){switch(n){case"keyup":return Xu.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ct(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Zt=!1;function $e(n,s){switch(n){case"compositionend":return ct(s);case"keypress":return s.which!==32?null:(F=!0,A);case"textInput":return n=s.data,n===A&&F?null:n;default:return null}}function Wt(n,s){if(Zt)return n==="compositionend"||!Mi&&Z(n,s)?(n=Fo(),as=Is=Ri=null,Zt=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return T&&s.locale!=="ko"?null:s.data;default:return null}}var rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ze(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!rn[n.type]:s==="textarea"}function ls(n,s,a,l){ss?rs?rs.push(l):rs=[l]:ss=l,s=Pc(s,"onChange"),0<s.length&&(a=new _a("onChange","change",null,a,l),n.push({event:a,listeners:s}))}var hn=null,Ni=null;function Xo(n){L0(n,0)}function $u(n){var s=Ai(n);if(Bo(s))return n}function sy(n,s){if(n==="change")return s}var ry=!1;if(yi){var xf;if(yi){var wf="oninput"in document;if(!wf){var ay=document.createElement("div");ay.setAttribute("oninput","return;"),wf=typeof ay.oninput=="function"}xf=wf}else xf=!1;ry=xf&&(!document.documentMode||9<document.documentMode)}function oy(){hn&&(hn.detachEvent("onpropertychange",ly),Ni=hn=null)}function ly(n){if(n.propertyName==="value"&&$u(Ni)){var s=[];ls(s,Ni,n,ei(n)),ku(Xo,s)}}function FA(n,s,a){n==="focusin"?(oy(),hn=s,Ni=a,hn.attachEvent("onpropertychange",ly)):n==="focusout"&&oy()}function qA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return $u(Ni)}function GA(n,s){if(n==="click")return $u(s)}function YA(n,s){if(n==="input"||n==="change")return $u(s)}function KA(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Fn=typeof Object.is=="function"?Object.is:KA;function $o(n,s){if(Fn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!He.call(s,f)||!Fn(n[f],s[f]))return!1}return!0}function uy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function cy(n,s){var a=uy(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=s&&l>=s)return{node:a,offset:s-n};n=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=uy(a)}}function hy(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?hy(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function fy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=wr(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=wr(n.document)}return s}function Rf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var QA=yi&&"documentMode"in document&&11>=document.documentMode,Ra=null,Cf=null,Zo=null,Df=!1;function dy(n,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Df||Ra==null||Ra!==wr(l)||(l=Ra,"selectionStart"in l&&Rf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Zo&&$o(Zo,l)||(Zo=l,l=Pc(Cf,"onSelect"),0<l.length&&(s=new _a("onSelect","select",null,s,a),n.push({event:s,listeners:l}),s.target=Ra)))}function Lr(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var Ca={animationend:Lr("Animation","AnimationEnd"),animationiteration:Lr("Animation","AnimationIteration"),animationstart:Lr("Animation","AnimationStart"),transitionrun:Lr("Transition","TransitionRun"),transitionstart:Lr("Transition","TransitionStart"),transitioncancel:Lr("Transition","TransitionCancel"),transitionend:Lr("Transition","TransitionEnd")},Vf={},my={};yi&&(my=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function jr(n){if(Vf[n])return Vf[n];if(!Ca[n])return n;var s=Ca[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in my)return Vf[n]=s[a];return n}var py=jr("animationend"),gy=jr("animationiteration"),yy=jr("animationstart"),XA=jr("transitionrun"),$A=jr("transitionstart"),ZA=jr("transitioncancel"),vy=jr("transitionend"),_y=new Map,Mf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mf.push("scrollEnd");function vi(n,s){_y.set(n,s),gi(s,[n])}var Ty=new WeakMap;function si(n,s){if(typeof n=="object"&&n!==null){var a=Ty.get(n);return a!==void 0?a:(s={value:n,source:s,stack:ga(s)},Ty.set(n,s),s)}return{value:n,source:s,stack:ga(s)}}var ri=[],Da=0,Nf=0;function Zu(){for(var n=Da,s=Nf=Da=0;s<n;){var a=ri[s];ri[s++]=null;var l=ri[s];ri[s++]=null;var f=ri[s];ri[s++]=null;var p=ri[s];if(ri[s++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}p!==0&&by(a,f,p)}}function Wu(n,s,a,l){ri[Da++]=n,ri[Da++]=s,ri[Da++]=a,ri[Da++]=l,Nf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function If(n,s,a,l){return Wu(n,s,a,l),Ju(n)}function Va(n,s){return Wu(n,null,null,s),Ju(n)}function by(n,s,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,p=n.return;p!==null;)p.childLanes|=a,l=p.alternate,l!==null&&(l.childLanes|=a),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(f=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,f&&s!==null&&(f=31-Xe(a),n=p.hiddenUpdates,l=n[f],l===null?n[f]=[s]:l.push(s),s.lane=a|536870912),p):null}function Ju(n){if(50<El)throw El=0,Bd=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Ma={};function WA(n,s,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(n,s,a,l){return new WA(n,s,a,l)}function Of(n){return n=n.prototype,!(!n||!n.isReactComponent)}function us(n,s){var a=n.alternate;return a===null?(a=qn(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Ey(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function tc(n,s,a,l,f,p){var E=0;if(l=n,typeof n=="function")Of(n)&&(E=1);else if(typeof n=="string")E=tw(n,a,bt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case D:return n=qn(31,a,s,f),n.elementType=D,n.lanes=p,n;case C:return Br(a.children,f,p,s);case L:E=8,f|=24;break;case j:return n=qn(12,a,s,f|2),n.elementType=j,n.lanes=p,n;case q:return n=qn(13,a,s,f),n.elementType=q,n.lanes=p,n;case st:return n=qn(19,a,s,f),n.elementType=st,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case U:case Q:E=10;break t;case K:E=9;break t;case lt:E=11;break t;case V:E=14;break t;case R:E=16,l=null;break t}E=29,a=Error(r(130,n===null?"null":typeof n,"")),l=null}return s=qn(E,a,s,f),s.elementType=n,s.type=l,s.lanes=p,s}function Br(n,s,a,l){return n=qn(7,n,l,s),n.lanes=a,n}function Pf(n,s,a){return n=qn(6,n,null,s),n.lanes=a,n}function kf(n,s,a){return s=qn(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Na=[],Ia=0,ec=null,nc=0,ai=[],oi=0,Ur=null,cs=1,hs="";function zr(n,s){Na[Ia++]=nc,Na[Ia++]=ec,ec=n,nc=s}function Sy(n,s,a){ai[oi++]=cs,ai[oi++]=hs,ai[oi++]=Ur,Ur=n;var l=cs;n=hs;var f=32-Xe(l)-1;l&=~(1<<f),a+=1;var p=32-Xe(s)+f;if(30<p){var E=f-f%5;p=(l&(1<<E)-1).toString(32),l>>=E,f-=E,cs=1<<32-Xe(s)+f|a<<f|l,hs=p+n}else cs=1<<p|a<<f|l,hs=n}function Lf(n){n.return!==null&&(zr(n,1),Sy(n,1,0))}function jf(n){for(;n===ec;)ec=Na[--Ia],Na[Ia]=null,nc=Na[--Ia],Na[Ia]=null;for(;n===Ur;)Ur=ai[--oi],ai[oi]=null,hs=ai[--oi],ai[oi]=null,cs=ai[--oi],ai[oi]=null}var Mn=null,Ne=null,re=!1,Hr=null,Ii=!1,Bf=Error(r(519));function Fr(n){var s=Error(r(418,""));throw tl(si(s,n)),Bf}function Ay(n){var s=n.stateNode,a=n.type,l=n.memoizedProps;switch(s[le]=n,s[Ae]=l,a){case"dialog":Kt("cancel",s),Kt("close",s);break;case"iframe":case"object":case"embed":Kt("load",s);break;case"video":case"audio":for(a=0;a<Al.length;a++)Kt(Al[a],s);break;case"source":Kt("error",s);break;case"img":case"image":case"link":Kt("error",s),Kt("load",s);break;case"details":Kt("toggle",s);break;case"input":Kt("invalid",s),Rr(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ya(s);break;case"select":Kt("invalid",s);break;case"textarea":Kt("invalid",s),Cr(s,l.value,l.defaultValue,l.children),ya(s)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||z0(s.textContent,a)?(l.popover!=null&&(Kt("beforetoggle",s),Kt("toggle",s)),l.onScroll!=null&&Kt("scroll",s),l.onScrollEnd!=null&&Kt("scrollend",s),l.onClick!=null&&(s.onclick=kc),s=!0):s=!1,s||Fr(n)}function xy(n){for(Mn=n.return;Mn;)switch(Mn.tag){case 5:case 13:Ii=!1;return;case 27:case 3:Ii=!0;return;default:Mn=Mn.return}}function Wo(n){if(n!==Mn)return!1;if(!re)return xy(n),re=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||em(n.type,n.memoizedProps)),a=!a),a&&Ne&&Fr(n),xy(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));t:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(s===0){Ne=Ti(n.nextSibling);break t}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;n=n.nextSibling}Ne=null}}else s===27?(s=Ne,Xs(n.type)?(n=rm,rm=null,Ne=n):Ne=s):Ne=Mn?Ti(n.stateNode.nextSibling):null;return!0}function Jo(){Ne=Mn=null,re=!1}function wy(){var n=Hr;return n!==null&&(kn===null?kn=n:kn.push.apply(kn,n),Hr=null),n}function tl(n){Hr===null?Hr=[n]:Hr.push(n)}var Uf=rt(null),qr=null,fs=null;function Os(n,s,a){ut(Uf,s._currentValue),s._currentValue=a}function ds(n){n._currentValue=Uf.current,ht(Uf)}function zf(n,s,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),n===a)break;n=n.return}}function Hf(n,s,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var p=f.dependencies;if(p!==null){var E=f.child;p=p.firstContext;t:for(;p!==null;){var S=p;p=f;for(var M=0;M<s.length;M++)if(S.context===s[M]){p.lanes|=a,S=p.alternate,S!==null&&(S.lanes|=a),zf(p.return,a,n),l||(E=null);break t}p=S.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(r(341));E.lanes|=a,p=E.alternate,p!==null&&(p.lanes|=a),zf(E,a,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function el(n,s,a,l){n=null;for(var f=s,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var S=f.type;Fn(f.pendingProps.value,E.value)||(n!==null?n.push(S):n=[S])}}else if(f===dt.current){if(E=f.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Vl):n=[Vl])}f=f.return}n!==null&&Hf(s,n,a,l),s.flags|=262144}function ic(n){for(n=n.firstContext;n!==null;){if(!Fn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Gr(n){qr=n,fs=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function bn(n){return Ry(qr,n)}function sc(n,s){return qr===null&&Gr(n),Ry(n,s)}function Ry(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},fs===null){if(n===null)throw Error(r(308));fs=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else fs=fs.next=s;return a}var JA=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},tx=e.unstable_scheduleCallback,ex=e.unstable_NormalPriority,We={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ff(){return{controller:new JA,data:new Map,refCount:0}}function nl(n){n.refCount--,n.refCount===0&&tx(ex,function(){n.controller.abort()})}var il=null,qf=0,Oa=0,Pa=null;function nx(n,s){if(il===null){var a=il=[];qf=0,Oa=Yd(),Pa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return qf++,s.then(Cy,Cy),s}function Cy(){if(--qf===0&&il!==null){Pa!==null&&(Pa.status="fulfilled");var n=il;il=null,Oa=0,Pa=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function ix(n,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Dy=W.S;W.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&nx(n,s),Dy!==null&&Dy(n,s)};var Yr=rt(null);function Gf(){var n=Yr.current;return n!==null?n:Ee.pooledCache}function rc(n,s){s===null?ut(Yr,Yr.current):ut(Yr,s.pool)}function Vy(){var n=Gf();return n===null?null:{parent:We._currentValue,pool:n}}var sl=Error(r(460)),My=Error(r(474)),ac=Error(r(542)),Yf={then:function(){}};function Ny(n){return n=n.status,n==="fulfilled"||n==="rejected"}function oc(){}function Iy(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(oc,oc),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Py(n),n;default:if(typeof s.status=="string")s.then(oc,oc);else{if(n=Ee,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Py(n),n}throw rl=s,sl}}var rl=null;function Oy(){if(rl===null)throw Error(r(459));var n=rl;return rl=null,n}function Py(n){if(n===sl||n===ac)throw Error(r(483))}var Ps=!1;function Kf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qf(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ks(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ls(n,s,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(de&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=Ju(n),by(n,null,a),s}return Wu(n,l,s,a),Ju(n)}function al(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,kt(n,a)}}function Xf(n,s){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?f=p=E:p=p.next=E,a=a.next}while(a!==null);p===null?f=p=s:p=p.next=s}else f=p=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var $f=!1;function ol(){if($f){var n=Pa;if(n!==null)throw n}}function ll(n,s,a,l){$f=!1;var f=n.updateQueue;Ps=!1;var p=f.firstBaseUpdate,E=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var M=S,Y=M.next;M.next=null,E===null?p=Y:E.next=Y,E=M;var tt=n.alternate;tt!==null&&(tt=tt.updateQueue,S=tt.lastBaseUpdate,S!==E&&(S===null?tt.firstBaseUpdate=Y:S.next=Y,tt.lastBaseUpdate=M))}if(p!==null){var nt=f.baseState;E=0,tt=Y=M=null,S=p;do{var X=S.lane&-536870913,$=X!==S.lane;if($?(Jt&X)===X:(l&X)===X){X!==0&&X===Oa&&($f=!0),tt!==null&&(tt=tt.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var It=n,Dt=S;X=s;var _e=a;switch(Dt.tag){case 1:if(It=Dt.payload,typeof It=="function"){nt=It.call(_e,nt,X);break t}nt=It;break t;case 3:It.flags=It.flags&-65537|128;case 0:if(It=Dt.payload,X=typeof It=="function"?It.call(_e,nt,X):It,X==null)break t;nt=y({},nt,X);break t;case 2:Ps=!0}}X=S.callback,X!==null&&(n.flags|=64,$&&(n.flags|=8192),$=f.callbacks,$===null?f.callbacks=[X]:$.push(X))}else $={lane:X,tag:S.tag,payload:S.payload,callback:S.callback,next:null},tt===null?(Y=tt=$,M=nt):tt=tt.next=$,E|=X;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;$=S,S=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);tt===null&&(M=nt),f.baseState=M,f.firstBaseUpdate=Y,f.lastBaseUpdate=tt,p===null&&(f.shared.lanes=0),Gs|=E,n.lanes=E,n.memoizedState=nt}}function ky(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function Ly(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)ky(a[n],s)}var ka=rt(null),lc=rt(0);function jy(n,s){n=Ts,ut(lc,n),ut(ka,s),Ts=n|s.baseLanes}function Zf(){ut(lc,Ts),ut(ka,ka.current)}function Wf(){Ts=lc.current,ht(ka),ht(lc)}var js=0,Ht=null,ye=null,Ye=null,uc=!1,La=!1,Kr=!1,cc=0,ul=0,ja=null,sx=0;function je(){throw Error(r(321))}function Jf(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!Fn(n[a],s[a]))return!1;return!0}function td(n,s,a,l,f,p){return js=p,Ht=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,W.H=n===null||n.memoizedState===null?bv:Ev,Kr=!1,p=a(l,f),Kr=!1,La&&(p=Uy(s,a,l,f)),By(n),p}function By(n){W.H=gc;var s=ye!==null&&ye.next!==null;if(js=0,Ye=ye=Ht=null,uc=!1,ul=0,ja=null,s)throw Error(r(300));n===null||an||(n=n.dependencies,n!==null&&ic(n)&&(an=!0))}function Uy(n,s,a,l){Ht=n;var f=0;do{if(La&&(ja=null),ul=0,La=!1,25<=f)throw Error(r(301));if(f+=1,Ye=ye=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}W.H=hx,p=s(a,l)}while(La);return p}function rx(){var n=W.H,s=n.useState()[0];return s=typeof s.then=="function"?cl(s):s,n=n.useState()[0],(ye!==null?ye.memoizedState:null)!==n&&(Ht.flags|=1024),s}function ed(){var n=cc!==0;return cc=0,n}function nd(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function id(n){if(uc){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}uc=!1}js=0,Ye=ye=Ht=null,La=!1,ul=cc=0,ja=null}function On(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?Ht.memoizedState=Ye=n:Ye=Ye.next=n,Ye}function Ke(){if(ye===null){var n=Ht.alternate;n=n!==null?n.memoizedState:null}else n=ye.next;var s=Ye===null?Ht.memoizedState:Ye.next;if(s!==null)Ye=s,ye=n;else{if(n===null)throw Ht.alternate===null?Error(r(467)):Error(r(310));ye=n,n={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},Ye===null?Ht.memoizedState=Ye=n:Ye=Ye.next=n}return Ye}function sd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(n){var s=ul;return ul+=1,ja===null&&(ja=[]),n=Iy(ja,n,s),s=Ht,(Ye===null?s.memoizedState:Ye.next)===null&&(s=s.alternate,W.H=s===null||s.memoizedState===null?bv:Ev),n}function hc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return cl(n);if(n.$$typeof===Q)return bn(n)}throw Error(r(438,String(n)))}function rd(n){var s=null,a=Ht.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Ht.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=sd(),Ht.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),l=0;l<n;l++)a[l]=O;return s.index++,a}function ms(n,s){return typeof s=="function"?s(n):s}function fc(n){var s=Ke();return ad(s,ye,n)}function ad(n,s,a){var l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=n.baseQueue,p=l.pending;if(p!==null){if(f!==null){var E=f.next;f.next=p.next,p.next=E}s.baseQueue=f=p,l.pending=null}if(p=n.baseState,f===null)n.memoizedState=p;else{s=f.next;var S=E=null,M=null,Y=s,tt=!1;do{var nt=Y.lane&-536870913;if(nt!==Y.lane?(Jt&nt)===nt:(js&nt)===nt){var X=Y.revertLane;if(X===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),nt===Oa&&(tt=!0);else if((js&X)===X){Y=Y.next,X===Oa&&(tt=!0);continue}else nt={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},M===null?(S=M=nt,E=p):M=M.next=nt,Ht.lanes|=X,Gs|=X;nt=Y.action,Kr&&a(p,nt),p=Y.hasEagerState?Y.eagerState:a(p,nt)}else X={lane:nt,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},M===null?(S=M=X,E=p):M=M.next=X,Ht.lanes|=nt,Gs|=nt;Y=Y.next}while(Y!==null&&Y!==s);if(M===null?E=p:M.next=S,!Fn(p,n.memoizedState)&&(an=!0,tt&&(a=Pa,a!==null)))throw a;n.memoizedState=p,n.baseState=E,n.baseQueue=M,l.lastRenderedState=p}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function od(n){var s=Ke(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,p=s.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do p=n(p,E.action),E=E.next;while(E!==f);Fn(p,s.memoizedState)||(an=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),a.lastRenderedState=p}return[p,l]}function zy(n,s,a){var l=Ht,f=Ke(),p=re;if(p){if(a===void 0)throw Error(r(407));a=a()}else a=s();var E=!Fn((ye||f).memoizedState,a);E&&(f.memoizedState=a,an=!0),f=f.queue;var S=qy.bind(null,l,f,n);if(hl(2048,8,S,[n]),f.getSnapshot!==s||E||Ye!==null&&Ye.memoizedState.tag&1){if(l.flags|=2048,Ba(9,dc(),Fy.bind(null,l,f,a,s),null),Ee===null)throw Error(r(349));p||(js&124)!==0||Hy(l,s,a)}return a}function Hy(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=Ht.updateQueue,s===null?(s=sd(),Ht.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function Fy(n,s,a,l){s.value=a,s.getSnapshot=l,Gy(s)&&Yy(n)}function qy(n,s,a){return a(function(){Gy(s)&&Yy(n)})}function Gy(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!Fn(n,a)}catch{return!0}}function Yy(n){var s=Va(n,2);s!==null&&Xn(s,n,2)}function ld(n){var s=On();if(typeof n=="function"){var a=n;if(n=a(),Kr){qe(!0);try{a()}finally{qe(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:n},s}function Ky(n,s,a,l){return n.baseState=a,ad(n,ye,typeof l=="function"?l:ms)}function ax(n,s,a,l,f){if(pc(n))throw Error(r(485));if(n=s.action,n!==null){var p={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};W.T!==null?a(!0):p.isTransition=!1,l(p),a=s.pending,a===null?(p.next=s.pending=p,Qy(s,p)):(p.next=a.next,s.pending=a.next=p)}}function Qy(n,s){var a=s.action,l=s.payload,f=n.state;if(s.isTransition){var p=W.T,E={};W.T=E;try{var S=a(f,l),M=W.S;M!==null&&M(E,S),Xy(n,s,S)}catch(Y){ud(n,s,Y)}finally{W.T=p}}else try{p=a(f,l),Xy(n,s,p)}catch(Y){ud(n,s,Y)}}function Xy(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){$y(n,s,l)},function(l){return ud(n,s,l)}):$y(n,s,a)}function $y(n,s,a){s.status="fulfilled",s.value=a,Zy(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,Qy(n,a)))}function ud(n,s,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,Zy(s),s=s.next;while(s!==l)}n.action=null}function Zy(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function Wy(n,s){return s}function Jy(n,s){if(re){var a=Ee.formState;if(a!==null){t:{var l=Ht;if(re){if(Ne){e:{for(var f=Ne,p=Ii;f.nodeType!==8;){if(!p){f=null;break e}if(f=Ti(f.nextSibling),f===null){f=null;break e}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){Ne=Ti(f.nextSibling),l=f.data==="F!";break t}}Fr(l)}l=!1}l&&(s=a[0])}}return a=On(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wy,lastRenderedState:s},a.queue=l,a=vv.bind(null,Ht,l),l.dispatch=a,l=ld(!1),p=md.bind(null,Ht,!1,l.queue),l=On(),f={state:s,dispatch:null,action:n,pending:null},l.queue=f,a=ax.bind(null,Ht,f,p,a),f.dispatch=a,l.memoizedState=n,[s,a,!1]}function tv(n){var s=Ke();return ev(s,ye,n)}function ev(n,s,a){if(s=ad(n,s,Wy)[0],n=fc(ms)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=cl(s)}catch(E){throw E===sl?ac:E}else l=s;s=Ke();var f=s.queue,p=f.dispatch;return a!==s.memoizedState&&(Ht.flags|=2048,Ba(9,dc(),ox.bind(null,f,a),null)),[l,p,n]}function ox(n,s){n.action=s}function nv(n){var s=Ke(),a=ye;if(a!==null)return ev(s,a,n);Ke(),s=s.memoizedState,a=Ke();var l=a.queue.dispatch;return a.memoizedState=n,[s,l,!1]}function Ba(n,s,a,l){return n={tag:n,create:a,deps:l,inst:s,next:null},s=Ht.updateQueue,s===null&&(s=sd(),Ht.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,s.lastEffect=n),n}function dc(){return{destroy:void 0,resource:void 0}}function iv(){return Ke().memoizedState}function mc(n,s,a,l){var f=On();l=l===void 0?null:l,Ht.flags|=n,f.memoizedState=Ba(1|s,dc(),a,l)}function hl(n,s,a,l){var f=Ke();l=l===void 0?null:l;var p=f.memoizedState.inst;ye!==null&&l!==null&&Jf(l,ye.memoizedState.deps)?f.memoizedState=Ba(s,p,a,l):(Ht.flags|=n,f.memoizedState=Ba(1|s,p,a,l))}function sv(n,s){mc(8390656,8,n,s)}function rv(n,s){hl(2048,8,n,s)}function av(n,s){return hl(4,2,n,s)}function ov(n,s){return hl(4,4,n,s)}function lv(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function uv(n,s,a){a=a!=null?a.concat([n]):null,hl(4,4,lv.bind(null,s,n),a)}function cd(){}function cv(n,s){var a=Ke();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Jf(s,l[1])?l[0]:(a.memoizedState=[n,s],n)}function hv(n,s){var a=Ke();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Jf(s,l[1]))return l[0];if(l=n(),Kr){qe(!0);try{n()}finally{qe(!1)}}return a.memoizedState=[l,s],l}function hd(n,s,a){return a===void 0||(js&1073741824)!==0?n.memoizedState=s:(n.memoizedState=a,n=m0(),Ht.lanes|=n,Gs|=n,a)}function fv(n,s,a,l){return Fn(a,s)?a:ka.current!==null?(n=hd(n,a,l),Fn(n,s)||(an=!0),n):(js&42)===0?(an=!0,n.memoizedState=a):(n=m0(),Ht.lanes|=n,Gs|=n,s)}function dv(n,s,a,l,f){var p=at.p;at.p=p!==0&&8>p?p:8;var E=W.T,S={};W.T=S,md(n,!1,s,a);try{var M=f(),Y=W.S;if(Y!==null&&Y(S,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var tt=ix(M,l);fl(n,s,tt,Qn(n))}else fl(n,s,l,Qn(n))}catch(nt){fl(n,s,{then:function(){},status:"rejected",reason:nt},Qn())}finally{at.p=p,W.T=E}}function lx(){}function fd(n,s,a,l){if(n.tag!==5)throw Error(r(476));var f=mv(n).queue;dv(n,f,s,ft,a===null?lx:function(){return pv(n),a(l)})}function mv(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:ft},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function pv(n){var s=mv(n).next.queue;fl(n,s,{},Qn())}function dd(){return bn(Vl)}function gv(){return Ke().memoizedState}function yv(){return Ke().memoizedState}function ux(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=Qn();n=ks(a);var l=Ls(s,n,a);l!==null&&(Xn(l,s,a),al(l,s,a)),s={cache:Ff()},n.payload=s;return}s=s.return}}function cx(n,s,a){var l=Qn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},pc(n)?_v(s,a):(a=If(n,s,a,l),a!==null&&(Xn(a,n,l),Tv(a,s,l)))}function vv(n,s,a){var l=Qn();fl(n,s,a,l)}function fl(n,s,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(pc(n))_v(s,f);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var E=s.lastRenderedState,S=p(E,a);if(f.hasEagerState=!0,f.eagerState=S,Fn(S,E))return Wu(n,s,f,0),Ee===null&&Zu(),!1}catch{}finally{}if(a=If(n,s,f,l),a!==null)return Xn(a,n,l),Tv(a,s,l),!0}return!1}function md(n,s,a,l){if(l={lane:2,revertLane:Yd(),action:l,hasEagerState:!1,eagerState:null,next:null},pc(n)){if(s)throw Error(r(479))}else s=If(n,a,l,2),s!==null&&Xn(s,n,2)}function pc(n){var s=n.alternate;return n===Ht||s!==null&&s===Ht}function _v(n,s){La=uc=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function Tv(n,s,a){if((a&4194048)!==0){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,kt(n,a)}}var gc={readContext:bn,use:hc,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useLayoutEffect:je,useInsertionEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useSyncExternalStore:je,useId:je,useHostTransitionStatus:je,useFormState:je,useActionState:je,useOptimistic:je,useMemoCache:je,useCacheRefresh:je},bv={readContext:bn,use:hc,useCallback:function(n,s){return On().memoizedState=[n,s===void 0?null:s],n},useContext:bn,useEffect:sv,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,mc(4194308,4,lv.bind(null,s,n),a)},useLayoutEffect:function(n,s){return mc(4194308,4,n,s)},useInsertionEffect:function(n,s){mc(4,2,n,s)},useMemo:function(n,s){var a=On();s=s===void 0?null:s;var l=n();if(Kr){qe(!0);try{n()}finally{qe(!1)}}return a.memoizedState=[l,s],l},useReducer:function(n,s,a){var l=On();if(a!==void 0){var f=a(s);if(Kr){qe(!0);try{a(s)}finally{qe(!1)}}}else f=s;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=cx.bind(null,Ht,n),[l.memoizedState,n]},useRef:function(n){var s=On();return n={current:n},s.memoizedState=n},useState:function(n){n=ld(n);var s=n.queue,a=vv.bind(null,Ht,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:cd,useDeferredValue:function(n,s){var a=On();return hd(a,n,s)},useTransition:function(){var n=ld(!1);return n=dv.bind(null,Ht,n.queue,!0,!1),On().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var l=Ht,f=On();if(re){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),Ee===null)throw Error(r(349));(Jt&124)!==0||Hy(l,s,a)}f.memoizedState=a;var p={value:a,getSnapshot:s};return f.queue=p,sv(qy.bind(null,l,p,n),[n]),l.flags|=2048,Ba(9,dc(),Fy.bind(null,l,p,a,s),null),a},useId:function(){var n=On(),s=Ee.identifierPrefix;if(re){var a=hs,l=cs;a=(l&~(1<<32-Xe(l)-1)).toString(32)+a,s="«"+s+"R"+a,a=cc++,0<a&&(s+="H"+a.toString(32)),s+="»"}else a=sx++,s="«"+s+"r"+a.toString(32)+"»";return n.memoizedState=s},useHostTransitionStatus:dd,useFormState:Jy,useActionState:Jy,useOptimistic:function(n){var s=On();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=md.bind(null,Ht,!0,a),a.dispatch=s,[n,s]},useMemoCache:rd,useCacheRefresh:function(){return On().memoizedState=ux.bind(null,Ht)}},Ev={readContext:bn,use:hc,useCallback:cv,useContext:bn,useEffect:rv,useImperativeHandle:uv,useInsertionEffect:av,useLayoutEffect:ov,useMemo:hv,useReducer:fc,useRef:iv,useState:function(){return fc(ms)},useDebugValue:cd,useDeferredValue:function(n,s){var a=Ke();return fv(a,ye.memoizedState,n,s)},useTransition:function(){var n=fc(ms)[0],s=Ke().memoizedState;return[typeof n=="boolean"?n:cl(n),s]},useSyncExternalStore:zy,useId:gv,useHostTransitionStatus:dd,useFormState:tv,useActionState:tv,useOptimistic:function(n,s){var a=Ke();return Ky(a,ye,n,s)},useMemoCache:rd,useCacheRefresh:yv},hx={readContext:bn,use:hc,useCallback:cv,useContext:bn,useEffect:rv,useImperativeHandle:uv,useInsertionEffect:av,useLayoutEffect:ov,useMemo:hv,useReducer:od,useRef:iv,useState:function(){return od(ms)},useDebugValue:cd,useDeferredValue:function(n,s){var a=Ke();return ye===null?hd(a,n,s):fv(a,ye.memoizedState,n,s)},useTransition:function(){var n=od(ms)[0],s=Ke().memoizedState;return[typeof n=="boolean"?n:cl(n),s]},useSyncExternalStore:zy,useId:gv,useHostTransitionStatus:dd,useFormState:nv,useActionState:nv,useOptimistic:function(n,s){var a=Ke();return ye!==null?Ky(a,ye,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:rd,useCacheRefresh:yv},Ua=null,dl=0;function yc(n){var s=dl;return dl+=1,Ua===null&&(Ua=[]),Iy(Ua,n,s)}function ml(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function vc(n,s){throw s.$$typeof===_?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function Sv(n){var s=n._init;return s(n._payload)}function Av(n){function s(H,B){if(n){var G=H.deletions;G===null?(H.deletions=[B],H.flags|=16):G.push(B)}}function a(H,B){if(!n)return null;for(;B!==null;)s(H,B),B=B.sibling;return null}function l(H){for(var B=new Map;H!==null;)H.key!==null?B.set(H.key,H):B.set(H.index,H),H=H.sibling;return B}function f(H,B){return H=us(H,B),H.index=0,H.sibling=null,H}function p(H,B,G){return H.index=G,n?(G=H.alternate,G!==null?(G=G.index,G<B?(H.flags|=67108866,B):G):(H.flags|=67108866,B)):(H.flags|=1048576,B)}function E(H){return n&&H.alternate===null&&(H.flags|=67108866),H}function S(H,B,G,et){return B===null||B.tag!==6?(B=Pf(G,H.mode,et),B.return=H,B):(B=f(B,G),B.return=H,B)}function M(H,B,G,et){var _t=G.type;return _t===C?tt(H,B,G.props.children,et,G.key):B!==null&&(B.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===R&&Sv(_t)===B.type)?(B=f(B,G.props),ml(B,G),B.return=H,B):(B=tc(G.type,G.key,G.props,null,H.mode,et),ml(B,G),B.return=H,B)}function Y(H,B,G,et){return B===null||B.tag!==4||B.stateNode.containerInfo!==G.containerInfo||B.stateNode.implementation!==G.implementation?(B=kf(G,H.mode,et),B.return=H,B):(B=f(B,G.children||[]),B.return=H,B)}function tt(H,B,G,et,_t){return B===null||B.tag!==7?(B=Br(G,H.mode,et,_t),B.return=H,B):(B=f(B,G),B.return=H,B)}function nt(H,B,G){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Pf(""+B,H.mode,G),B.return=H,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return G=tc(B.type,B.key,B.props,null,H.mode,G),ml(G,B),G.return=H,G;case w:return B=kf(B,H.mode,G),B.return=H,B;case R:var et=B._init;return B=et(B._payload),nt(H,B,G)}if(Xt(B)||z(B))return B=Br(B,H.mode,G,null),B.return=H,B;if(typeof B.then=="function")return nt(H,yc(B),G);if(B.$$typeof===Q)return nt(H,sc(H,B),G);vc(H,B)}return null}function X(H,B,G,et){var _t=B!==null?B.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return _t!==null?null:S(H,B,""+G,et);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case b:return G.key===_t?M(H,B,G,et):null;case w:return G.key===_t?Y(H,B,G,et):null;case R:return _t=G._init,G=_t(G._payload),X(H,B,G,et)}if(Xt(G)||z(G))return _t!==null?null:tt(H,B,G,et,null);if(typeof G.then=="function")return X(H,B,yc(G),et);if(G.$$typeof===Q)return X(H,B,sc(H,G),et);vc(H,G)}return null}function $(H,B,G,et,_t){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return H=H.get(G)||null,S(B,H,""+et,_t);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case b:return H=H.get(et.key===null?G:et.key)||null,M(B,H,et,_t);case w:return H=H.get(et.key===null?G:et.key)||null,Y(B,H,et,_t);case R:var Gt=et._init;return et=Gt(et._payload),$(H,B,G,et,_t)}if(Xt(et)||z(et))return H=H.get(G)||null,tt(B,H,et,_t,null);if(typeof et.then=="function")return $(H,B,G,yc(et),_t);if(et.$$typeof===Q)return $(H,B,G,sc(B,et),_t);vc(B,et)}return null}function It(H,B,G,et){for(var _t=null,Gt=null,St=B,Mt=B=0,ln=null;St!==null&&Mt<G.length;Mt++){St.index>Mt?(ln=St,St=null):ln=St.sibling;var se=X(H,St,G[Mt],et);if(se===null){St===null&&(St=ln);break}n&&St&&se.alternate===null&&s(H,St),B=p(se,B,Mt),Gt===null?_t=se:Gt.sibling=se,Gt=se,St=ln}if(Mt===G.length)return a(H,St),re&&zr(H,Mt),_t;if(St===null){for(;Mt<G.length;Mt++)St=nt(H,G[Mt],et),St!==null&&(B=p(St,B,Mt),Gt===null?_t=St:Gt.sibling=St,Gt=St);return re&&zr(H,Mt),_t}for(St=l(St);Mt<G.length;Mt++)ln=$(St,H,Mt,G[Mt],et),ln!==null&&(n&&ln.alternate!==null&&St.delete(ln.key===null?Mt:ln.key),B=p(ln,B,Mt),Gt===null?_t=ln:Gt.sibling=ln,Gt=ln);return n&&St.forEach(function(tr){return s(H,tr)}),re&&zr(H,Mt),_t}function Dt(H,B,G,et){if(G==null)throw Error(r(151));for(var _t=null,Gt=null,St=B,Mt=B=0,ln=null,se=G.next();St!==null&&!se.done;Mt++,se=G.next()){St.index>Mt?(ln=St,St=null):ln=St.sibling;var tr=X(H,St,se.value,et);if(tr===null){St===null&&(St=ln);break}n&&St&&tr.alternate===null&&s(H,St),B=p(tr,B,Mt),Gt===null?_t=tr:Gt.sibling=tr,Gt=tr,St=ln}if(se.done)return a(H,St),re&&zr(H,Mt),_t;if(St===null){for(;!se.done;Mt++,se=G.next())se=nt(H,se.value,et),se!==null&&(B=p(se,B,Mt),Gt===null?_t=se:Gt.sibling=se,Gt=se);return re&&zr(H,Mt),_t}for(St=l(St);!se.done;Mt++,se=G.next())se=$(St,H,Mt,se.value,et),se!==null&&(n&&se.alternate!==null&&St.delete(se.key===null?Mt:se.key),B=p(se,B,Mt),Gt===null?_t=se:Gt.sibling=se,Gt=se);return n&&St.forEach(function(fw){return s(H,fw)}),re&&zr(H,Mt),_t}function _e(H,B,G,et){if(typeof G=="object"&&G!==null&&G.type===C&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case b:t:{for(var _t=G.key;B!==null;){if(B.key===_t){if(_t=G.type,_t===C){if(B.tag===7){a(H,B.sibling),et=f(B,G.props.children),et.return=H,H=et;break t}}else if(B.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===R&&Sv(_t)===B.type){a(H,B.sibling),et=f(B,G.props),ml(et,G),et.return=H,H=et;break t}a(H,B);break}else s(H,B);B=B.sibling}G.type===C?(et=Br(G.props.children,H.mode,et,G.key),et.return=H,H=et):(et=tc(G.type,G.key,G.props,null,H.mode,et),ml(et,G),et.return=H,H=et)}return E(H);case w:t:{for(_t=G.key;B!==null;){if(B.key===_t)if(B.tag===4&&B.stateNode.containerInfo===G.containerInfo&&B.stateNode.implementation===G.implementation){a(H,B.sibling),et=f(B,G.children||[]),et.return=H,H=et;break t}else{a(H,B);break}else s(H,B);B=B.sibling}et=kf(G,H.mode,et),et.return=H,H=et}return E(H);case R:return _t=G._init,G=_t(G._payload),_e(H,B,G,et)}if(Xt(G))return It(H,B,G,et);if(z(G)){if(_t=z(G),typeof _t!="function")throw Error(r(150));return G=_t.call(G),Dt(H,B,G,et)}if(typeof G.then=="function")return _e(H,B,yc(G),et);if(G.$$typeof===Q)return _e(H,B,sc(H,G),et);vc(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,B!==null&&B.tag===6?(a(H,B.sibling),et=f(B,G),et.return=H,H=et):(a(H,B),et=Pf(G,H.mode,et),et.return=H,H=et),E(H)):a(H,B)}return function(H,B,G,et){try{dl=0;var _t=_e(H,B,G,et);return Ua=null,_t}catch(St){if(St===sl||St===ac)throw St;var Gt=qn(29,St,null,H.mode);return Gt.lanes=et,Gt.return=H,Gt}finally{}}}var za=Av(!0),xv=Av(!1),li=rt(null),Oi=null;function Bs(n){var s=n.alternate;ut(Je,Je.current&1),ut(li,n),Oi===null&&(s===null||ka.current!==null||s.memoizedState!==null)&&(Oi=n)}function wv(n){if(n.tag===22){if(ut(Je,Je.current),ut(li,n),Oi===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(Oi=n)}}else Us()}function Us(){ut(Je,Je.current),ut(li,li.current)}function ps(n){ht(li),Oi===n&&(Oi=null),ht(Je)}var Je=rt(0);function _c(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||sm(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function pd(n,s,a,l){s=n.memoizedState,a=a(l,s),a=a==null?s:y({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var gd={enqueueSetState:function(n,s,a){n=n._reactInternals;var l=Qn(),f=ks(l);f.payload=s,a!=null&&(f.callback=a),s=Ls(n,f,l),s!==null&&(Xn(s,n,l),al(s,n,l))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var l=Qn(),f=ks(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Ls(n,f,l),s!==null&&(Xn(s,n,l),al(s,n,l))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=Qn(),l=ks(a);l.tag=2,s!=null&&(l.callback=s),s=Ls(n,l,a),s!==null&&(Xn(s,n,a),al(s,n,a))}};function Rv(n,s,a,l,f,p,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,p,E):s.prototype&&s.prototype.isPureReactComponent?!$o(a,l)||!$o(f,p):!0}function Cv(n,s,a,l){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==n&&gd.enqueueReplaceState(s,s.state,null)}function Qr(n,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(n=n.defaultProps){a===s&&(a=y({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Tc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Dv(n){Tc(n)}function Vv(n){console.error(n)}function Mv(n){Tc(n)}function bc(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function Nv(n,s,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function yd(n,s,a){return a=ks(a),a.tag=3,a.payload={element:null},a.callback=function(){bc(n,s)},a}function Iv(n){return n=ks(n),n.tag=3,n}function Ov(n,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var p=l.value;n.payload=function(){return f(p)},n.callback=function(){Nv(s,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){Nv(s,a,l),typeof f!="function"&&(Ys===null?Ys=new Set([this]):Ys.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function fx(n,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&el(s,a,f,!0),a=li.current,a!==null){switch(a.tag){case 13:return Oi===null?zd():a.alternate===null&&Ie===0&&(Ie=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Yf?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Fd(n,l,f)),!1;case 22:return a.flags|=65536,l===Yf?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Fd(n,l,f)),!1}throw Error(r(435,a.tag))}return Fd(n,l,f),zd(),!1}if(re)return s=li.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==Bf&&(n=Error(r(422),{cause:l}),tl(si(n,a)))):(l!==Bf&&(s=Error(r(423),{cause:l}),tl(si(s,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=si(l,a),f=yd(n.stateNode,l,f),Xf(n,f),Ie!==4&&(Ie=2)),!1;var p=Error(r(520),{cause:l});if(p=si(p,a),bl===null?bl=[p]:bl.push(p),Ie!==4&&(Ie=2),s===null)return!0;l=si(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=yd(a.stateNode,l,n),Xf(a,n),!1;case 1:if(s=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ys===null||!Ys.has(p))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Iv(f),Ov(f,n,a,l),Xf(a,f),!1}a=a.return}while(a!==null);return!1}var Pv=Error(r(461)),an=!1;function fn(n,s,a,l){s.child=n===null?xv(s,null,a,l):za(s,n.child,a,l)}function kv(n,s,a,l,f){a=a.render;var p=s.ref;if("ref"in l){var E={};for(var S in l)S!=="ref"&&(E[S]=l[S])}else E=l;return Gr(s),l=td(n,s,a,E,p,f),S=ed(),n!==null&&!an?(nd(n,s,f),gs(n,s,f)):(re&&S&&Lf(s),s.flags|=1,fn(n,s,l,f),s.child)}function Lv(n,s,a,l,f){if(n===null){var p=a.type;return typeof p=="function"&&!Of(p)&&p.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=p,jv(n,s,p,l,f)):(n=tc(a.type,null,l,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(p=n.child,!xd(n,f)){var E=p.memoizedProps;if(a=a.compare,a=a!==null?a:$o,a(E,l)&&n.ref===s.ref)return gs(n,s,f)}return s.flags|=1,n=us(p,l),n.ref=s.ref,n.return=s,s.child=n}function jv(n,s,a,l,f){if(n!==null){var p=n.memoizedProps;if($o(p,l)&&n.ref===s.ref)if(an=!1,s.pendingProps=l=p,xd(n,f))(n.flags&131072)!==0&&(an=!0);else return s.lanes=n.lanes,gs(n,s,f)}return vd(n,s,a,l,f)}function Bv(n,s,a){var l=s.pendingProps,f=l.children,p=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((s.flags&128)!==0){if(l=p!==null?p.baseLanes|a:a,n!==null){for(f=s.child=n.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;s.childLanes=p&~l}else s.childLanes=0,s.child=null;return Uv(n,s,l,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&rc(s,p!==null?p.cachePool:null),p!==null?jy(s,p):Zf(),wv(s);else return s.lanes=s.childLanes=536870912,Uv(n,s,p!==null?p.baseLanes|a:a,a)}else p!==null?(rc(s,p.cachePool),jy(s,p),Us(),s.memoizedState=null):(n!==null&&rc(s,null),Zf(),Us());return fn(n,s,f,a),s.child}function Uv(n,s,a,l){var f=Gf();return f=f===null?null:{parent:We._currentValue,pool:f},s.memoizedState={baseLanes:a,cachePool:f},n!==null&&rc(s,null),Zf(),wv(s),n!==null&&el(n,s,l,!0),null}function Ec(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function vd(n,s,a,l,f){return Gr(s),a=td(n,s,a,l,void 0,f),l=ed(),n!==null&&!an?(nd(n,s,f),gs(n,s,f)):(re&&l&&Lf(s),s.flags|=1,fn(n,s,a,f),s.child)}function zv(n,s,a,l,f,p){return Gr(s),s.updateQueue=null,a=Uy(s,l,a,f),By(n),l=ed(),n!==null&&!an?(nd(n,s,p),gs(n,s,p)):(re&&l&&Lf(s),s.flags|=1,fn(n,s,a,p),s.child)}function Hv(n,s,a,l,f){if(Gr(s),s.stateNode===null){var p=Ma,E=a.contextType;typeof E=="object"&&E!==null&&(p=bn(E)),p=new a(l,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=gd,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=l,p.state=s.memoizedState,p.refs={},Kf(s),E=a.contextType,p.context=typeof E=="object"&&E!==null?bn(E):Ma,p.state=s.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(pd(s,a,E,l),p.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&gd.enqueueReplaceState(p,p.state,null),ll(s,l,p,f),ol(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(n===null){p=s.stateNode;var S=s.memoizedProps,M=Qr(a,S);p.props=M;var Y=p.context,tt=a.contextType;E=Ma,typeof tt=="object"&&tt!==null&&(E=bn(tt));var nt=a.getDerivedStateFromProps;tt=typeof nt=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,tt||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||Y!==E)&&Cv(s,p,l,E),Ps=!1;var X=s.memoizedState;p.state=X,ll(s,l,p,f),ol(),Y=s.memoizedState,S||X!==Y||Ps?(typeof nt=="function"&&(pd(s,a,nt,l),Y=s.memoizedState),(M=Ps||Rv(s,a,M,l,X,Y,E))?(tt||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=Y),p.props=l,p.state=Y,p.context=E,l=M):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{p=s.stateNode,Qf(n,s),E=s.memoizedProps,tt=Qr(a,E),p.props=tt,nt=s.pendingProps,X=p.context,Y=a.contextType,M=Ma,typeof Y=="object"&&Y!==null&&(M=bn(Y)),S=a.getDerivedStateFromProps,(Y=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==nt||X!==M)&&Cv(s,p,l,M),Ps=!1,X=s.memoizedState,p.state=X,ll(s,l,p,f),ol();var $=s.memoizedState;E!==nt||X!==$||Ps||n!==null&&n.dependencies!==null&&ic(n.dependencies)?(typeof S=="function"&&(pd(s,a,S,l),$=s.memoizedState),(tt=Ps||Rv(s,a,tt,l,X,$,M)||n!==null&&n.dependencies!==null&&ic(n.dependencies))?(Y||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,$,M),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,$,M)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===n.memoizedProps&&X===n.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&X===n.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=$),p.props=l,p.state=$,p.context=M,l=tt):(typeof p.componentDidUpdate!="function"||E===n.memoizedProps&&X===n.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&X===n.memoizedState||(s.flags|=1024),l=!1)}return p=l,Ec(n,s),l=(s.flags&128)!==0,p||l?(p=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,n!==null&&l?(s.child=za(s,n.child,null,f),s.child=za(s,null,a,f)):fn(n,s,a,f),s.memoizedState=p.state,n=s.child):n=gs(n,s,f),n}function Fv(n,s,a,l){return Jo(),s.flags|=256,fn(n,s,a,l),s.child}var _d={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Td(n){return{baseLanes:n,cachePool:Vy()}}function bd(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=ui),n}function qv(n,s,a){var l=s.pendingProps,f=!1,p=(s.flags&128)!==0,E;if((E=p)||(E=n!==null&&n.memoizedState===null?!1:(Je.current&2)!==0),E&&(f=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,n===null){if(re){if(f?Bs(s):Us(),re){var S=Ne,M;if(M=S){t:{for(M=S,S=Ii;M.nodeType!==8;){if(!S){S=null;break t}if(M=Ti(M.nextSibling),M===null){S=null;break t}}S=M}S!==null?(s.memoizedState={dehydrated:S,treeContext:Ur!==null?{id:cs,overflow:hs}:null,retryLane:536870912,hydrationErrors:null},M=qn(18,null,null,0),M.stateNode=S,M.return=s,s.child=M,Mn=s,Ne=null,M=!0):M=!1}M||Fr(s)}if(S=s.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return sm(S)?s.lanes=32:s.lanes=536870912,null;ps(s)}return S=l.children,l=l.fallback,f?(Us(),f=s.mode,S=Sc({mode:"hidden",children:S},f),l=Br(l,f,a,null),S.return=s,l.return=s,S.sibling=l,s.child=S,f=s.child,f.memoizedState=Td(a),f.childLanes=bd(n,E,a),s.memoizedState=_d,l):(Bs(s),Ed(s,S))}if(M=n.memoizedState,M!==null&&(S=M.dehydrated,S!==null)){if(p)s.flags&256?(Bs(s),s.flags&=-257,s=Sd(n,s,a)):s.memoizedState!==null?(Us(),s.child=n.child,s.flags|=128,s=null):(Us(),f=l.fallback,S=s.mode,l=Sc({mode:"visible",children:l.children},S),f=Br(f,S,a,null),f.flags|=2,l.return=s,f.return=s,l.sibling=f,s.child=l,za(s,n.child,null,a),l=s.child,l.memoizedState=Td(a),l.childLanes=bd(n,E,a),s.memoizedState=_d,s=f);else if(Bs(s),sm(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var Y=E.dgst;E=Y,l=Error(r(419)),l.stack="",l.digest=E,tl({value:l,source:null,stack:null}),s=Sd(n,s,a)}else if(an||el(n,s,a,!1),E=(a&n.childLanes)!==0,an||E){if(E=Ee,E!==null&&(l=a&-a,l=(l&42)!==0?1:oe(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==M.retryLane))throw M.retryLane=l,Va(n,l),Xn(E,n,l),Pv;S.data==="$?"||zd(),s=Sd(n,s,a)}else S.data==="$?"?(s.flags|=192,s.child=n.child,s=null):(n=M.treeContext,Ne=Ti(S.nextSibling),Mn=s,re=!0,Hr=null,Ii=!1,n!==null&&(ai[oi++]=cs,ai[oi++]=hs,ai[oi++]=Ur,cs=n.id,hs=n.overflow,Ur=s),s=Ed(s,l.children),s.flags|=4096);return s}return f?(Us(),f=l.fallback,S=s.mode,M=n.child,Y=M.sibling,l=us(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&65011712,Y!==null?f=us(Y,f):(f=Br(f,S,a,null),f.flags|=2),f.return=s,l.return=s,l.sibling=f,s.child=l,l=f,f=s.child,S=n.child.memoizedState,S===null?S=Td(a):(M=S.cachePool,M!==null?(Y=We._currentValue,M=M.parent!==Y?{parent:Y,pool:Y}:M):M=Vy(),S={baseLanes:S.baseLanes|a,cachePool:M}),f.memoizedState=S,f.childLanes=bd(n,E,a),s.memoizedState=_d,l):(Bs(s),a=n.child,n=a.sibling,a=us(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,n!==null&&(E=s.deletions,E===null?(s.deletions=[n],s.flags|=16):E.push(n)),s.child=a,s.memoizedState=null,a)}function Ed(n,s){return s=Sc({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Sc(n,s){return n=qn(22,n,null,s),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Sd(n,s,a){return za(s,n.child,null,a),n=Ed(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Gv(n,s,a){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s),zf(n.return,s,a)}function Ad(n,s,a,l,f){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(p.isBackwards=s,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=a,p.tailMode=f)}function Yv(n,s,a){var l=s.pendingProps,f=l.revealOrder,p=l.tail;if(fn(n,s,l.children,a),l=Je.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Gv(n,a,s);else if(n.tag===19)Gv(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break t;for(;n.sibling===null;){if(n.return===null||n.return===s)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(ut(Je,l),f){case"forwards":for(a=s.child,f=null;a!==null;)n=a.alternate,n!==null&&_c(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Ad(s,!1,f,a,p);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&_c(n)===null){s.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Ad(s,!0,a,null,p);break;case"together":Ad(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function gs(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),Gs|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(el(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,a=us(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=us(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function xd(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&ic(n)))}function dx(n,s,a){switch(s.tag){case 3:mt(s,s.stateNode.containerInfo),Os(s,We,n.memoizedState.cache),Jo();break;case 27:case 5:we(s);break;case 4:mt(s,s.stateNode.containerInfo);break;case 10:Os(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Bs(s),s.flags|=128,null):(a&s.child.childLanes)!==0?qv(n,s,a):(Bs(s),n=gs(n,s,a),n!==null?n.sibling:null);Bs(s);break;case 19:var f=(n.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(el(n,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return Yv(n,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ut(Je,Je.current),l)break;return null;case 22:case 23:return s.lanes=0,Bv(n,s,a);case 24:Os(s,We,n.memoizedState.cache)}return gs(n,s,a)}function Kv(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)an=!0;else{if(!xd(n,a)&&(s.flags&128)===0)return an=!1,dx(n,s,a);an=(n.flags&131072)!==0}else an=!1,re&&(s.flags&1048576)!==0&&Sy(s,nc,s.index);switch(s.lanes=0,s.tag){case 16:t:{n=s.pendingProps;var l=s.elementType,f=l._init;if(l=f(l._payload),s.type=l,typeof l=="function")Of(l)?(n=Qr(l,n),s.tag=1,s=Hv(null,s,l,n,a)):(s.tag=0,s=vd(null,s,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===lt){s.tag=11,s=kv(null,s,l,n,a);break t}else if(f===V){s.tag=14,s=Lv(null,s,l,n,a);break t}}throw s=he(l)||l,Error(r(306,s,""))}}return s;case 0:return vd(n,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=Qr(l,s.pendingProps),Hv(n,s,l,f,a);case 3:t:{if(mt(s,s.stateNode.containerInfo),n===null)throw Error(r(387));l=s.pendingProps;var p=s.memoizedState;f=p.element,Qf(n,s),ll(s,l,null,a);var E=s.memoizedState;if(l=E.cache,Os(s,We,l),l!==p.cache&&Hf(s,[We],a,!0),ol(),l=E.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=Fv(n,s,l,a);break t}else if(l!==f){f=si(Error(r(424)),s),tl(f),s=Fv(n,s,l,a);break t}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Ne=Ti(n.firstChild),Mn=s,re=!0,Hr=null,Ii=!0,a=xv(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Jo(),l===f){s=gs(n,s,a);break t}fn(n,s,l,a)}s=s.child}return s;case 26:return Ec(n,s),n===null?(a=Z0(s.type,null,s.pendingProps,null))?s.memoizedState=a:re||(a=s.type,n=s.pendingProps,l=Lc(wt.current).createElement(a),l[le]=s,l[Ae]=n,mn(l,a,n),Le(l),s.stateNode=l):s.memoizedState=Z0(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return we(s),n===null&&re&&(l=s.stateNode=Q0(s.type,s.pendingProps,wt.current),Mn=s,Ii=!0,f=Ne,Xs(s.type)?(rm=f,Ne=Ti(l.firstChild)):Ne=f),fn(n,s,s.pendingProps.children,a),Ec(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&re&&((f=l=Ne)&&(l=zx(l,s.type,s.pendingProps,Ii),l!==null?(s.stateNode=l,Mn=s,Ne=Ti(l.firstChild),Ii=!1,f=!0):f=!1),f||Fr(s)),we(s),f=s.type,p=s.pendingProps,E=n!==null?n.memoizedProps:null,l=p.children,em(f,p)?l=null:E!==null&&em(f,E)&&(s.flags|=32),s.memoizedState!==null&&(f=td(n,s,rx,null,null,a),Vl._currentValue=f),Ec(n,s),fn(n,s,l,a),s.child;case 6:return n===null&&re&&((n=a=Ne)&&(a=Hx(a,s.pendingProps,Ii),a!==null?(s.stateNode=a,Mn=s,Ne=null,n=!0):n=!1),n||Fr(s)),null;case 13:return qv(n,s,a);case 4:return mt(s,s.stateNode.containerInfo),l=s.pendingProps,n===null?s.child=za(s,null,l,a):fn(n,s,l,a),s.child;case 11:return kv(n,s,s.type,s.pendingProps,a);case 7:return fn(n,s,s.pendingProps,a),s.child;case 8:return fn(n,s,s.pendingProps.children,a),s.child;case 12:return fn(n,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Os(s,s.type,l.value),fn(n,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,Gr(s),f=bn(f),l=l(f),s.flags|=1,fn(n,s,l,a),s.child;case 14:return Lv(n,s,s.type,s.pendingProps,a);case 15:return jv(n,s,s.type,s.pendingProps,a);case 19:return Yv(n,s,a);case 31:return l=s.pendingProps,a=s.mode,l={mode:l.mode,children:l.children},n===null?(a=Sc(l,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=us(n.child,l),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return Bv(n,s,a);case 24:return Gr(s),l=bn(We),n===null?(f=Gf(),f===null&&(f=Ee,p=Ff(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=a),f=p),s.memoizedState={parent:l,cache:f},Kf(s),Os(s,We,f)):((n.lanes&a)!==0&&(Qf(n,s),ll(s,null,null,a),ol()),f=n.memoizedState,p=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Os(s,We,l)):(l=p.cache,Os(s,We,l),l!==f.cache&&Hf(s,[We],a,!0))),fn(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ys(n){n.flags|=4}function Qv(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!n_(s)){if(s=li.current,s!==null&&((Jt&4194048)===Jt?Oi!==null:(Jt&62914560)!==Jt&&(Jt&536870912)===0||s!==Oi))throw rl=Yf,My;n.flags|=8192}}function Ac(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?vt():536870912,n.lanes|=s,Ga|=s)}function pl(n,s){if(!re)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function Re(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(s)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,s}function mx(n,s,a){var l=s.pendingProps;switch(jf(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(s),null;case 1:return Re(s),null;case 3:return a=s.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ds(We),fe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Wo(s)?ys(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,wy())),Re(s),null;case 26:return a=s.memoizedState,n===null?(ys(s),a!==null?(Re(s),Qv(s,a)):(Re(s),s.flags&=-16777217)):a?a!==n.memoizedState?(ys(s),Re(s),Qv(s,a)):(Re(s),s.flags&=-16777217):(n.memoizedProps!==l&&ys(s),Re(s),s.flags&=-16777217),null;case 27:ae(s),a=wt.current;var f=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==l&&ys(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return Re(s),null}n=bt.current,Wo(s)?Ay(s):(n=Q0(f,l,a),s.stateNode=n,ys(s))}return Re(s),null;case 5:if(ae(s),a=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&ys(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return Re(s),null}if(n=bt.current,Wo(s))Ay(s);else{switch(f=Lc(wt.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[le]=s,n[Ae]=l;t:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break t;for(;f.sibling===null;){if(f.return===null||f.return===s)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=n;t:switch(mn(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&ys(s)}}return Re(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==l&&ys(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(n=wt.current,Wo(s)){if(n=s.stateNode,a=s.memoizedProps,l=null,f=Mn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[le]=s,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||z0(n.nodeValue,a)),n||Fr(s)}else n=Lc(n).createTextNode(l),n[le]=s,s.stateNode=n}return Re(s),null;case 13:if(l=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Wo(s),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[le]=s}else Jo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Re(s),f=!1}else f=wy(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(ps(s),s):(ps(s),null)}if(ps(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var p=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==f&&(l.flags|=2048)}return a!==n&&a&&(s.child.flags|=8192),Ac(s,s.updateQueue),Re(s),null;case 4:return fe(),n===null&&$d(s.stateNode.containerInfo),Re(s),null;case 10:return ds(s.type),Re(s),null;case 19:if(ht(Je),f=s.memoizedState,f===null)return Re(s),null;if(l=(s.flags&128)!==0,p=f.rendering,p===null)if(l)pl(f,!1);else{if(Ie!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(p=_c(n),p!==null){for(s.flags|=128,pl(f,!1),n=p.updateQueue,s.updateQueue=n,Ac(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)Ey(a,n),a=a.sibling;return ut(Je,Je.current&1|2),s.child}n=n.sibling}f.tail!==null&&Te()>Rc&&(s.flags|=128,l=!0,pl(f,!1),s.lanes=4194304)}else{if(!l)if(n=_c(p),n!==null){if(s.flags|=128,l=!0,n=n.updateQueue,s.updateQueue=n,Ac(s,n),pl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!re)return Re(s),null}else 2*Te()-f.renderingStartTime>Rc&&a!==536870912&&(s.flags|=128,l=!0,pl(f,!1),s.lanes=4194304);f.isBackwards?(p.sibling=s.child,s.child=p):(n=f.last,n!==null?n.sibling=p:s.child=p,f.last=p)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=Te(),s.sibling=null,n=Je.current,ut(Je,l?n&1|2:n&1),s):(Re(s),null);case 22:case 23:return ps(s),Wf(),l=s.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(Re(s),s.subtreeFlags&6&&(s.flags|=8192)):Re(s),a=s.updateQueue,a!==null&&Ac(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),n!==null&&ht(Yr),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),ds(We),Re(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function px(n,s){switch(jf(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return ds(We),fe(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return ae(s),null;case 13:if(ps(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Jo()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return ht(Je),null;case 4:return fe(),null;case 10:return ds(s.type),null;case 22:case 23:return ps(s),Wf(),n!==null&&ht(Yr),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return ds(We),null;case 25:return null;default:return null}}function Xv(n,s){switch(jf(s),s.tag){case 3:ds(We),fe();break;case 26:case 27:case 5:ae(s);break;case 4:fe();break;case 13:ps(s);break;case 19:ht(Je);break;case 10:ds(s.type);break;case 22:case 23:ps(s),Wf(),n!==null&&ht(Yr);break;case 24:ds(We)}}function gl(n,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var p=a.create,E=a.inst;l=p(),E.destroy=l}a=a.next}while(a!==f)}}catch(S){be(s,s.return,S)}}function zs(n,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var p=f.next;l=p;do{if((l.tag&n)===n){var E=l.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,f=s;var M=a,Y=S;try{Y()}catch(tt){be(f,M,tt)}}}l=l.next}while(l!==p)}}catch(tt){be(s,s.return,tt)}}function $v(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{Ly(s,a)}catch(l){be(n,n.return,l)}}}function Zv(n,s,a){a.props=Qr(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){be(n,s,l)}}function yl(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){be(n,s,f)}}function Pi(n,s){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){be(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){be(n,s,f)}else a.current=null}function Wv(n){var s=n.type,a=n.memoizedProps,l=n.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){be(n,n.return,f)}}function wd(n,s,a){try{var l=n.stateNode;kx(l,n.type,a,s),l[Ae]=s}catch(f){be(n,n.return,f)}}function Jv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Xs(n.type)||n.tag===4}function Rd(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||Jv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Xs(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Cd(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=kc));else if(l!==4&&(l===27&&Xs(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(Cd(n,s,a),n=n.sibling;n!==null;)Cd(n,s,a),n=n.sibling}function xc(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(l!==4&&(l===27&&Xs(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(xc(n,s,a),n=n.sibling;n!==null;)xc(n,s,a),n=n.sibling}function t0(n){var s=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);mn(s,l,a),s[le]=n,s[Ae]=a}catch(p){be(n,n.return,p)}}var vs=!1,Be=!1,Dd=!1,e0=typeof WeakSet=="function"?WeakSet:Set,on=null;function gx(n,s){if(n=n.containerInfo,Jd=Fc,n=fy(n),Rf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else t:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break t}var E=0,S=-1,M=-1,Y=0,tt=0,nt=n,X=null;e:for(;;){for(var $;nt!==a||f!==0&&nt.nodeType!==3||(S=E+f),nt!==p||l!==0&&nt.nodeType!==3||(M=E+l),nt.nodeType===3&&(E+=nt.nodeValue.length),($=nt.firstChild)!==null;)X=nt,nt=$;for(;;){if(nt===n)break e;if(X===a&&++Y===f&&(S=E),X===p&&++tt===l&&(M=E),($=nt.nextSibling)!==null)break;nt=X,X=nt.parentNode}nt=$}a=S===-1||M===-1?null:{start:S,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(tm={focusedElem:n,selectionRange:a},Fc=!1,on=s;on!==null;)if(s=on,n=s.child,(s.subtreeFlags&1024)!==0&&n!==null)n.return=s,on=n;else for(;on!==null;){switch(s=on,p=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,a=s,f=p.memoizedProps,p=p.memoizedState,l=a.stateNode;try{var It=Qr(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(It,p),l.__reactInternalSnapshotBeforeUpdate=n}catch(Dt){be(a,a.return,Dt)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)im(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":im(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,on=n;break}on=s.return}}function n0(n,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Hs(n,a),l&4&&gl(5,a);break;case 1:if(Hs(n,a),l&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(E){be(a,a.return,E)}else{var f=Qr(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(E){be(a,a.return,E)}}l&64&&$v(a),l&512&&yl(a,a.return);break;case 3:if(Hs(n,a),l&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Ly(n,s)}catch(E){be(a,a.return,E)}}break;case 27:s===null&&l&4&&t0(a);case 26:case 5:Hs(n,a),s===null&&l&4&&Wv(a),l&512&&yl(a,a.return);break;case 12:Hs(n,a);break;case 13:Hs(n,a),l&4&&r0(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=xx.bind(null,a),Fx(n,a))));break;case 22:if(l=a.memoizedState!==null||vs,!l){s=s!==null&&s.memoizedState!==null||Be,f=vs;var p=Be;vs=l,(Be=s)&&!p?Fs(n,a,(a.subtreeFlags&8772)!==0):Hs(n,a),vs=f,Be=p}break;case 30:break;default:Hs(n,a)}}function i0(n){var s=n.alternate;s!==null&&(n.alternate=null,i0(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Vs(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var xe=null,Pn=!1;function _s(n,s,a){for(a=a.child;a!==null;)s0(n,s,a),a=a.sibling}function s0(n,s,a){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(pe,a)}catch{}switch(a.tag){case 26:Be||Pi(a,s),_s(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Be||Pi(a,s);var l=xe,f=Pn;Xs(a.type)&&(xe=a.stateNode,Pn=!1),_s(n,s,a),wl(a.stateNode),xe=l,Pn=f;break;case 5:Be||Pi(a,s);case 6:if(l=xe,f=Pn,xe=null,_s(n,s,a),xe=l,Pn=f,xe!==null)if(Pn)try{(xe.nodeType===9?xe.body:xe.nodeName==="HTML"?xe.ownerDocument.body:xe).removeChild(a.stateNode)}catch(p){be(a,s,p)}else try{xe.removeChild(a.stateNode)}catch(p){be(a,s,p)}break;case 18:xe!==null&&(Pn?(n=xe,Y0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Ol(n)):Y0(xe,a.stateNode));break;case 4:l=xe,f=Pn,xe=a.stateNode.containerInfo,Pn=!0,_s(n,s,a),xe=l,Pn=f;break;case 0:case 11:case 14:case 15:Be||zs(2,a,s),Be||zs(4,a,s),_s(n,s,a);break;case 1:Be||(Pi(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Zv(a,s,l)),_s(n,s,a);break;case 21:_s(n,s,a);break;case 22:Be=(l=Be)||a.memoizedState!==null,_s(n,s,a),Be=l;break;default:_s(n,s,a)}}function r0(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Ol(n)}catch(a){be(s,s.return,a)}}function yx(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new e0),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new e0),s;default:throw Error(r(435,n.tag))}}function Vd(n,s){var a=yx(n);s.forEach(function(l){var f=wx.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function Gn(n,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],p=n,E=s,S=E;t:for(;S!==null;){switch(S.tag){case 27:if(Xs(S.type)){xe=S.stateNode,Pn=!1;break t}break;case 5:xe=S.stateNode,Pn=!1;break t;case 3:case 4:xe=S.stateNode.containerInfo,Pn=!0;break t}S=S.return}if(xe===null)throw Error(r(160));s0(p,E,f),xe=null,Pn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)a0(s,n),s=s.sibling}var _i=null;function a0(n,s){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Gn(s,n),Yn(n),l&4&&(zs(3,n,n.return),gl(3,n),zs(5,n,n.return));break;case 1:Gn(s,n),Yn(n),l&512&&(Be||a===null||Pi(a,a.return)),l&64&&vs&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=_i;if(Gn(s,n),Yn(n),l&512&&(Be||a===null||Pi(a,a.return)),l&4){var p=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){t:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Sr]||p[le]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(l),f.head.insertBefore(p,f.querySelector("head > title"))),mn(p,l,a),p[le]=n,Le(p),l=p;break t;case"link":var E=t_("link","href",f).get(l+(a.href||""));if(E){for(var S=0;S<E.length;S++)if(p=E[S],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(S,1);break e}}p=f.createElement(l),mn(p,l,a),f.head.appendChild(p);break;case"meta":if(E=t_("meta","content",f).get(l+(a.content||""))){for(S=0;S<E.length;S++)if(p=E[S],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(S,1);break e}}p=f.createElement(l),mn(p,l,a),f.head.appendChild(p);break;default:throw Error(r(468,l))}p[le]=n,Le(p),l=p}n.stateNode=l}else e_(f,n.type,n.stateNode);else n.stateNode=J0(f,l,n.memoizedProps);else p!==l?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,l===null?e_(f,n.type,n.stateNode):J0(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&wd(n,n.memoizedProps,a.memoizedProps)}break;case 27:Gn(s,n),Yn(n),l&512&&(Be||a===null||Pi(a,a.return)),a!==null&&l&4&&wd(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Gn(s,n),Yn(n),l&512&&(Be||a===null||Pi(a,a.return)),n.flags&32){f=n.stateNode;try{ti(f,"")}catch($){be(n,n.return,$)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,wd(n,f,a!==null?a.memoizedProps:f)),l&1024&&(Dd=!0);break;case 6:if(Gn(s,n),Yn(n),l&4){if(n.stateNode===null)throw Error(r(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch($){be(n,n.return,$)}}break;case 3:if(Uc=null,f=_i,_i=jc(s.containerInfo),Gn(s,n),_i=f,Yn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ol(s.containerInfo)}catch($){be(n,n.return,$)}Dd&&(Dd=!1,o0(n));break;case 4:l=_i,_i=jc(n.stateNode.containerInfo),Gn(s,n),Yn(n),_i=l;break;case 12:Gn(s,n),Yn(n);break;case 13:Gn(s,n),Yn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(kd=Te()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Vd(n,l)));break;case 22:f=n.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,Y=vs,tt=Be;if(vs=Y||f,Be=tt||M,Gn(s,n),Be=tt,vs=Y,Yn(n),l&8192)t:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||M||vs||Be||Xr(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){M=a=s;try{if(p=M.stateNode,f)E=p.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=M.stateNode;var nt=M.memoizedProps.style,X=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;S.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch($){be(M,M.return,$)}}}else if(s.tag===6){if(a===null){M=s;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch($){be(M,M.return,$)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break t;for(;s.sibling===null;){if(s.return===null||s.return===n)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Vd(n,a))));break;case 19:Gn(s,n),Yn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Vd(n,l)));break;case 30:break;case 21:break;default:Gn(s,n),Yn(n)}}function Yn(n){var s=n.flags;if(s&2){try{for(var a,l=n.return;l!==null;){if(Jv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,p=Rd(n);xc(n,p,f);break;case 5:var E=a.stateNode;a.flags&32&&(ti(E,""),a.flags&=-33);var S=Rd(n);xc(n,S,E);break;case 3:case 4:var M=a.stateNode.containerInfo,Y=Rd(n);Cd(n,Y,M);break;default:throw Error(r(161))}}catch(tt){be(n,n.return,tt)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function o0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;o0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Hs(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)n0(n,s.alternate,s),s=s.sibling}function Xr(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:zs(4,s,s.return),Xr(s);break;case 1:Pi(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Zv(s,s.return,a),Xr(s);break;case 27:wl(s.stateNode);case 26:case 5:Pi(s,s.return),Xr(s);break;case 22:s.memoizedState===null&&Xr(s);break;case 30:Xr(s);break;default:Xr(s)}n=n.sibling}}function Fs(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=n,p=s,E=p.flags;switch(p.tag){case 0:case 11:case 15:Fs(f,p,a),gl(4,p);break;case 1:if(Fs(f,p,a),l=p,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Y){be(l,l.return,Y)}if(l=p,f=l.updateQueue,f!==null){var S=l.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)ky(M[f],S)}catch(Y){be(l,l.return,Y)}}a&&E&64&&$v(p),yl(p,p.return);break;case 27:t0(p);case 26:case 5:Fs(f,p,a),a&&l===null&&E&4&&Wv(p),yl(p,p.return);break;case 12:Fs(f,p,a);break;case 13:Fs(f,p,a),a&&E&4&&r0(f,p);break;case 22:p.memoizedState===null&&Fs(f,p,a),yl(p,p.return);break;case 30:break;default:Fs(f,p,a)}s=s.sibling}}function Md(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&nl(a))}function Nd(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&nl(n))}function ki(n,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)l0(n,s,a,l),s=s.sibling}function l0(n,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:ki(n,s,a,l),f&2048&&gl(9,s);break;case 1:ki(n,s,a,l);break;case 3:ki(n,s,a,l),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&nl(n)));break;case 12:if(f&2048){ki(n,s,a,l),n=s.stateNode;try{var p=s.memoizedProps,E=p.id,S=p.onPostCommit;typeof S=="function"&&S(E,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(M){be(s,s.return,M)}}else ki(n,s,a,l);break;case 13:ki(n,s,a,l);break;case 23:break;case 22:p=s.stateNode,E=s.alternate,s.memoizedState!==null?p._visibility&2?ki(n,s,a,l):vl(n,s):p._visibility&2?ki(n,s,a,l):(p._visibility|=2,Ha(n,s,a,l,(s.subtreeFlags&10256)!==0)),f&2048&&Md(E,s);break;case 24:ki(n,s,a,l),f&2048&&Nd(s.alternate,s);break;default:ki(n,s,a,l)}}function Ha(n,s,a,l,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var p=n,E=s,S=a,M=l,Y=E.flags;switch(E.tag){case 0:case 11:case 15:Ha(p,E,S,M,f),gl(8,E);break;case 23:break;case 22:var tt=E.stateNode;E.memoizedState!==null?tt._visibility&2?Ha(p,E,S,M,f):vl(p,E):(tt._visibility|=2,Ha(p,E,S,M,f)),f&&Y&2048&&Md(E.alternate,E);break;case 24:Ha(p,E,S,M,f),f&&Y&2048&&Nd(E.alternate,E);break;default:Ha(p,E,S,M,f)}s=s.sibling}}function vl(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,l=s,f=l.flags;switch(l.tag){case 22:vl(a,l),f&2048&&Md(l.alternate,l);break;case 24:vl(a,l),f&2048&&Nd(l.alternate,l);break;default:vl(a,l)}s=s.sibling}}var _l=8192;function Fa(n){if(n.subtreeFlags&_l)for(n=n.child;n!==null;)u0(n),n=n.sibling}function u0(n){switch(n.tag){case 26:Fa(n),n.flags&_l&&n.memoizedState!==null&&nw(_i,n.memoizedState,n.memoizedProps);break;case 5:Fa(n);break;case 3:case 4:var s=_i;_i=jc(n.stateNode.containerInfo),Fa(n),_i=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=_l,_l=16777216,Fa(n),_l=s):Fa(n));break;default:Fa(n)}}function c0(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Tl(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];on=l,f0(l,n)}c0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)h0(n),n=n.sibling}function h0(n){switch(n.tag){case 0:case 11:case 15:Tl(n),n.flags&2048&&zs(9,n,n.return);break;case 3:Tl(n);break;case 12:Tl(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,wc(n)):Tl(n);break;default:Tl(n)}}function wc(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];on=l,f0(l,n)}c0(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:zs(8,s,s.return),wc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,wc(s));break;default:wc(s)}n=n.sibling}}function f0(n,s){for(;on!==null;){var a=on;switch(a.tag){case 0:case 11:case 15:zs(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:nl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,on=l;else t:for(a=n;on!==null;){l=on;var f=l.sibling,p=l.return;if(i0(l),l===a){on=null;break t}if(f!==null){f.return=p,on=f;break t}on=p}}}var vx={getCacheForType:function(n){var s=bn(We),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a}},_x=typeof WeakMap=="function"?WeakMap:Map,de=0,Ee=null,Yt=null,Jt=0,me=0,Kn=null,qs=!1,qa=!1,Id=!1,Ts=0,Ie=0,Gs=0,$r=0,Od=0,ui=0,Ga=0,bl=null,kn=null,Pd=!1,kd=0,Rc=1/0,Cc=null,Ys=null,dn=0,Ks=null,Ya=null,Ka=0,Ld=0,jd=null,d0=null,El=0,Bd=null;function Qn(){if((de&2)!==0&&Jt!==0)return Jt&-Jt;if(W.T!==null){var n=Oa;return n!==0?n:Yd()}return Tt()}function m0(){ui===0&&(ui=(Jt&536870912)===0||re?pt():536870912);var n=li.current;return n!==null&&(n.flags|=32),ui}function Xn(n,s,a){(n===Ee&&(me===2||me===9)||n.cancelPendingCommit!==null)&&(Qa(n,0),Qs(n,Jt,ui,!1)),yt(n,a),((de&2)===0||n!==Ee)&&(n===Ee&&((de&2)===0&&($r|=a),Ie===4&&Qs(n,Jt,ui,!1)),Li(n))}function p0(n,s,a){if((de&6)!==0)throw Error(r(327));var l=!a&&(s&124)===0&&(s&n.expiredLanes)===0||Wi(n,s),f=l?Ex(n,s):Hd(n,s,!0),p=l;do{if(f===0){qa&&!l&&Qs(n,s,0,!1);break}else{if(a=n.current.alternate,p&&!Tx(a)){f=Hd(n,s,!1),p=!1;continue}if(f===2){if(p=s,n.errorRecoveryDisabledLanes&p)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;t:{var S=n;f=bl;var M=S.current.memoizedState.isDehydrated;if(M&&(Qa(S,E).flags|=256),E=Hd(S,E,!1),E!==2){if(Id&&!M){S.errorRecoveryDisabledLanes|=p,$r|=p,f=4;break t}p=kn,kn=f,p!==null&&(kn===null?kn=p:kn.push.apply(kn,p))}f=E}if(p=!1,f!==2)continue}}if(f===1){Qa(n,0),Qs(n,s,0,!0);break}t:{switch(l=n,p=f,p){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Qs(l,s,ui,!qs);break t;case 2:kn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=kd+300-Te(),10<f)){if(Qs(l,s,ui,!qs),Zi(l,0,!0)!==0)break t;l.timeoutHandle=q0(g0.bind(null,l,a,kn,Cc,Pd,s,ui,$r,Ga,qs,p,2,-0,0),f);break t}g0(l,a,kn,Cc,Pd,s,ui,$r,Ga,qs,p,0,-0,0)}}break}while(!0);Li(n)}function g0(n,s,a,l,f,p,E,S,M,Y,tt,nt,X,$){if(n.timeoutHandle=-1,nt=s.subtreeFlags,(nt&8192||(nt&16785408)===16785408)&&(Dl={stylesheets:null,count:0,unsuspend:ew},u0(s),nt=iw(),nt!==null)){n.cancelPendingCommit=nt(S0.bind(null,n,s,p,a,l,f,E,S,M,tt,1,X,$)),Qs(n,p,E,!Y);return}S0(n,s,p,a,l,f,E,S,M)}function Tx(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],p=f.getSnapshot;f=f.value;try{if(!Fn(p(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Qs(n,s,a,l){s&=~Od,s&=~$r,n.suspendedLanes|=s,n.pingedLanes&=~s,l&&(n.warmLanes|=s),l=n.expirationTimes;for(var f=s;0<f;){var p=31-Xe(f),E=1<<p;l[p]=-1,f&=~E}a!==0&&Et(n,a,s)}function Dc(){return(de&6)===0?(Sl(0),!1):!0}function Ud(){if(Yt!==null){if(me===0)var n=Yt.return;else n=Yt,fs=qr=null,id(n),Ua=null,dl=0,n=Yt;for(;n!==null;)Xv(n.alternate,n),n=n.return;Yt=null}}function Qa(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,jx(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Ud(),Ee=n,Yt=a=us(n.current,null),Jt=s,me=0,Kn=null,qs=!1,qa=Wi(n,s),Id=!1,Ga=ui=Od=$r=Gs=Ie=0,kn=bl=null,Pd=!1,(s&8)!==0&&(s|=s&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=s;0<l;){var f=31-Xe(l),p=1<<f;s|=n[f],l&=~p}return Ts=s,Zu(),a}function y0(n,s){Ht=null,W.H=gc,s===sl||s===ac?(s=Oy(),me=3):s===My?(s=Oy(),me=4):me=s===Pv?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Kn=s,Yt===null&&(Ie=1,bc(n,si(s,n.current)))}function v0(){var n=W.H;return W.H=gc,n===null?gc:n}function _0(){var n=W.A;return W.A=vx,n}function zd(){Ie=4,qs||(Jt&4194048)!==Jt&&li.current!==null||(qa=!0),(Gs&134217727)===0&&($r&134217727)===0||Ee===null||Qs(Ee,Jt,ui,!1)}function Hd(n,s,a){var l=de;de|=2;var f=v0(),p=_0();(Ee!==n||Jt!==s)&&(Cc=null,Qa(n,s)),s=!1;var E=Ie;t:do try{if(me!==0&&Yt!==null){var S=Yt,M=Kn;switch(me){case 8:Ud(),E=6;break t;case 3:case 2:case 9:case 6:li.current===null&&(s=!0);var Y=me;if(me=0,Kn=null,Xa(n,S,M,Y),a&&qa){E=0;break t}break;default:Y=me,me=0,Kn=null,Xa(n,S,M,Y)}}bx(),E=Ie;break}catch(tt){y0(n,tt)}while(!0);return s&&n.shellSuspendCounter++,fs=qr=null,de=l,W.H=f,W.A=p,Yt===null&&(Ee=null,Jt=0,Zu()),E}function bx(){for(;Yt!==null;)T0(Yt)}function Ex(n,s){var a=de;de|=2;var l=v0(),f=_0();Ee!==n||Jt!==s?(Cc=null,Rc=Te()+500,Qa(n,s)):qa=Wi(n,s);t:do try{if(me!==0&&Yt!==null){s=Yt;var p=Kn;e:switch(me){case 1:me=0,Kn=null,Xa(n,s,p,1);break;case 2:case 9:if(Ny(p)){me=0,Kn=null,b0(s);break}s=function(){me!==2&&me!==9||Ee!==n||(me=7),Li(n)},p.then(s,s);break t;case 3:me=7;break t;case 4:me=5;break t;case 7:Ny(p)?(me=0,Kn=null,b0(s)):(me=0,Kn=null,Xa(n,s,p,7));break;case 5:var E=null;switch(Yt.tag){case 26:E=Yt.memoizedState;case 5:case 27:var S=Yt;if(!E||n_(E)){me=0,Kn=null;var M=S.sibling;if(M!==null)Yt=M;else{var Y=S.return;Y!==null?(Yt=Y,Vc(Y)):Yt=null}break e}}me=0,Kn=null,Xa(n,s,p,5);break;case 6:me=0,Kn=null,Xa(n,s,p,6);break;case 8:Ud(),Ie=6;break t;default:throw Error(r(462))}}Sx();break}catch(tt){y0(n,tt)}while(!0);return fs=qr=null,W.H=l,W.A=f,de=a,Yt!==null?0:(Ee=null,Jt=0,Zu(),Ie)}function Sx(){for(;Yt!==null&&!Se();)T0(Yt)}function T0(n){var s=Kv(n.alternate,n,Ts);n.memoizedProps=n.pendingProps,s===null?Vc(n):Yt=s}function b0(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=zv(a,s,s.pendingProps,s.type,void 0,Jt);break;case 11:s=zv(a,s,s.pendingProps,s.type.render,s.ref,Jt);break;case 5:id(s);default:Xv(a,s),s=Yt=Ey(s,Ts),s=Kv(a,s,Ts)}n.memoizedProps=n.pendingProps,s===null?Vc(n):Yt=s}function Xa(n,s,a,l){fs=qr=null,id(s),Ua=null,dl=0;var f=s.return;try{if(fx(n,f,s,a,Jt)){Ie=1,bc(n,si(a,n.current)),Yt=null;return}}catch(p){if(f!==null)throw Yt=f,p;Ie=1,bc(n,si(a,n.current)),Yt=null;return}s.flags&32768?(re||l===1?n=!0:qa||(Jt&536870912)!==0?n=!1:(qs=n=!0,(l===2||l===9||l===3||l===6)&&(l=li.current,l!==null&&l.tag===13&&(l.flags|=16384))),E0(s,n)):Vc(s)}function Vc(n){var s=n;do{if((s.flags&32768)!==0){E0(s,qs);return}n=s.return;var a=mx(s.alternate,s,Ts);if(a!==null){Yt=a;return}if(s=s.sibling,s!==null){Yt=s;return}Yt=s=n}while(s!==null);Ie===0&&(Ie=5)}function E0(n,s){do{var a=px(n.alternate,n);if(a!==null){a.flags&=32767,Yt=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){Yt=n;return}Yt=n=a}while(n!==null);Ie=6,Yt=null}function S0(n,s,a,l,f,p,E,S,M){n.cancelPendingCommit=null;do Mc();while(dn!==0);if((de&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(p=s.lanes|s.childLanes,p|=Nf,At(n,a,p,E,S,M),n===Ee&&(Yt=Ee=null,Jt=0),Ya=s,Ks=n,Ka=a,Ld=p,jd=f,d0=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Rx(ke,function(){return C0(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,f=at.p,at.p=2,E=de,de|=4;try{gx(n,s,a)}finally{de=E,at.p=f,W.T=l}}dn=1,A0(),x0(),w0()}}function A0(){if(dn===1){dn=0;var n=Ks,s=Ya,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=at.p;at.p=2;var f=de;de|=4;try{a0(s,n);var p=tm,E=fy(n.containerInfo),S=p.focusedElem,M=p.selectionRange;if(E!==S&&S&&S.ownerDocument&&hy(S.ownerDocument.documentElement,S)){if(M!==null&&Rf(S)){var Y=M.start,tt=M.end;if(tt===void 0&&(tt=Y),"selectionStart"in S)S.selectionStart=Y,S.selectionEnd=Math.min(tt,S.value.length);else{var nt=S.ownerDocument||document,X=nt&&nt.defaultView||window;if(X.getSelection){var $=X.getSelection(),It=S.textContent.length,Dt=Math.min(M.start,It),_e=M.end===void 0?Dt:Math.min(M.end,It);!$.extend&&Dt>_e&&(E=_e,_e=Dt,Dt=E);var H=cy(S,Dt),B=cy(S,_e);if(H&&B&&($.rangeCount!==1||$.anchorNode!==H.node||$.anchorOffset!==H.offset||$.focusNode!==B.node||$.focusOffset!==B.offset)){var G=nt.createRange();G.setStart(H.node,H.offset),$.removeAllRanges(),Dt>_e?($.addRange(G),$.extend(B.node,B.offset)):(G.setEnd(B.node,B.offset),$.addRange(G))}}}}for(nt=[],$=S;$=$.parentNode;)$.nodeType===1&&nt.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<nt.length;S++){var et=nt[S];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}Fc=!!Jd,tm=Jd=null}finally{de=f,at.p=l,W.T=a}}n.current=s,dn=2}}function x0(){if(dn===2){dn=0;var n=Ks,s=Ya,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=at.p;at.p=2;var f=de;de|=4;try{n0(n,s.alternate,s)}finally{de=f,at.p=l,W.T=a}}dn=3}}function w0(){if(dn===4||dn===3){dn=0,Fe();var n=Ks,s=Ya,a=Ka,l=d0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?dn=5:(dn=0,Ya=Ks=null,R0(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Ys=null),Rt(a),s=s.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(pe,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=W.T,f=at.p,at.p=2,W.T=null;try{for(var p=n.onRecoverableError,E=0;E<l.length;E++){var S=l[E];p(S.value,{componentStack:S.stack})}}finally{W.T=s,at.p=f}}(Ka&3)!==0&&Mc(),Li(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===Bd?El++:(El=0,Bd=n):El=0,Sl(0)}}function R0(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,nl(s)))}function Mc(n){return A0(),x0(),w0(),C0()}function C0(){if(dn!==5)return!1;var n=Ks,s=Ld;Ld=0;var a=Rt(Ka),l=W.T,f=at.p;try{at.p=32>a?32:a,W.T=null,a=jd,jd=null;var p=Ks,E=Ka;if(dn=0,Ya=Ks=null,Ka=0,(de&6)!==0)throw Error(r(331));var S=de;if(de|=4,h0(p.current),l0(p,p.current,E,a),de=S,Sl(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(pe,p)}catch{}return!0}finally{at.p=f,W.T=l,R0(n,s)}}function D0(n,s,a){s=si(a,s),s=yd(n.stateNode,s,2),n=Ls(n,s,2),n!==null&&(yt(n,2),Li(n))}function be(n,s,a){if(n.tag===3)D0(n,n,a);else for(;s!==null;){if(s.tag===3){D0(s,n,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ys===null||!Ys.has(l))){n=si(a,n),a=Iv(2),l=Ls(s,a,2),l!==null&&(Ov(a,l,s,n),yt(l,2),Li(l));break}}s=s.return}}function Fd(n,s,a){var l=n.pingCache;if(l===null){l=n.pingCache=new _x;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(Id=!0,f.add(a),n=Ax.bind(null,n,s,a),s.then(n,n))}function Ax(n,s,a){var l=n.pingCache;l!==null&&l.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Ee===n&&(Jt&a)===a&&(Ie===4||Ie===3&&(Jt&62914560)===Jt&&300>Te()-kd?(de&2)===0&&Qa(n,0):Od|=a,Ga===Jt&&(Ga=0)),Li(n)}function V0(n,s){s===0&&(s=vt()),n=Va(n,s),n!==null&&(yt(n,s),Li(n))}function xx(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),V0(n,a)}function wx(n,s){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),V0(n,a)}function Rx(n,s){return qt(n,s)}var Nc=null,$a=null,qd=!1,Ic=!1,Gd=!1,Zr=0;function Li(n){n!==$a&&n.next===null&&($a===null?Nc=$a=n:$a=$a.next=n),Ic=!0,qd||(qd=!0,Dx())}function Sl(n,s){if(!Gd&&Ic){Gd=!0;do for(var a=!1,l=Nc;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var p=0;else{var E=l.suspendedLanes,S=l.pingedLanes;p=(1<<31-Xe(42|n)+1)-1,p&=f&~(E&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,O0(l,p))}else p=Jt,p=Zi(l,l===Ee?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||Wi(l,p)||(a=!0,O0(l,p));l=l.next}while(a);Gd=!1}}function Cx(){M0()}function M0(){Ic=qd=!1;var n=0;Zr!==0&&(Lx()&&(n=Zr),Zr=0);for(var s=Te(),a=null,l=Nc;l!==null;){var f=l.next,p=N0(l,s);p===0?(l.next=null,a===null?Nc=f:a.next=f,f===null&&($a=a)):(a=l,(n!==0||(p&3)!==0)&&(Ic=!0)),l=f}Sl(n)}function N0(n,s){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var E=31-Xe(p),S=1<<E,M=f[E];M===-1?((S&a)===0||(S&l)!==0)&&(f[E]=J(S,s)):M<=s&&(n.expiredLanes|=S),p&=~S}if(s=Ee,a=Jt,a=Zi(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===s&&(me===2||me===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&_n(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Wi(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(l!==null&&_n(l),Rt(a)){case 2:case 8:a=Bt;break;case 32:a=ke;break;case 268435456:a=Wn;break;default:a=ke}return l=I0.bind(null,n),a=qt(a,l),n.callbackPriority=s,n.callbackNode=a,s}return l!==null&&l!==null&&_n(l),n.callbackPriority=2,n.callbackNode=null,2}function I0(n,s){if(dn!==0&&dn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Mc()&&n.callbackNode!==a)return null;var l=Jt;return l=Zi(n,n===Ee?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(p0(n,l,s),N0(n,Te()),n.callbackNode!=null&&n.callbackNode===a?I0.bind(null,n):null)}function O0(n,s){if(Mc())return null;p0(n,s,!0)}function Dx(){Bx(function(){(de&6)!==0?qt(Zn,Cx):M0()})}function Yd(){return Zr===0&&(Zr=pt()),Zr}function P0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:va(""+n)}function k0(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function Vx(n,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var p=P0((f[Ae]||null).action),E=l.submitter;E&&(s=(s=E[Ae]||null)?P0(s.formAction):E.getAttribute("formAction"),s!==null&&(p=s,E=null));var S=new _a("action","action",null,l,f);n.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Zr!==0){var M=E?k0(f,E):new FormData(f);fd(a,{pending:!0,data:M,method:f.method,action:p},null,M)}}else typeof p=="function"&&(S.preventDefault(),M=E?k0(f,E):new FormData(f),fd(a,{pending:!0,data:M,method:f.method,action:p},p,M))},currentTarget:f}]})}}for(var Kd=0;Kd<Mf.length;Kd++){var Qd=Mf[Kd],Mx=Qd.toLowerCase(),Nx=Qd[0].toUpperCase()+Qd.slice(1);vi(Mx,"on"+Nx)}vi(py,"onAnimationEnd"),vi(gy,"onAnimationIteration"),vi(yy,"onAnimationStart"),vi("dblclick","onDoubleClick"),vi("focusin","onFocus"),vi("focusout","onBlur"),vi(XA,"onTransitionRun"),vi($A,"onTransitionStart"),vi(ZA,"onTransitionCancel"),vi(vy,"onTransitionEnd"),ts("onMouseEnter",["mouseout","mouseover"]),ts("onMouseLeave",["mouseout","mouseover"]),ts("onPointerEnter",["pointerout","pointerover"]),ts("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ix=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function L0(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;t:{var p=void 0;if(s)for(var E=l.length-1;0<=E;E--){var S=l[E],M=S.instance,Y=S.currentTarget;if(S=S.listener,M!==p&&f.isPropagationStopped())break t;p=S,f.currentTarget=Y;try{p(f)}catch(tt){Tc(tt)}f.currentTarget=null,p=M}else for(E=0;E<l.length;E++){if(S=l[E],M=S.instance,Y=S.currentTarget,S=S.listener,M!==p&&f.isPropagationStopped())break t;p=S,f.currentTarget=Y;try{p(f)}catch(tt){Tc(tt)}f.currentTarget=null,p=M}}}}function Kt(n,s){var a=s[Po];a===void 0&&(a=s[Po]=new Set);var l=n+"__bubble";a.has(l)||(j0(s,n,2,!1),a.add(l))}function Xd(n,s,a){var l=0;s&&(l|=4),j0(a,n,l,s)}var Oc="_reactListening"+Math.random().toString(36).slice(2);function $d(n){if(!n[Oc]){n[Oc]=!0,ko.forEach(function(a){a!=="selectionchange"&&(Ix.has(a)||Xd(a,!1,n),Xd(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Oc]||(s[Oc]=!0,Xd("selectionchange",!1,s))}}function j0(n,s,a,l){switch(l_(s)){case 2:var f=aw;break;case 8:f=ow;break;default:f=cm}a=f.bind(null,s,a,n),f=void 0,!ni||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(s,a,{capture:!0,passive:f}):n.addEventListener(s,a,!0):f!==void 0?n.addEventListener(s,a,{passive:f}):n.addEventListener(s,a,!1)}function Zd(n,s,a,l,f){var p=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var S=l.stateNode.containerInfo;if(S===f)break;if(E===4)for(E=l.return;E!==null;){var M=E.tag;if((M===3||M===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;S!==null;){if(E=Ji(S),E===null)return;if(M=E.tag,M===5||M===6||M===26||M===27){l=p=E;continue t}S=S.parentNode}}l=l.return}ku(function(){var Y=p,tt=ei(a),nt=[];t:{var X=_y.get(n);if(X!==void 0){var $=_a,It=n;switch(n){case"keypress":if(Ci(a)===0)break t;case"keydown":case"keyup":$=xa;break;case"focusin":It="focus",$=Ea;break;case"focusout":It="blur",$=Ea;break;case"beforeblur":case"afterblur":$=Ea;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=ii;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Sf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=qu;break;case py:case gy:case yy:$=Sa;break;case vy:$=Yu;break;case"scroll":case"scrollend":$=Lu;break;case"wheel":$=wa;break;case"copy":case"cut":case"paste":$=Aa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Qo;break;case"toggle":case"beforetoggle":$=Qu}var Dt=(s&4)!==0,_e=!Dt&&(n==="scroll"||n==="scrollend"),H=Dt?X!==null?X+"Capture":null:X;Dt=[];for(var B=Y,G;B!==null;){var et=B;if(G=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||G===null||H===null||(et=Vr(B,H),et!=null&&Dt.push(xl(B,et,G))),_e)break;B=B.return}0<Dt.length&&(X=new $(X,It,null,a,tt),nt.push({event:X,listeners:Dt}))}}if((s&7)===0){t:{if(X=n==="mouseover"||n==="pointerover",$=n==="mouseout"||n==="pointerout",X&&a!==is&&(It=a.relatedTarget||a.fromElement)&&(Ji(It)||It[Tn]))break t;if(($||X)&&(X=tt.window===tt?tt:(X=tt.ownerDocument)?X.defaultView||X.parentWindow:window,$?(It=a.relatedTarget||a.toElement,$=Y,It=It?Ji(It):null,It!==null&&(_e=u(It),Dt=It.tag,It!==_e||Dt!==5&&Dt!==27&&Dt!==6)&&(It=null)):($=null,It=Y),$!==It)){if(Dt=ii,et="onMouseLeave",H="onMouseEnter",B="mouse",(n==="pointerout"||n==="pointerover")&&(Dt=Qo,et="onPointerLeave",H="onPointerEnter",B="pointer"),_e=$==null?X:Ai($),G=It==null?X:Ai(It),X=new Dt(et,B+"leave",$,a,tt),X.target=_e,X.relatedTarget=G,et=null,Ji(tt)===Y&&(Dt=new Dt(H,B+"enter",It,a,tt),Dt.target=G,Dt.relatedTarget=_e,et=Dt),_e=et,$&&It)e:{for(Dt=$,H=It,B=0,G=Dt;G;G=Za(G))B++;for(G=0,et=H;et;et=Za(et))G++;for(;0<B-G;)Dt=Za(Dt),B--;for(;0<G-B;)H=Za(H),G--;for(;B--;){if(Dt===H||H!==null&&Dt===H.alternate)break e;Dt=Za(Dt),H=Za(H)}Dt=null}else Dt=null;$!==null&&B0(nt,X,$,Dt,!1),It!==null&&_e!==null&&B0(nt,_e,It,Dt,!0)}}t:{if(X=Y?Ai(Y):window,$=X.nodeName&&X.nodeName.toLowerCase(),$==="select"||$==="input"&&X.type==="file")var _t=sy;else if(Ze(X))if(ry)_t=YA;else{_t=qA;var Gt=FA}else $=X.nodeName,!$||$.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Y&&zo(Y.elementType)&&(_t=sy):_t=GA;if(_t&&(_t=_t(n,Y))){ls(nt,_t,a,tt);break t}Gt&&Gt(n,X,Y),n==="focusout"&&Y&&X.type==="number"&&Y.memoizedProps.value!=null&&Ns(X,"number",X.value)}switch(Gt=Y?Ai(Y):window,n){case"focusin":(Ze(Gt)||Gt.contentEditable==="true")&&(Ra=Gt,Cf=Y,Zo=null);break;case"focusout":Zo=Cf=Ra=null;break;case"mousedown":Df=!0;break;case"contextmenu":case"mouseup":case"dragend":Df=!1,dy(nt,a,tt);break;case"selectionchange":if(QA)break;case"keydown":case"keyup":dy(nt,a,tt)}var St;if(Mi)t:{switch(n){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else Zt?Z(n,a)&&(Mt="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Mt="onCompositionStart");Mt&&(T&&a.locale!=="ko"&&(Zt||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&Zt&&(St=Fo()):(Ri=tt,Is="value"in Ri?Ri.value:Ri.textContent,Zt=!0)),Gt=Pc(Y,Mt),0<Gt.length&&(Mt=new Yo(Mt,n,null,a,tt),nt.push({event:Mt,listeners:Gt}),St?Mt.data=St:(St=ct(a),St!==null&&(Mt.data=St)))),(St=v?$e(n,a):Wt(n,a))&&(Mt=Pc(Y,"onBeforeInput"),0<Mt.length&&(Gt=new Yo("onBeforeInput","beforeinput",null,a,tt),nt.push({event:Gt,listeners:Mt}),Gt.data=St)),Vx(nt,n,Y,a,tt)}L0(nt,s)})}function xl(n,s,a){return{instance:n,listener:s,currentTarget:a}}function Pc(n,s){for(var a=s+"Capture",l=[];n!==null;){var f=n,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Vr(n,a),f!=null&&l.unshift(xl(n,f,p)),f=Vr(n,s),f!=null&&l.push(xl(n,f,p))),n.tag===3)return l;n=n.return}return[]}function Za(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function B0(n,s,a,l,f){for(var p=s._reactName,E=[];a!==null&&a!==l;){var S=a,M=S.alternate,Y=S.stateNode;if(S=S.tag,M!==null&&M===l)break;S!==5&&S!==26&&S!==27||Y===null||(M=Y,f?(Y=Vr(a,p),Y!=null&&E.unshift(xl(a,Y,M))):f||(Y=Vr(a,p),Y!=null&&E.push(xl(a,Y,M)))),a=a.return}E.length!==0&&n.push({event:s,listeners:E})}var Ox=/\r\n?/g,Px=/\u0000|\uFFFD/g;function U0(n){return(typeof n=="string"?n:""+n).replace(Ox,`
`).replace(Px,"")}function z0(n,s){return s=U0(s),U0(n)===s}function kc(){}function ve(n,s,a,l,f,p){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||ti(n,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&ti(n,""+l);break;case"className":xi(n,"class",l);break;case"tabIndex":xi(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":xi(n,a,l);break;case"style":Uo(n,l,p);break;case"data":if(s!=="object"){xi(n,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=va(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(s!=="input"&&ve(n,s,"name",f.name,f,null),ve(n,s,"formEncType",f.formEncType,f,null),ve(n,s,"formMethod",f.formMethod,f,null),ve(n,s,"formTarget",f.formTarget,f,null)):(ve(n,s,"encType",f.encType,f,null),ve(n,s,"method",f.method,f,null),ve(n,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=va(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=kc);break;case"onScroll":l!=null&&Kt("scroll",n);break;case"onScrollEnd":l!=null&&Kt("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=va(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Kt("beforetoggle",n),Kt("toggle",n),Ms(n,"popover",l);break;case"xlinkActuate":cn(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":cn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":cn(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":cn(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":cn(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":cn(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":cn(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":cn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":cn(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ms(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=bf.get(a)||a,Ms(n,a,l))}}function Wd(n,s,a,l,f,p){switch(a){case"style":Uo(n,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"children":typeof l=="string"?ti(n,l):(typeof l=="number"||typeof l=="bigint")&&ti(n,""+l);break;case"onScroll":l!=null&&Kt("scroll",n);break;case"onScrollEnd":l!=null&&Kt("scrollend",n);break;case"onClick":l!=null&&(n.onclick=kc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!da.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),p=n[Ae]||null,p=p!=null?p[a]:null,typeof p=="function"&&n.removeEventListener(s,p,f),typeof l=="function")){typeof p!="function"&&p!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,l,f);break t}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Ms(n,a,l)}}}function mn(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Kt("error",n),Kt("load",n);var l=!1,f=!1,p;for(p in a)if(a.hasOwnProperty(p)){var E=a[p];if(E!=null)switch(p){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ve(n,s,p,E,a,null)}}f&&ve(n,s,"srcSet",a.srcSet,a,null),l&&ve(n,s,"src",a.src,a,null);return;case"input":Kt("invalid",n);var S=p=E=f=null,M=null,Y=null;for(l in a)if(a.hasOwnProperty(l)){var tt=a[l];if(tt!=null)switch(l){case"name":f=tt;break;case"type":E=tt;break;case"checked":M=tt;break;case"defaultChecked":Y=tt;break;case"value":p=tt;break;case"defaultValue":S=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(r(137,s));break;default:ve(n,s,l,tt,a,null)}}Rr(n,p,S,M,Y,E,f,!1),ya(n);return;case"select":Kt("invalid",n),l=E=p=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":p=S;break;case"defaultValue":E=S;break;case"multiple":l=S;default:ve(n,s,f,S,a,null)}s=p,a=E,n.multiple=!!l,s!=null?ns(n,!!l,s,!1):a!=null&&ns(n,!!l,a,!0);return;case"textarea":Kt("invalid",n),p=f=l=null;for(E in a)if(a.hasOwnProperty(E)&&(S=a[E],S!=null))switch(E){case"value":l=S;break;case"defaultValue":f=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:ve(n,s,E,S,a,null)}Cr(n,l,f,p),ya(n);return;case"option":for(M in a)if(a.hasOwnProperty(M)&&(l=a[M],l!=null))switch(M){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ve(n,s,M,l,a,null)}return;case"dialog":Kt("beforetoggle",n),Kt("toggle",n),Kt("cancel",n),Kt("close",n);break;case"iframe":case"object":Kt("load",n);break;case"video":case"audio":for(l=0;l<Al.length;l++)Kt(Al[l],n);break;case"image":Kt("error",n),Kt("load",n);break;case"details":Kt("toggle",n);break;case"embed":case"source":case"link":Kt("error",n),Kt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in a)if(a.hasOwnProperty(Y)&&(l=a[Y],l!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ve(n,s,Y,l,a,null)}return;default:if(zo(s)){for(tt in a)a.hasOwnProperty(tt)&&(l=a[tt],l!==void 0&&Wd(n,s,tt,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&ve(n,s,S,l,a,null))}function kx(n,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,E=null,S=null,M=null,Y=null,tt=null;for($ in a){var nt=a[$];if(a.hasOwnProperty($)&&nt!=null)switch($){case"checked":break;case"value":break;case"defaultValue":M=nt;default:l.hasOwnProperty($)||ve(n,s,$,null,l,nt)}}for(var X in l){var $=l[X];if(nt=a[X],l.hasOwnProperty(X)&&($!=null||nt!=null))switch(X){case"type":p=$;break;case"name":f=$;break;case"checked":Y=$;break;case"defaultChecked":tt=$;break;case"value":E=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,s));break;default:$!==nt&&ve(n,s,X,$,l,nt)}}Hn(n,E,S,M,Y,tt,p,f);return;case"select":$=E=S=X=null;for(p in a)if(M=a[p],a.hasOwnProperty(p)&&M!=null)switch(p){case"value":break;case"multiple":$=M;default:l.hasOwnProperty(p)||ve(n,s,p,null,l,M)}for(f in l)if(p=l[f],M=a[f],l.hasOwnProperty(f)&&(p!=null||M!=null))switch(f){case"value":X=p;break;case"defaultValue":S=p;break;case"multiple":E=p;default:p!==M&&ve(n,s,f,p,l,M)}s=S,a=E,l=$,X!=null?ns(n,!!a,X,!1):!!l!=!!a&&(s!=null?ns(n,!!a,s,!0):ns(n,!!a,a?[]:"",!1));return;case"textarea":$=X=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ve(n,s,S,null,l,f)}for(E in l)if(f=l[E],p=a[E],l.hasOwnProperty(E)&&(f!=null||p!=null))switch(E){case"value":X=f;break;case"defaultValue":$=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==p&&ve(n,s,E,f,l,p)}ge(n,X,$);return;case"option":for(var It in a)if(X=a[It],a.hasOwnProperty(It)&&X!=null&&!l.hasOwnProperty(It))switch(It){case"selected":n.selected=!1;break;default:ve(n,s,It,null,l,X)}for(M in l)if(X=l[M],$=a[M],l.hasOwnProperty(M)&&X!==$&&(X!=null||$!=null))switch(M){case"selected":n.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:ve(n,s,M,X,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Dt in a)X=a[Dt],a.hasOwnProperty(Dt)&&X!=null&&!l.hasOwnProperty(Dt)&&ve(n,s,Dt,null,l,X);for(Y in l)if(X=l[Y],$=a[Y],l.hasOwnProperty(Y)&&X!==$&&(X!=null||$!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:ve(n,s,Y,X,l,$)}return;default:if(zo(s)){for(var _e in a)X=a[_e],a.hasOwnProperty(_e)&&X!==void 0&&!l.hasOwnProperty(_e)&&Wd(n,s,_e,void 0,l,X);for(tt in l)X=l[tt],$=a[tt],!l.hasOwnProperty(tt)||X===$||X===void 0&&$===void 0||Wd(n,s,tt,X,l,$);return}}for(var H in a)X=a[H],a.hasOwnProperty(H)&&X!=null&&!l.hasOwnProperty(H)&&ve(n,s,H,null,l,X);for(nt in l)X=l[nt],$=a[nt],!l.hasOwnProperty(nt)||X===$||X==null&&$==null||ve(n,s,nt,X,l,$)}var Jd=null,tm=null;function Lc(n){return n.nodeType===9?n:n.ownerDocument}function H0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function F0(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function em(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var nm=null;function Lx(){var n=window.event;return n&&n.type==="popstate"?n===nm?!1:(nm=n,!0):(nm=null,!1)}var q0=typeof setTimeout=="function"?setTimeout:void 0,jx=typeof clearTimeout=="function"?clearTimeout:void 0,G0=typeof Promise=="function"?Promise:void 0,Bx=typeof queueMicrotask=="function"?queueMicrotask:typeof G0<"u"?function(n){return G0.resolve(null).then(n).catch(Ux)}:q0;function Ux(n){setTimeout(function(){throw n})}function Xs(n){return n==="head"}function Y0(n,s){var a=s,l=0,f=0;do{var p=a.nextSibling;if(n.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"){if(0<l&&8>l){a=l;var E=n.ownerDocument;if(a&1&&wl(E.documentElement),a&2&&wl(E.body),a&4)for(a=E.head,wl(a),E=a.firstChild;E;){var S=E.nextSibling,M=E.nodeName;E[Sr]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=S}}if(f===0){n.removeChild(p),Ol(s);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=p}while(a);Ol(s)}function im(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":im(a),Vs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function zx(n,s,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Sr])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=Ti(n.nextSibling),n===null)break}return null}function Hx(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Ti(n.nextSibling),n===null))return null;return n}function sm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function Fx(n,s){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Ti(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}var rm=null;function K0(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return n;s--}else a==="/$"&&s++}n=n.previousSibling}return null}function Q0(n,s,a){switch(s=Lc(a),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function wl(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Vs(n)}var ci=new Map,X0=new Set;function jc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var bs=at.d;at.d={f:qx,r:Gx,D:Yx,C:Kx,L:Qx,m:Xx,X:Zx,S:$x,M:Wx};function qx(){var n=bs.f(),s=Dc();return n||s}function Gx(n){var s=Si(n);s!==null&&s.tag===5&&s.type==="form"?pv(s):bs.r(n)}var Wa=typeof document>"u"?null:document;function $0(n,s,a){var l=Wa;if(l&&typeof s=="string"&&s){var f=Ge(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),X0.has(f)||(X0.add(f),n={rel:n,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),mn(s,"link",n),Le(s),l.head.appendChild(s)))}}function Yx(n){bs.D(n),$0("dns-prefetch",n,null)}function Kx(n,s){bs.C(n,s),$0("preconnect",n,s)}function Qx(n,s,a){bs.L(n,s,a);var l=Wa;if(l&&n&&s){var f='link[rel="preload"][as="'+Ge(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Ge(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Ge(a.imageSizes)+'"]')):f+='[href="'+Ge(n)+'"]';var p=f;switch(s){case"style":p=Ja(n);break;case"script":p=to(n)}ci.has(p)||(n=y({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),ci.set(p,n),l.querySelector(f)!==null||s==="style"&&l.querySelector(Rl(p))||s==="script"&&l.querySelector(Cl(p))||(s=l.createElement("link"),mn(s,"link",n),Le(s),l.head.appendChild(s)))}}function Xx(n,s){bs.m(n,s);var a=Wa;if(a&&n){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Ge(l)+'"][href="'+Ge(n)+'"]',p=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=to(n)}if(!ci.has(p)&&(n=y({rel:"modulepreload",href:n},s),ci.set(p,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Cl(p)))return}l=a.createElement("link"),mn(l,"link",n),Le(l),a.head.appendChild(l)}}}function $x(n,s,a){bs.S(n,s,a);var l=Wa;if(l&&n){var f=Cn(l).hoistableStyles,p=Ja(n);s=s||"default";var E=f.get(p);if(!E){var S={loading:0,preload:null};if(E=l.querySelector(Rl(p)))S.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":s},a),(a=ci.get(p))&&am(n,a);var M=E=l.createElement("link");Le(M),mn(M,"link",n),M._p=new Promise(function(Y,tt){M.onload=Y,M.onerror=tt}),M.addEventListener("load",function(){S.loading|=1}),M.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Bc(E,s,l)}E={type:"stylesheet",instance:E,count:1,state:S},f.set(p,E)}}}function Zx(n,s){bs.X(n,s);var a=Wa;if(a&&n){var l=Cn(a).hoistableScripts,f=to(n),p=l.get(f);p||(p=a.querySelector(Cl(f)),p||(n=y({src:n,async:!0},s),(s=ci.get(f))&&om(n,s),p=a.createElement("script"),Le(p),mn(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function Wx(n,s){bs.M(n,s);var a=Wa;if(a&&n){var l=Cn(a).hoistableScripts,f=to(n),p=l.get(f);p||(p=a.querySelector(Cl(f)),p||(n=y({src:n,async:!0,type:"module"},s),(s=ci.get(f))&&om(n,s),p=a.createElement("script"),Le(p),mn(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function Z0(n,s,a,l){var f=(f=wt.current)?jc(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Ja(a.href),a=Cn(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Ja(a.href);var p=Cn(f).hoistableStyles,E=p.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,E),(p=f.querySelector(Rl(n)))&&!p._p&&(E.instance=p,E.state.loading=5),ci.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ci.set(n,a),p||Jx(f,n,a,E.state))),s&&l===null)throw Error(r(528,""));return E}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=to(a),a=Cn(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function Ja(n){return'href="'+Ge(n)+'"'}function Rl(n){return'link[rel="stylesheet"]['+n+"]"}function W0(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function Jx(n,s,a,l){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=n.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),mn(s,"link",a),Le(s),n.head.appendChild(s))}function to(n){return'[src="'+Ge(n)+'"]'}function Cl(n){return"script[async]"+n}function J0(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=n.querySelector('style[data-href~="'+Ge(a.href)+'"]');if(l)return s.instance=l,Le(l),l;var f=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),Le(l),mn(l,"style",f),Bc(l,a.precedence,n),s.instance=l;case"stylesheet":f=Ja(a.href);var p=n.querySelector(Rl(f));if(p)return s.state.loading|=4,s.instance=p,Le(p),p;l=W0(a),(f=ci.get(f))&&am(l,f),p=(n.ownerDocument||n).createElement("link"),Le(p);var E=p;return E._p=new Promise(function(S,M){E.onload=S,E.onerror=M}),mn(p,"link",l),s.state.loading|=4,Bc(p,a.precedence,n),s.instance=p;case"script":return p=to(a.src),(f=n.querySelector(Cl(p)))?(s.instance=f,Le(f),f):(l=a,(f=ci.get(p))&&(l=y({},a),om(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),Le(f),mn(f,"link",l),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Bc(l,a.precedence,n));return s.instance}function Bc(n,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,p=f,E=0;E<l.length;E++){var S=l[E];if(S.dataset.precedence===s)p=S;else if(p!==f)break}p?p.parentNode.insertBefore(n,p.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function am(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function om(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Uc=null;function t_(n,s,a){if(Uc===null){var l=new Map,f=Uc=new Map;f.set(a,l)}else f=Uc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var p=a[f];if(!(p[Sr]||p[le]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(s)||"";E=n+E;var S=l.get(E);S?S.push(p):l.set(E,[p])}}return l}function e_(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function tw(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function n_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Dl=null;function ew(){}function nw(n,s,a){if(Dl===null)throw Error(r(475));var l=Dl;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Ja(a.href),p=n.querySelector(Rl(f));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=zc.bind(l),n.then(l,l)),s.state.loading|=4,s.instance=p,Le(p);return}p=n.ownerDocument||n,a=W0(a),(f=ci.get(f))&&am(a,f),p=p.createElement("link"),Le(p);var E=p;E._p=new Promise(function(S,M){E.onload=S,E.onerror=M}),mn(p,"link",a),s.instance=p}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=zc.bind(l),n.addEventListener("load",s),n.addEventListener("error",s))}}function iw(){if(Dl===null)throw Error(r(475));var n=Dl;return n.stylesheets&&n.count===0&&lm(n,n.stylesheets),0<n.count?function(s){var a=setTimeout(function(){if(n.stylesheets&&lm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(a)}}:null}function zc(){if(this.count--,this.count===0){if(this.stylesheets)lm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Hc=null;function lm(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Hc=new Map,s.forEach(sw,n),Hc=null,zc.call(n))}function sw(n,s){if(!(s.state.loading&4)){var a=Hc.get(n);if(a)var l=a.get(null);else{a=new Map,Hc.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var E=f[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}f=s.instance,E=f.getAttribute("data-precedence"),p=a.get(E)||l,p===l&&a.set(null,f),a.set(E,f),this.count++,l=zc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),p?p.parentNode.insertBefore(f,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var Vl={$$typeof:Q,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function rw(n,s,a,l,f,p,E,S){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pt(0),this.hiddenUpdates=Pt(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function i_(n,s,a,l,f,p,E,S,M,Y,tt,nt){return n=new rw(n,s,a,E,S,M,Y,nt),s=1,p===!0&&(s|=24),p=qn(3,null,null,s),n.current=p,p.stateNode=n,s=Ff(),s.refCount++,n.pooledCache=s,s.refCount++,p.memoizedState={element:l,isDehydrated:a,cache:s},Kf(p),n}function s_(n){return n?(n=Ma,n):Ma}function r_(n,s,a,l,f,p){f=s_(f),l.context===null?l.context=f:l.pendingContext=f,l=ks(s),l.payload={element:a},p=p===void 0?null:p,p!==null&&(l.callback=p),a=Ls(n,l,s),a!==null&&(Xn(a,n,s),al(a,n,s))}function a_(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function um(n,s){a_(n,s),(n=n.alternate)&&a_(n,s)}function o_(n){if(n.tag===13){var s=Va(n,67108864);s!==null&&Xn(s,n,67108864),um(n,67108864)}}var Fc=!0;function aw(n,s,a,l){var f=W.T;W.T=null;var p=at.p;try{at.p=2,cm(n,s,a,l)}finally{at.p=p,W.T=f}}function ow(n,s,a,l){var f=W.T;W.T=null;var p=at.p;try{at.p=8,cm(n,s,a,l)}finally{at.p=p,W.T=f}}function cm(n,s,a,l){if(Fc){var f=hm(l);if(f===null)Zd(n,s,l,qc,a),u_(n,l);else if(uw(f,n,s,a,l))l.stopPropagation();else if(u_(n,l),s&4&&-1<lw.indexOf(n)){for(;f!==null;){var p=Si(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=zn(p.pendingLanes);if(E!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var M=1<<31-Xe(E);S.entanglements[1]|=M,E&=~M}Li(p),(de&6)===0&&(Rc=Te()+500,Sl(0))}}break;case 13:S=Va(p,2),S!==null&&Xn(S,p,2),Dc(),um(p,2)}if(p=hm(l),p===null&&Zd(n,s,l,qc,a),p===f)break;f=p}f!==null&&l.stopPropagation()}else Zd(n,s,l,null,a)}}function hm(n){return n=ei(n),fm(n)}var qc=null;function fm(n){if(qc=null,n=Ji(n),n!==null){var s=u(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=c(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return qc=n,null}function l_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(br()){case Zn:return 2;case Bt:return 8;case ke:case Er:return 32;case Wn:return 268435456;default:return 32}default:return 32}}var dm=!1,$s=null,Zs=null,Ws=null,Ml=new Map,Nl=new Map,Js=[],lw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function u_(n,s){switch(n){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":Ws=null;break;case"pointerover":case"pointerout":Ml.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(s.pointerId)}}function Il(n,s,a,l,f,p){return n===null||n.nativeEvent!==p?(n={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:p,targetContainers:[f]},s!==null&&(s=Si(s),s!==null&&o_(s)),n):(n.eventSystemFlags|=l,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function uw(n,s,a,l,f){switch(s){case"focusin":return $s=Il($s,n,s,a,l,f),!0;case"dragenter":return Zs=Il(Zs,n,s,a,l,f),!0;case"mouseover":return Ws=Il(Ws,n,s,a,l,f),!0;case"pointerover":var p=f.pointerId;return Ml.set(p,Il(Ml.get(p)||null,n,s,a,l,f)),!0;case"gotpointercapture":return p=f.pointerId,Nl.set(p,Il(Nl.get(p)||null,n,s,a,l,f)),!0}return!1}function c_(n){var s=Ji(n.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){n.blockedOn=s,ne(n.priority,function(){if(a.tag===13){var l=Qn();l=oe(l);var f=Va(a,l);f!==null&&Xn(f,a,l),um(a,l)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Gc(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=hm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);is=l,a.target.dispatchEvent(l),is=null}else return s=Si(a),s!==null&&o_(s),n.blockedOn=a,!1;s.shift()}return!0}function h_(n,s,a){Gc(n)&&a.delete(s)}function cw(){dm=!1,$s!==null&&Gc($s)&&($s=null),Zs!==null&&Gc(Zs)&&(Zs=null),Ws!==null&&Gc(Ws)&&(Ws=null),Ml.forEach(h_),Nl.forEach(h_)}function Yc(n,s){n.blockedOn===s&&(n.blockedOn=null,dm||(dm=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,cw)))}var Kc=null;function f_(n){Kc!==n&&(Kc=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Kc===n&&(Kc=null);for(var s=0;s<n.length;s+=3){var a=n[s],l=n[s+1],f=n[s+2];if(typeof l!="function"){if(fm(l||a)===null)continue;break}var p=Si(a);p!==null&&(n.splice(s,3),s-=3,fd(p,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Ol(n){function s(M){return Yc(M,n)}$s!==null&&Yc($s,n),Zs!==null&&Yc(Zs,n),Ws!==null&&Yc(Ws,n),Ml.forEach(s),Nl.forEach(s);for(var a=0;a<Js.length;a++){var l=Js[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Js.length&&(a=Js[0],a.blockedOn===null);)c_(a),a.blockedOn===null&&Js.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],p=a[l+1],E=f[Ae]||null;if(typeof p=="function")E||f_(a);else if(E){var S=null;if(p&&p.hasAttribute("formAction")){if(f=p,E=p[Ae]||null)S=E.formAction;else if(fm(f)!==null)continue}else S=E.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),f_(a)}}}function mm(n){this._internalRoot=n}Qc.prototype.render=mm.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=Qn();r_(a,l,n,s,null,null)},Qc.prototype.unmount=mm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;r_(n.current,2,null,n,null,null),Dc(),s[Tn]=null}};function Qc(n){this._internalRoot=n}Qc.prototype.unstable_scheduleHydration=function(n){if(n){var s=Tt();n={blockedOn:null,target:n,priority:s};for(var a=0;a<Js.length&&s!==0&&s<Js[a].priority;a++);Js.splice(a,0,n),a===0&&c_(n)}};var d_=t.version;if(d_!=="19.1.0")throw Error(r(527,d_,"19.1.0"));at.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=m(s),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var hw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xc.isDisabled&&Xc.supportsFiber)try{pe=Xc.inject(hw),$t=Xc}catch{}}return kl.createRoot=function(n,s){if(!o(n))throw Error(r(299));var a=!1,l="",f=Dv,p=Vv,E=Mv,S=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(S=s.unstable_transitionCallbacks)),s=i_(n,1,!1,null,null,a,l,f,p,E,S,null),n[Tn]=s.current,$d(n),new mm(s)},kl.hydrateRoot=function(n,s,a){if(!o(n))throw Error(r(299));var l=!1,f="",p=Dv,E=Vv,S=Mv,M=null,Y=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(M=a.unstable_transitionCallbacks),a.formState!==void 0&&(Y=a.formState)),s=i_(n,1,!0,s,a??null,l,f,p,E,S,M,Y),s.context=s_(null),a=s.current,l=Qn(),l=oe(l),f=ks(l),f.callback=null,Ls(a,f,l),a=l,s.current.lanes=a,yt(s,a),Li(s),n[Tn]=s.current,$d(n),new Qc(s)},kl.version="19.1.0",kl}var S_;function bw(){if(S_)return ym.exports;S_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ym.exports=Tw(),ym.exports}var Ew=bw();const Sw=n1(Ew);var Ll={},A_;function Aw(){if(A_)return Ll;A_=1,Object.defineProperty(Ll,"__esModule",{value:!0}),Ll.parse=c,Ll.serialize=g;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function c(b,w){const C=new u,L=b.length;if(L<2)return C;const j=(w==null?void 0:w.decode)||y;let U=0;do{const K=b.indexOf("=",U);if(K===-1)break;const Q=b.indexOf(";",U),lt=Q===-1?L:Q;if(K>lt){U=b.lastIndexOf(";",K-1)+1;continue}const q=d(b,U,K),st=m(b,K,q),V=b.slice(q,st);if(C[V]===void 0){let R=d(b,K+1,lt),D=m(b,lt,R);const O=j(b.slice(R,D));C[V]=O}U=lt+1}while(U<L);return C}function d(b,w,C){do{const L=b.charCodeAt(w);if(L!==32&&L!==9)return w}while(++w<C);return C}function m(b,w,C){for(;w>C;){const L=b.charCodeAt(--w);if(L!==32&&L!==9)return w+1}return C}function g(b,w,C){const L=(C==null?void 0:C.encode)||encodeURIComponent;if(!e.test(b))throw new TypeError(`argument name is invalid: ${b}`);const j=L(w);if(!t.test(j))throw new TypeError(`argument val is invalid: ${w}`);let U=b+"="+j;if(!C)return U;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);U+="; Max-Age="+C.maxAge}if(C.domain){if(!i.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);U+="; Domain="+C.domain}if(C.path){if(!r.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);U+="; Path="+C.path}if(C.expires){if(!_(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);U+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(U+="; HttpOnly"),C.secure&&(U+="; Secure"),C.partitioned&&(U+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":U+="; Priority=Low";break;case"medium":U+="; Priority=Medium";break;case"high":U+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":U+="; SameSite=Strict";break;case"lax":U+="; SameSite=Lax";break;case"none":U+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return U}function y(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function _(b){return o.call(b)==="[object Date]"}return Ll}Aw();var x_="popstate";function xw(e={}){function t(r,o){let{pathname:u,search:c,hash:d}=r.location;return qm("",{pathname:u,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(r,o){return typeof o=="string"?o:eu(o)}return Rw(t,i,null,e)}function De(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Yi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ww(){return Math.random().toString(36).substring(2,10)}function w_(e,t){return{usr:e.state,key:e.key,idx:t}}function qm(e,t,i=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ao(t):t,state:i,key:t&&t.key||r||ww()}}function eu({pathname:e="/",search:t="",hash:i=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Ao(e){let t={};if(e){let i=e.indexOf("#");i>=0&&(t.hash=e.substring(i),e=e.substring(0,i));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Rw(e,t,i,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,c=o.history,d="POP",m=null,g=y();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function y(){return(c.state||{idx:null}).idx}function _(){d="POP";let j=y(),U=j==null?null:j-g;g=j,m&&m({action:d,location:L.location,delta:U})}function b(j,U){d="PUSH";let K=qm(L.location,j,U);g=y()+1;let Q=w_(K,g),lt=L.createHref(K);try{c.pushState(Q,"",lt)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;o.location.assign(lt)}u&&m&&m({action:d,location:L.location,delta:1})}function w(j,U){d="REPLACE";let K=qm(L.location,j,U);g=y();let Q=w_(K,g),lt=L.createHref(K);c.replaceState(Q,"",lt),u&&m&&m({action:d,location:L.location,delta:0})}function C(j){return Cw(j)}let L={get action(){return d},get location(){return e(o,c)},listen(j){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(x_,_),m=j,()=>{o.removeEventListener(x_,_),m=null}},createHref(j){return t(o,j)},createURL:C,encodeLocation(j){let U=C(j);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:b,replace:w,go(j){return c.go(j)}};return L}function Cw(e,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),De(i,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:eu(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=i+r),new URL(r,i)}function i1(e,t,i="/"){return Dw(e,t,i,!1)}function Dw(e,t,i,r){let o=typeof t=="string"?Ao(t):t,u=Ss(o.pathname||"/",i);if(u==null)return null;let c=s1(e);Vw(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let g=zw(u);d=Bw(c[m],g,r)}return d}function s1(e,t=[],i=[],r=""){let o=(u,c,d)=>{let m={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:c,route:u};m.relativePath.startsWith("/")&&(De(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length));let g=Es([r,m.relativePath]),y=i.concat(m);u.children&&u.children.length>0&&(De(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),s1(u.children,t,y,g)),!(u.path==null&&!u.index)&&t.push({path:g,score:Lw(g,u.index),routesMeta:y})};return e.forEach((u,c)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))o(u,c);else for(let m of r1(u.path))o(u,c,m)}),t}function r1(e){let t=e.split("/");if(t.length===0)return[];let[i,...r]=t,o=i.endsWith("?"),u=i.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let c=r1(r.join("/")),d=[];return d.push(...c.map(m=>m===""?u:[u,m].join("/"))),o&&d.push(...c),d.map(m=>e.startsWith("/")&&m===""?"/":m)}function Vw(e){e.sort((t,i)=>t.score!==i.score?i.score-t.score:jw(t.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}var Mw=/^:[\w-]+$/,Nw=3,Iw=2,Ow=1,Pw=10,kw=-2,R_=e=>e==="*";function Lw(e,t){let i=e.split("/"),r=i.length;return i.some(R_)&&(r+=kw),t&&(r+=Iw),i.filter(o=>!R_(o)).reduce((o,u)=>o+(Mw.test(u)?Nw:u===""?Ow:Pw),r)}function jw(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function Bw(e,t,i=!1){let{routesMeta:r}=e,o={},u="/",c=[];for(let d=0;d<r.length;++d){let m=r[d],g=d===r.length-1,y=u==="/"?t:t.slice(u.length)||"/",_=Sh({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},y),b=m.route;if(!_&&g&&i&&!r[r.length-1].route.index&&(_=Sh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(o,_.params),c.push({params:o,pathname:Es([u,_.pathname]),pathnameBase:Gw(Es([u,_.pathnameBase])),route:b}),_.pathnameBase!=="/"&&(u=Es([u,_.pathnameBase]))}return c}function Sh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[i,r]=Uw(e.path,e.caseSensitive,e.end),o=t.match(i);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:r.reduce((g,{paramName:y,isOptional:_},b)=>{if(y==="*"){let C=d[b]||"";c=u.slice(0,u.length-C.length).replace(/(.)\/+$/,"$1")}const w=d[b];return _&&!w?g[y]=void 0:g[y]=(w||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:c,pattern:e}}function Uw(e,t=!1,i=!0){Yi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(r.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function zw(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Yi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ss(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,r=e.charAt(i);return r&&r!=="/"?null:e.slice(i)||"/"}function Hw(e,t="/"){let{pathname:i,search:r="",hash:o=""}=typeof e=="string"?Ao(e):e;return{pathname:i?i.startsWith("/")?i:Fw(i,t):t,search:Yw(r),hash:Kw(o)}}function Fw(e,t){let i=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function bm(e,t,i,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qw(e){return e.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function a1(e){let t=qw(e);return t.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase)}function o1(e,t,i,r=!1){let o;typeof e=="string"?o=Ao(e):(o={...e},De(!o.pathname||!o.pathname.includes("?"),bm("?","pathname","search",o)),De(!o.pathname||!o.pathname.includes("#"),bm("#","pathname","hash",o)),De(!o.search||!o.search.includes("#"),bm("#","search","hash",o)));let u=e===""||o.pathname==="",c=u?"/":o.pathname,d;if(c==null)d=i;else{let _=t.length-1;if(!r&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),_-=1;o.pathname=b.join("/")}d=_>=0?t[_]:"/"}let m=Hw(o,d),g=c&&c!=="/"&&c.endsWith("/"),y=(u||c===".")&&i.endsWith("/");return!m.pathname.endsWith("/")&&(g||y)&&(m.pathname+="/"),m}var Es=e=>e.join("/").replace(/\/\/+/g,"/"),Gw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Yw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Kw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Qw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var l1=["POST","PUT","PATCH","DELETE"];new Set(l1);var Xw=["GET",...l1];new Set(Xw);var xo=k.createContext(null);xo.displayName="DataRouter";var Yh=k.createContext(null);Yh.displayName="DataRouterState";var u1=k.createContext({isTransitioning:!1});u1.displayName="ViewTransition";var $w=k.createContext(new Map);$w.displayName="Fetchers";var Zw=k.createContext(null);Zw.displayName="Await";var Xi=k.createContext(null);Xi.displayName="Navigation";var _u=k.createContext(null);_u.displayName="Location";var $i=k.createContext({outlet:null,matches:[],isDataRoute:!1});$i.displayName="Route";var kp=k.createContext(null);kp.displayName="RouteError";function Ww(e,{relative:t}={}){De(Tu(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=k.useContext(Xi),{hash:o,pathname:u,search:c}=bu(e,{relative:t}),d=u;return i!=="/"&&(d=u==="/"?i:Es([i,u])),r.createHref({pathname:d,search:c,hash:o})}function Tu(){return k.useContext(_u)!=null}function ua(){return De(Tu(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(_u).location}var c1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function h1(e){k.useContext(Xi).static||k.useLayoutEffect(e)}function Lp(){let{isDataRoute:e}=k.useContext($i);return e?f2():Jw()}function Jw(){De(Tu(),"useNavigate() may be used only in the context of a <Router> component.");let e=k.useContext(xo),{basename:t,navigator:i}=k.useContext(Xi),{matches:r}=k.useContext($i),{pathname:o}=ua(),u=JSON.stringify(a1(r)),c=k.useRef(!1);return h1(()=>{c.current=!0}),k.useCallback((m,g={})=>{if(Yi(c.current,c1),!c.current)return;if(typeof m=="number"){i.go(m);return}let y=o1(m,JSON.parse(u),o,g.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:Es([t,y.pathname])),(g.replace?i.replace:i.push)(y,g.state,g)},[t,i,u,o,e])}k.createContext(null);function t2(){let{matches:e}=k.useContext($i),t=e[e.length-1];return t?t.params:{}}function bu(e,{relative:t}={}){let{matches:i}=k.useContext($i),{pathname:r}=ua(),o=JSON.stringify(a1(i));return k.useMemo(()=>o1(e,JSON.parse(o),r,t==="path"),[e,o,r,t])}function e2(e,t){return f1(e,t)}function f1(e,t,i,r){var U;De(Tu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=k.useContext(Xi),{matches:u}=k.useContext($i),c=u[u.length-1],d=c?c.params:{},m=c?c.pathname:"/",g=c?c.pathnameBase:"/",y=c&&c.route;{let K=y&&y.path||"";d1(m,!y||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let _=ua(),b;if(t){let K=typeof t=="string"?Ao(t):t;De(g==="/"||((U=K.pathname)==null?void 0:U.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${K.pathname}" was given in the \`location\` prop.`),b=K}else b=_;let w=b.pathname||"/",C=w;if(g!=="/"){let K=g.replace(/^\//,"").split("/");C="/"+w.replace(/^\//,"").split("/").slice(K.length).join("/")}let L=i1(e,{pathname:C});Yi(y||L!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Yi(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=a2(L&&L.map(K=>Object.assign({},K,{params:Object.assign({},d,K.params),pathname:Es([g,o.encodeLocation?o.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?g:Es([g,o.encodeLocation?o.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),u,i,r);return t&&j?k.createElement(_u.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},j):j}function n2(){let e=h2(),t=Qw(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=k.createElement(k.Fragment,null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:u},"ErrorBoundary")," or"," ",k.createElement("code",{style:u},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),i?k.createElement("pre",{style:o},i):null,c)}var i2=k.createElement(n2,null),s2=class extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?k.createElement($i.Provider,{value:this.props.routeContext},k.createElement(kp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function r2({routeContext:e,match:t,children:i}){let r=k.useContext(xo);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),k.createElement($i.Provider,{value:e},i)}function a2(e,t=[],i=null,r=null){if(e==null){if(!i)return null;if(i.errors)e=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)e=i.matches;else return null}let o=e,u=i==null?void 0:i.errors;if(u!=null){let m=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);De(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let c=!1,d=-1;if(i)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=m),g.route.id){let{loaderData:y,errors:_}=i,b=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!_||_[g.route.id]===void 0);if(g.route.lazy||b){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((m,g,y)=>{let _,b=!1,w=null,C=null;i&&(_=u&&g.route.id?u[g.route.id]:void 0,w=g.route.errorElement||i2,c&&(d<0&&y===0?(d1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,C=null):d===y&&(b=!0,C=g.route.hydrateFallbackElement||null)));let L=t.concat(o.slice(0,y+1)),j=()=>{let U;return _?U=w:b?U=C:g.route.Component?U=k.createElement(g.route.Component,null):g.route.element?U=g.route.element:U=m,k.createElement(r2,{match:g,routeContext:{outlet:m,matches:L,isDataRoute:i!=null},children:U})};return i&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?k.createElement(s2,{location:i.location,revalidation:i.revalidation,component:w,error:_,children:j(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):j()},null)}function jp(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function o2(e){let t=k.useContext(xo);return De(t,jp(e)),t}function l2(e){let t=k.useContext(Yh);return De(t,jp(e)),t}function u2(e){let t=k.useContext($i);return De(t,jp(e)),t}function Bp(e){let t=u2(e),i=t.matches[t.matches.length-1];return De(i.route.id,`${e} can only be used on routes that contain a unique "id"`),i.route.id}function c2(){return Bp("useRouteId")}function h2(){var r;let e=k.useContext(kp),t=l2("useRouteError"),i=Bp("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[i]}function f2(){let{router:e}=o2("useNavigate"),t=Bp("useNavigate"),i=k.useRef(!1);return h1(()=>{i.current=!0}),k.useCallback(async(o,u={})=>{Yi(i.current,c1),i.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:t,...u}))},[e,t])}var C_={};function d1(e,t,i){!t&&!C_[e]&&(C_[e]=!0,Yi(!1,i))}k.memo(d2);function d2({routes:e,future:t,state:i}){return f1(e,void 0,i,t)}function lh(e){De(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function m2({basename:e="/",children:t=null,location:i,navigationType:r="POP",navigator:o,static:u=!1}){De(!Tu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=k.useMemo(()=>({basename:c,navigator:o,static:u,future:{}}),[c,o,u]);typeof i=="string"&&(i=Ao(i));let{pathname:m="/",search:g="",hash:y="",state:_=null,key:b="default"}=i,w=k.useMemo(()=>{let C=Ss(m,c);return C==null?null:{location:{pathname:C,search:g,hash:y,state:_,key:b},navigationType:r}},[c,m,g,y,_,b,r]);return Yi(w!=null,`<Router basename="${c}"> is not able to match the URL "${m}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:k.createElement(Xi.Provider,{value:d},k.createElement(_u.Provider,{children:t,value:w}))}function p2({children:e,location:t}){return e2(Gm(e),t)}function Gm(e,t=[]){let i=[];return k.Children.forEach(e,(r,o)=>{if(!k.isValidElement(r))return;let u=[...t,o];if(r.type===k.Fragment){i.push.apply(i,Gm(r.props.children,u));return}De(r.type===lh,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),De(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Gm(r.props.children,u)),i.push(c)}),i}var uh="get",ch="application/x-www-form-urlencoded";function Kh(e){return e!=null&&typeof e.tagName=="string"}function g2(e){return Kh(e)&&e.tagName.toLowerCase()==="button"}function y2(e){return Kh(e)&&e.tagName.toLowerCase()==="form"}function v2(e){return Kh(e)&&e.tagName.toLowerCase()==="input"}function _2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function T2(e,t){return e.button===0&&(!t||t==="_self")&&!_2(e)}var $c=null;function b2(){if($c===null)try{new FormData(document.createElement("form"),0),$c=!1}catch{$c=!0}return $c}var E2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Em(e){return e!=null&&!E2.has(e)?(Yi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ch}"`),null):e}function S2(e,t){let i,r,o,u,c;if(y2(e)){let d=e.getAttribute("action");r=d?Ss(d,t):null,i=e.getAttribute("method")||uh,o=Em(e.getAttribute("enctype"))||ch,u=new FormData(e)}else if(g2(e)||v2(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||d.getAttribute("action");if(r=m?Ss(m,t):null,i=e.getAttribute("formmethod")||d.getAttribute("method")||uh,o=Em(e.getAttribute("formenctype"))||Em(d.getAttribute("enctype"))||ch,u=new FormData(d,e),!b2()){let{name:g,type:y,value:_}=e;if(y==="image"){let b=g?`${g}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else g&&u.append(g,_)}}else{if(Kh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=uh,r=null,o=ch,c=e}return u&&o==="text/plain"&&(c=u,u=void 0),{action:r,method:i.toLowerCase(),encType:o,formData:u,body:c}}function Up(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function A2(e,t){if(e.id in t)return t[e.id];try{let i=await import(e.module);return t[e.id]=i,i}catch(i){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function x2(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function w2(e,t,i){let r=await Promise.all(e.map(async o=>{let u=t.routes[o.route.id];if(u){let c=await A2(u,i);return c.links?c.links():[]}return[]}));return V2(r.flat(1).filter(x2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function D_(e,t,i,r,o,u){let c=(m,g)=>i[g]?m.route.id!==i[g].route.id:!0,d=(m,g)=>{var y;return i[g].pathname!==m.pathname||((y=i[g].route.path)==null?void 0:y.endsWith("*"))&&i[g].params["*"]!==m.params["*"]};return u==="assets"?t.filter((m,g)=>c(m,g)||d(m,g)):u==="data"?t.filter((m,g)=>{var _;let y=r.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((_=i[0])==null?void 0:_.params)||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function R2(e,t,{includeHydrateFallback:i}={}){return C2(e.map(r=>{let o=t.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function C2(e){return[...new Set(e)]}function D2(e){let t={},i=Object.keys(e).sort();for(let r of i)t[r]=e[r];return t}function V2(e,t){let i=new Set;return new Set(t),e.reduce((r,o)=>{let u=JSON.stringify(D2(o));return i.has(u)||(i.add(u),r.push({key:u,link:o})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var M2=new Set([100,101,204,205]);function N2(e,t){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname="_root.data":t&&Ss(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function m1(){let e=k.useContext(xo);return Up(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function I2(){let e=k.useContext(Yh);return Up(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var zp=k.createContext(void 0);zp.displayName="FrameworkContext";function p1(){let e=k.useContext(zp);return Up(e,"You must render this element inside a <HydratedRouter> element"),e}function O2(e,t){let i=k.useContext(zp),[r,o]=k.useState(!1),[u,c]=k.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:y,onTouchStart:_}=t,b=k.useRef(null);k.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let L=U=>{U.forEach(K=>{c(K.isIntersecting)})},j=new IntersectionObserver(L,{threshold:.5});return b.current&&j.observe(b.current),()=>{j.disconnect()}}},[e]),k.useEffect(()=>{if(r){let L=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(L)}}},[r]);let w=()=>{o(!0)},C=()=>{o(!1),c(!1)};return i?e!=="intent"?[u,b,{}]:[u,b,{onFocus:jl(d,w),onBlur:jl(m,C),onMouseEnter:jl(g,w),onMouseLeave:jl(y,C),onTouchStart:jl(_,w)}]:[!1,b,{}]}function jl(e,t){return i=>{e&&e(i),i.defaultPrevented||t(i)}}function P2({page:e,...t}){let{router:i}=m1(),r=k.useMemo(()=>i1(i.routes,e,i.basename),[i.routes,e,i.basename]);return r?k.createElement(L2,{page:e,matches:r,...t}):null}function k2(e){let{manifest:t,routeModules:i}=p1(),[r,o]=k.useState([]);return k.useEffect(()=>{let u=!1;return w2(e,t,i).then(c=>{u||o(c)}),()=>{u=!0}},[e,t,i]),r}function L2({page:e,matches:t,...i}){let r=ua(),{manifest:o,routeModules:u}=p1(),{basename:c}=m1(),{loaderData:d,matches:m}=I2(),g=k.useMemo(()=>D_(e,t,m,o,r,"data"),[e,t,m,o,r]),y=k.useMemo(()=>D_(e,t,m,o,r,"assets"),[e,t,m,o,r]),_=k.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let C=new Set,L=!1;if(t.forEach(U=>{var Q;let K=o.routes[U.route.id];!K||!K.hasLoader||(!g.some(lt=>lt.route.id===U.route.id)&&U.route.id in d&&((Q=u[U.route.id])!=null&&Q.shouldRevalidate)||K.hasClientLoader?L=!0:C.add(U.route.id))}),C.size===0)return[];let j=N2(e,c);return L&&C.size>0&&j.searchParams.set("_routes",t.filter(U=>C.has(U.route.id)).map(U=>U.route.id).join(",")),[j.pathname+j.search]},[c,d,r,o,g,t,e,u]),b=k.useMemo(()=>R2(y,o),[y,o]),w=k2(y);return k.createElement(k.Fragment,null,_.map(C=>k.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...i})),b.map(C=>k.createElement("link",{key:C,rel:"modulepreload",href:C,...i})),w.map(({key:C,link:L})=>k.createElement("link",{key:C,...L})))}function j2(...e){return t=>{e.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var g1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{g1&&(window.__reactRouterVersion="7.6.2")}catch{}function B2({basename:e,children:t,window:i}){let r=k.useRef();r.current==null&&(r.current=xw({window:i,v5Compat:!0}));let o=r.current,[u,c]=k.useState({action:o.action,location:o.location}),d=k.useCallback(m=>{k.startTransition(()=>c(m))},[c]);return k.useLayoutEffect(()=>o.listen(d),[o,d]),k.createElement(m2,{basename:e,children:t,location:u.location,navigationType:u.action,navigator:o})}var y1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,v1=k.forwardRef(function({onClick:t,discover:i="render",prefetch:r="none",relative:o,reloadDocument:u,replace:c,state:d,target:m,to:g,preventScrollReset:y,viewTransition:_,...b},w){let{basename:C}=k.useContext(Xi),L=typeof g=="string"&&y1.test(g),j,U=!1;if(typeof g=="string"&&L&&(j=g,g1))try{let D=new URL(window.location.href),O=g.startsWith("//")?new URL(D.protocol+g):new URL(g),P=Ss(O.pathname,C);O.origin===D.origin&&P!=null?g=P+O.search+O.hash:U=!0}catch{Yi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=Ww(g,{relative:o}),[Q,lt,q]=O2(r,b),st=F2(g,{replace:c,state:d,target:m,preventScrollReset:y,relative:o,viewTransition:_});function V(D){t&&t(D),D.defaultPrevented||st(D)}let R=k.createElement("a",{...b,...q,href:j||K,onClick:U||u?t:V,ref:j2(w,lt),target:m,"data-discover":!L&&i==="render"?"true":void 0});return Q&&!L?k.createElement(k.Fragment,null,R,k.createElement(P2,{page:K})):R});v1.displayName="Link";var U2=k.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:r="",end:o=!1,style:u,to:c,viewTransition:d,children:m,...g},y){let _=bu(c,{relative:g.relative}),b=ua(),w=k.useContext(Yh),{navigator:C,basename:L}=k.useContext(Xi),j=w!=null&&Q2(_)&&d===!0,U=C.encodeLocation?C.encodeLocation(_).pathname:_.pathname,K=b.pathname,Q=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;i||(K=K.toLowerCase(),Q=Q?Q.toLowerCase():null,U=U.toLowerCase()),Q&&L&&(Q=Ss(Q,L)||Q);const lt=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let q=K===U||!o&&K.startsWith(U)&&K.charAt(lt)==="/",st=Q!=null&&(Q===U||!o&&Q.startsWith(U)&&Q.charAt(U.length)==="/"),V={isActive:q,isPending:st,isTransitioning:j},R=q?t:void 0,D;typeof r=="function"?D=r(V):D=[r,q?"active":null,st?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(V):u;return k.createElement(v1,{...g,"aria-current":R,className:D,ref:y,style:O,to:c,viewTransition:d},typeof m=="function"?m(V):m)});U2.displayName="NavLink";var z2=k.forwardRef(({discover:e="render",fetcherKey:t,navigate:i,reloadDocument:r,replace:o,state:u,method:c=uh,action:d,onSubmit:m,relative:g,preventScrollReset:y,viewTransition:_,...b},w)=>{let C=Y2(),L=K2(d,{relative:g}),j=c.toLowerCase()==="get"?"get":"post",U=typeof d=="string"&&y1.test(d),K=Q=>{if(m&&m(Q),Q.defaultPrevented)return;Q.preventDefault();let lt=Q.nativeEvent.submitter,q=(lt==null?void 0:lt.getAttribute("formmethod"))||c;C(lt||Q.currentTarget,{fetcherKey:t,method:q,navigate:i,replace:o,state:u,relative:g,preventScrollReset:y,viewTransition:_})};return k.createElement("form",{ref:w,method:j,action:L,onSubmit:r?m:K,...b,"data-discover":!U&&e==="render"?"true":void 0})});z2.displayName="Form";function H2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _1(e){let t=k.useContext(xo);return De(t,H2(e)),t}function F2(e,{target:t,replace:i,state:r,preventScrollReset:o,relative:u,viewTransition:c}={}){let d=Lp(),m=ua(),g=bu(e,{relative:u});return k.useCallback(y=>{if(T2(y,t)){y.preventDefault();let _=i!==void 0?i:eu(m)===eu(g);d(e,{replace:_,state:r,preventScrollReset:o,relative:u,viewTransition:c})}},[m,d,g,i,r,t,e,o,u,c])}var q2=0,G2=()=>`__${String(++q2)}__`;function Y2(){let{router:e}=_1("useSubmit"),{basename:t}=k.useContext(Xi),i=c2();return k.useCallback(async(r,o={})=>{let{action:u,method:c,encType:d,formData:m,body:g}=S2(r,t);if(o.navigate===!1){let y=o.fetcherKey||G2();await e.fetch(y,i,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await e.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,i])}function K2(e,{relative:t}={}){let{basename:i}=k.useContext(Xi),r=k.useContext($i);De(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...bu(e||".",{relative:t})},c=ua();if(e==null){u.search=c.search;let d=new URLSearchParams(u.search),m=d.getAll("index");if(m.some(y=>y==="")){d.delete("index"),m.filter(_=>_).forEach(_=>d.append("index",_));let y=d.toString();u.search=y?`?${y}`:""}}return(!e||e===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:Es([i,u.pathname])),eu(u)}function Q2(e,t={}){let i=k.useContext(u1);De(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=_1("useViewTransitionState"),o=bu(e,{relative:t.relative});if(!i.isTransitioning)return!1;let u=Ss(i.currentLocation.pathname,r)||i.currentLocation.pathname,c=Ss(i.nextLocation.pathname,r)||i.nextLocation.pathname;return Sh(o.pathname,c)!=null||Sh(o.pathname,u)!=null}[...M2];const X2=()=>{};var V_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1=function(e){const t=[];let i=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},$2=function(e){const t=[];let i=0,r=0;for(;i<e.length;){const o=e[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=e[i++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=e[i++],c=e[i++],d=e[i++],m=((o&7)<<18|(u&63)<<12|(c&63)<<6|d&63)-65536;t[r++]=String.fromCharCode(55296+(m>>10)),t[r++]=String.fromCharCode(56320+(m&1023))}else{const u=e[i++],c=e[i++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},b1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<e.length;o+=3){const u=e[o],c=o+1<e.length,d=c?e[o+1]:0,m=o+2<e.length,g=m?e[o+2]:0,y=u>>2,_=(u&3)<<4|d>>4;let b=(d&15)<<2|g>>6,w=g&63;m||(w=64,c||(b=64)),r.push(i[y],i[_],i[b],i[w])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(T1(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):$2(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<e.length;){const u=i[e.charAt(o++)],d=o<e.length?i[e.charAt(o)]:0;++o;const g=o<e.length?i[e.charAt(o)]:64;++o;const _=o<e.length?i[e.charAt(o)]:64;if(++o,u==null||d==null||g==null||_==null)throw new Z2;const b=u<<2|d>>4;if(r.push(b),g!==64){const w=d<<4&240|g>>2;if(r.push(w),_!==64){const C=g<<6&192|_;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Z2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const W2=function(e){const t=T1(e);return b1.encodeByteArray(t,!0)},Ah=function(e){return W2(e).replace(/\./g,"")},J2=function(e){try{return b1.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=()=>tR().__FIREBASE_DEFAULTS__,nR=()=>{if(typeof process>"u"||typeof V_>"u")return;const e=V_.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},iR=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&J2(e[1]);return t&&JSON.parse(t)},Hp=()=>{try{return X2()||eR()||nR()||iR()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},sR=e=>{var t,i;return(i=(t=Hp())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[e]},rR=e=>{const t=sR(e);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},E1=()=>{var e;return(e=Hp())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(e){return e.endsWith(".cloudworkstations.dev")}async function oR(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=e.iat||0,u=e.sub||e.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ah(JSON.stringify(i)),Ah(JSON.stringify(c)),""].join(".")}const Gl={};function uR(){const e={prod:[],emulator:[]};for(const t of Object.keys(Gl))Gl[t]?e.emulator.push(t):e.prod.push(t);return e}function cR(e){let t=document.getElementById(e),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),i=!0),{created:i,element:t}}let M_=!1;function hR(e,t){if(typeof window>"u"||typeof document>"u"||!Fp(window.location.host)||Gl[e]===t||Gl[e]||M_)return;Gl[e]=t;function i(b){return`__firebase__banner__${b}`}const r="__firebase__banner",u=uR().prod.length>0;function c(){const b=document.getElementById(r);b&&b.remove()}function d(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function m(b,w){b.setAttribute("width","24"),b.setAttribute("id",w),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{M_=!0,c()},b}function y(b,w){b.setAttribute("id",w),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function _(){const b=cR(r),w=i("text"),C=document.getElementById(w)||document.createElement("span"),L=i("learnmore"),j=document.getElementById(L)||document.createElement("a"),U=i("preprendIcon"),K=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const Q=b.element;d(Q),y(j,L);const lt=g();m(K,U),Q.append(K,C,j,lt),document.body.appendChild(Q)}u?(C.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dR(){var e;const t=(e=Hp())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mR(){return!dR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pR(){try{return typeof indexedDB=="object"}catch{return!1}}function gR(){return new Promise((e,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="FirebaseError";class wo extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=yR,Object.setPrototypeOf(this,wo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,S1.prototype.create)}}class S1{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?vR(u,r):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new wo(o,d,r)}}function vR(e,t){return e.replace(_R,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const _R=/\{\$([^}]+)}/g;function xh(e,t){if(e===t)return!0;const i=Object.keys(e),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const u=e[o],c=t[o];if(N_(u)&&N_(c)){if(!xh(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function N_(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(e){return e&&e._delegate?e._delegate:e}class nu{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new aR;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ER(t))try{this.getOrInitializeService({instanceIdentifier:Jr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Jr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Jr){return this.instances.has(t)}getOptions(t=Jr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);r===d&&c.resolve(o)}return o}onInit(t,i){var r;const o=this.normalizeInstanceIdentifier(i),u=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;u.add(t),this.onInitCallbacks.set(o,u);const c=this.instances.get(o);return c&&t(c,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bR(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Jr){return this.component?this.component.multipleInstances?t:Jr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bR(e){return e===Jr?void 0:e}function ER(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new TR(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ee;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ee||(ee={}));const AR={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},xR=ee.INFO,wR={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},RR=(e,t,...i)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),o=wR[t];if(o)console[o](`[${r}]  ${e.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class A1{constructor(t){this.name=t,this._logLevel=xR,this._logHandler=RR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ee))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?AR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...t),this._logHandler(this,ee.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...t),this._logHandler(this,ee.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...t),this._logHandler(this,ee.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...t),this._logHandler(this,ee.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...t),this._logHandler(this,ee.ERROR,...t)}}const CR=(e,t)=>t.some(i=>e instanceof i);let I_,O_;function DR(){return I_||(I_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VR(){return O_||(O_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const x1=new WeakMap,Ym=new WeakMap,w1=new WeakMap,Sm=new WeakMap,qp=new WeakMap;function MR(e){const t=new Promise((i,r)=>{const o=()=>{e.removeEventListener("success",u),e.removeEventListener("error",c)},u=()=>{i(rr(e.result)),o()},c=()=>{r(e.error),o()};e.addEventListener("success",u),e.addEventListener("error",c)});return t.then(i=>{i instanceof IDBCursor&&x1.set(i,e)}).catch(()=>{}),qp.set(t,e),t}function NR(e){if(Ym.has(e))return;const t=new Promise((i,r)=>{const o=()=>{e.removeEventListener("complete",u),e.removeEventListener("error",c),e.removeEventListener("abort",c)},u=()=>{i(),o()},c=()=>{r(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",u),e.addEventListener("error",c),e.addEventListener("abort",c)});Ym.set(e,t)}let Km={get(e,t,i){if(e instanceof IDBTransaction){if(t==="done")return Ym.get(e);if(t==="objectStoreNames")return e.objectStoreNames||w1.get(e);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return rr(e[t])},set(e,t,i){return e[t]=i,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function IR(e){Km=e(Km)}function OR(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=e.call(Am(this),t,...i);return w1.set(r,t.sort?t.sort():[t]),rr(r)}:VR().includes(e)?function(...t){return e.apply(Am(this),t),rr(x1.get(this))}:function(...t){return rr(e.apply(Am(this),t))}}function PR(e){return typeof e=="function"?OR(e):(e instanceof IDBTransaction&&NR(e),CR(e,DR())?new Proxy(e,Km):e)}function rr(e){if(e instanceof IDBRequest)return MR(e);if(Sm.has(e))return Sm.get(e);const t=PR(e);return t!==e&&(Sm.set(e,t),qp.set(t,e)),t}const Am=e=>qp.get(e);function kR(e,t,{blocked:i,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(e,t),d=rr(c);return r&&c.addEventListener("upgradeneeded",m=>{r(rr(c.result),m.oldVersion,m.newVersion,rr(c.transaction),m)}),i&&c.addEventListener("blocked",m=>i(m.oldVersion,m.newVersion,m)),d.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const LR=["get","getKey","getAll","getAllKeys","count"],jR=["put","add","delete","clear"],xm=new Map;function P_(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(xm.get(t))return xm.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=jR.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||LR.includes(i)))return;const u=async function(c,...d){const m=this.transaction(c,o?"readwrite":"readonly");let g=m.store;return r&&(g=g.index(d.shift())),(await Promise.all([g[i](...d),o&&m.done]))[0]};return xm.set(t,u),u}IR(e=>({...e,get:(t,i,r)=>P_(t,i)||e.get(t,i,r),has:(t,i)=>!!P_(t,i)||e.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(UR(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function UR(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Qm="@firebase/app",k_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As=new A1("@firebase/app"),zR="@firebase/app-compat",HR="@firebase/analytics-compat",FR="@firebase/analytics",qR="@firebase/app-check-compat",GR="@firebase/app-check",YR="@firebase/auth",KR="@firebase/auth-compat",QR="@firebase/database",XR="@firebase/data-connect",$R="@firebase/database-compat",ZR="@firebase/functions",WR="@firebase/functions-compat",JR="@firebase/installations",tC="@firebase/installations-compat",eC="@firebase/messaging",nC="@firebase/messaging-compat",iC="@firebase/performance",sC="@firebase/performance-compat",rC="@firebase/remote-config",aC="@firebase/remote-config-compat",oC="@firebase/storage",lC="@firebase/storage-compat",uC="@firebase/firestore",cC="@firebase/ai",hC="@firebase/firestore-compat",fC="firebase",dC="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="[DEFAULT]",mC={[Qm]:"fire-core",[zR]:"fire-core-compat",[FR]:"fire-analytics",[HR]:"fire-analytics-compat",[GR]:"fire-app-check",[qR]:"fire-app-check-compat",[YR]:"fire-auth",[KR]:"fire-auth-compat",[QR]:"fire-rtdb",[XR]:"fire-data-connect",[$R]:"fire-rtdb-compat",[ZR]:"fire-fn",[WR]:"fire-fn-compat",[JR]:"fire-iid",[tC]:"fire-iid-compat",[eC]:"fire-fcm",[nC]:"fire-fcm-compat",[iC]:"fire-perf",[sC]:"fire-perf-compat",[rC]:"fire-rc",[aC]:"fire-rc-compat",[oC]:"fire-gcs",[lC]:"fire-gcs-compat",[uC]:"fire-fst",[hC]:"fire-fst-compat",[cC]:"fire-vertex","fire-js":"fire-js",[fC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new Map,pC=new Map,$m=new Map;function L_(e,t){try{e.container.addComponent(t)}catch(i){As.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,i)}}function Rh(e){const t=e.name;if($m.has(t))return As.debug(`There were multiple attempts to register component ${t}.`),!1;$m.set(t,e);for(const i of wh.values())L_(i,e);for(const i of pC.values())L_(i,e);return!0}function gC(e,t){const i=e.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),e.container.getProvider(t)}function yC(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ar=new S1("app","Firebase",vC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(t,i,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new nu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ar.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=dC;function R1(e,t={}){let i=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Xm,automaticDataCollectionEnabled:!0},t),o=r.name;if(typeof o!="string"||!o)throw ar.create("bad-app-name",{appName:String(o)});if(i||(i=E1()),!i)throw ar.create("no-options");const u=wh.get(o);if(u){if(xh(i,u.options)&&xh(r,u.config))return u;throw ar.create("duplicate-app",{appName:o})}const c=new SR(o);for(const m of $m.values())c.addComponent(m);const d=new _C(i,r,c);return wh.set(o,d),d}function bC(e=Xm){const t=wh.get(e);if(!t&&e===Xm&&E1())return R1();if(!t)throw ar.create("no-app",{appName:e});return t}function co(e,t,i){var r;let o=(r=mC[e])!==null&&r!==void 0?r:e;i&&(o+=`-${i}`);const u=o.match(/\s|\//),c=t.match(/\s|\//);if(u||c){const d=[`Unable to register library "${o}" with version "${t}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),As.warn(d.join(" "));return}Rh(new nu(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="firebase-heartbeat-database",SC=1,iu="firebase-heartbeat-store";let wm=null;function C1(){return wm||(wm=kR(EC,SC,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(iu)}catch(i){console.warn(i)}}}}).catch(e=>{throw ar.create("idb-open",{originalErrorMessage:e.message})})),wm}async function AC(e){try{const i=(await C1()).transaction(iu),r=await i.objectStore(iu).get(D1(e));return await i.done,r}catch(t){if(t instanceof wo)As.warn(t.message);else{const i=ar.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});As.warn(i.message)}}}async function j_(e,t){try{const r=(await C1()).transaction(iu,"readwrite");await r.objectStore(iu).put(t,D1(e)),await r.done}catch(i){if(i instanceof wo)As.warn(i.message);else{const r=ar.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});As.warn(r.message)}}}function D1(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=1024,wC=30;class RC{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new DC(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=B_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(c=>c.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>wC){const c=VC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){As.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=B_(),{heartbeatsToSend:r,unsentEntries:o}=CC(this._heartbeatsCache.heartbeats),u=Ah(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return As.warn(i),""}}}function B_(){return new Date().toISOString().substring(0,10)}function CC(e,t=xC){const i=[];let r=e.slice();for(const o of e){const u=i.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),U_(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),U_(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class DC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pR()?gR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await AC(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return j_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return j_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function U_(e){return Ah(JSON.stringify({version:2,heartbeats:e})).length}function VC(e){if(e.length===0)return-1;let t=0,i=e[0].date;for(let r=1;r<e.length;r++)e[r].date<i&&(i=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(e){Rh(new nu("platform-logger",t=>new BR(t),"PRIVATE")),Rh(new nu("heartbeat",t=>new RC(t),"PRIVATE")),co(Qm,k_,e),co(Qm,k_,"esm2017"),co("fire-js","")}MC("");var z_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var or,V1;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,R){function D(){}D.prototype=R.prototype,V.D=R.prototype,V.prototype=new D,V.prototype.constructor=V,V.C=function(O,P,z){for(var N=Array(arguments.length-2),he=2;he<arguments.length;he++)N[he-2]=arguments[he];return R.prototype[P].apply(O,N)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,i),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,R,D){D||(D=0);var O=Array(16);if(typeof R=="string")for(var P=0;16>P;++P)O[P]=R.charCodeAt(D++)|R.charCodeAt(D++)<<8|R.charCodeAt(D++)<<16|R.charCodeAt(D++)<<24;else for(P=0;16>P;++P)O[P]=R[D++]|R[D++]<<8|R[D++]<<16|R[D++]<<24;R=V.g[0],D=V.g[1],P=V.g[2];var z=V.g[3],N=R+(z^D&(P^z))+O[0]+3614090360&4294967295;R=D+(N<<7&4294967295|N>>>25),N=z+(P^R&(D^P))+O[1]+3905402710&4294967295,z=R+(N<<12&4294967295|N>>>20),N=P+(D^z&(R^D))+O[2]+606105819&4294967295,P=z+(N<<17&4294967295|N>>>15),N=D+(R^P&(z^R))+O[3]+3250441966&4294967295,D=P+(N<<22&4294967295|N>>>10),N=R+(z^D&(P^z))+O[4]+4118548399&4294967295,R=D+(N<<7&4294967295|N>>>25),N=z+(P^R&(D^P))+O[5]+1200080426&4294967295,z=R+(N<<12&4294967295|N>>>20),N=P+(D^z&(R^D))+O[6]+2821735955&4294967295,P=z+(N<<17&4294967295|N>>>15),N=D+(R^P&(z^R))+O[7]+4249261313&4294967295,D=P+(N<<22&4294967295|N>>>10),N=R+(z^D&(P^z))+O[8]+1770035416&4294967295,R=D+(N<<7&4294967295|N>>>25),N=z+(P^R&(D^P))+O[9]+2336552879&4294967295,z=R+(N<<12&4294967295|N>>>20),N=P+(D^z&(R^D))+O[10]+4294925233&4294967295,P=z+(N<<17&4294967295|N>>>15),N=D+(R^P&(z^R))+O[11]+2304563134&4294967295,D=P+(N<<22&4294967295|N>>>10),N=R+(z^D&(P^z))+O[12]+1804603682&4294967295,R=D+(N<<7&4294967295|N>>>25),N=z+(P^R&(D^P))+O[13]+4254626195&4294967295,z=R+(N<<12&4294967295|N>>>20),N=P+(D^z&(R^D))+O[14]+2792965006&4294967295,P=z+(N<<17&4294967295|N>>>15),N=D+(R^P&(z^R))+O[15]+1236535329&4294967295,D=P+(N<<22&4294967295|N>>>10),N=R+(P^z&(D^P))+O[1]+4129170786&4294967295,R=D+(N<<5&4294967295|N>>>27),N=z+(D^P&(R^D))+O[6]+3225465664&4294967295,z=R+(N<<9&4294967295|N>>>23),N=P+(R^D&(z^R))+O[11]+643717713&4294967295,P=z+(N<<14&4294967295|N>>>18),N=D+(z^R&(P^z))+O[0]+3921069994&4294967295,D=P+(N<<20&4294967295|N>>>12),N=R+(P^z&(D^P))+O[5]+3593408605&4294967295,R=D+(N<<5&4294967295|N>>>27),N=z+(D^P&(R^D))+O[10]+38016083&4294967295,z=R+(N<<9&4294967295|N>>>23),N=P+(R^D&(z^R))+O[15]+3634488961&4294967295,P=z+(N<<14&4294967295|N>>>18),N=D+(z^R&(P^z))+O[4]+3889429448&4294967295,D=P+(N<<20&4294967295|N>>>12),N=R+(P^z&(D^P))+O[9]+568446438&4294967295,R=D+(N<<5&4294967295|N>>>27),N=z+(D^P&(R^D))+O[14]+3275163606&4294967295,z=R+(N<<9&4294967295|N>>>23),N=P+(R^D&(z^R))+O[3]+4107603335&4294967295,P=z+(N<<14&4294967295|N>>>18),N=D+(z^R&(P^z))+O[8]+1163531501&4294967295,D=P+(N<<20&4294967295|N>>>12),N=R+(P^z&(D^P))+O[13]+2850285829&4294967295,R=D+(N<<5&4294967295|N>>>27),N=z+(D^P&(R^D))+O[2]+4243563512&4294967295,z=R+(N<<9&4294967295|N>>>23),N=P+(R^D&(z^R))+O[7]+1735328473&4294967295,P=z+(N<<14&4294967295|N>>>18),N=D+(z^R&(P^z))+O[12]+2368359562&4294967295,D=P+(N<<20&4294967295|N>>>12),N=R+(D^P^z)+O[5]+4294588738&4294967295,R=D+(N<<4&4294967295|N>>>28),N=z+(R^D^P)+O[8]+2272392833&4294967295,z=R+(N<<11&4294967295|N>>>21),N=P+(z^R^D)+O[11]+1839030562&4294967295,P=z+(N<<16&4294967295|N>>>16),N=D+(P^z^R)+O[14]+4259657740&4294967295,D=P+(N<<23&4294967295|N>>>9),N=R+(D^P^z)+O[1]+2763975236&4294967295,R=D+(N<<4&4294967295|N>>>28),N=z+(R^D^P)+O[4]+1272893353&4294967295,z=R+(N<<11&4294967295|N>>>21),N=P+(z^R^D)+O[7]+4139469664&4294967295,P=z+(N<<16&4294967295|N>>>16),N=D+(P^z^R)+O[10]+3200236656&4294967295,D=P+(N<<23&4294967295|N>>>9),N=R+(D^P^z)+O[13]+681279174&4294967295,R=D+(N<<4&4294967295|N>>>28),N=z+(R^D^P)+O[0]+3936430074&4294967295,z=R+(N<<11&4294967295|N>>>21),N=P+(z^R^D)+O[3]+3572445317&4294967295,P=z+(N<<16&4294967295|N>>>16),N=D+(P^z^R)+O[6]+76029189&4294967295,D=P+(N<<23&4294967295|N>>>9),N=R+(D^P^z)+O[9]+3654602809&4294967295,R=D+(N<<4&4294967295|N>>>28),N=z+(R^D^P)+O[12]+3873151461&4294967295,z=R+(N<<11&4294967295|N>>>21),N=P+(z^R^D)+O[15]+530742520&4294967295,P=z+(N<<16&4294967295|N>>>16),N=D+(P^z^R)+O[2]+3299628645&4294967295,D=P+(N<<23&4294967295|N>>>9),N=R+(P^(D|~z))+O[0]+4096336452&4294967295,R=D+(N<<6&4294967295|N>>>26),N=z+(D^(R|~P))+O[7]+1126891415&4294967295,z=R+(N<<10&4294967295|N>>>22),N=P+(R^(z|~D))+O[14]+2878612391&4294967295,P=z+(N<<15&4294967295|N>>>17),N=D+(z^(P|~R))+O[5]+4237533241&4294967295,D=P+(N<<21&4294967295|N>>>11),N=R+(P^(D|~z))+O[12]+1700485571&4294967295,R=D+(N<<6&4294967295|N>>>26),N=z+(D^(R|~P))+O[3]+2399980690&4294967295,z=R+(N<<10&4294967295|N>>>22),N=P+(R^(z|~D))+O[10]+4293915773&4294967295,P=z+(N<<15&4294967295|N>>>17),N=D+(z^(P|~R))+O[1]+2240044497&4294967295,D=P+(N<<21&4294967295|N>>>11),N=R+(P^(D|~z))+O[8]+1873313359&4294967295,R=D+(N<<6&4294967295|N>>>26),N=z+(D^(R|~P))+O[15]+4264355552&4294967295,z=R+(N<<10&4294967295|N>>>22),N=P+(R^(z|~D))+O[6]+2734768916&4294967295,P=z+(N<<15&4294967295|N>>>17),N=D+(z^(P|~R))+O[13]+1309151649&4294967295,D=P+(N<<21&4294967295|N>>>11),N=R+(P^(D|~z))+O[4]+4149444226&4294967295,R=D+(N<<6&4294967295|N>>>26),N=z+(D^(R|~P))+O[11]+3174756917&4294967295,z=R+(N<<10&4294967295|N>>>22),N=P+(R^(z|~D))+O[2]+718787259&4294967295,P=z+(N<<15&4294967295|N>>>17),N=D+(z^(P|~R))+O[9]+3951481745&4294967295,V.g[0]=V.g[0]+R&4294967295,V.g[1]=V.g[1]+(P+(N<<21&4294967295|N>>>11))&4294967295,V.g[2]=V.g[2]+P&4294967295,V.g[3]=V.g[3]+z&4294967295}r.prototype.u=function(V,R){R===void 0&&(R=V.length);for(var D=R-this.blockSize,O=this.B,P=this.h,z=0;z<R;){if(P==0)for(;z<=D;)o(this,V,z),z+=this.blockSize;if(typeof V=="string"){for(;z<R;)if(O[P++]=V.charCodeAt(z++),P==this.blockSize){o(this,O),P=0;break}}else for(;z<R;)if(O[P++]=V[z++],P==this.blockSize){o(this,O),P=0;break}}this.h=P,this.o+=R},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var R=1;R<V.length-8;++R)V[R]=0;var D=8*this.o;for(R=V.length-8;R<V.length;++R)V[R]=D&255,D/=256;for(this.u(V),V=Array(16),R=D=0;4>R;++R)for(var O=0;32>O;O+=8)V[D++]=this.g[R]>>>O&255;return V};function u(V,R){var D=d;return Object.prototype.hasOwnProperty.call(D,V)?D[V]:D[V]=R(V)}function c(V,R){this.h=R;for(var D=[],O=!0,P=V.length-1;0<=P;P--){var z=V[P]|0;O&&z==R||(D[P]=z,O=!1)}this.g=D}var d={};function m(V){return-128<=V&&128>V?u(V,function(R){return new c([R|0],0>R?-1:0)}):new c([V|0],0>V?-1:0)}function g(V){if(isNaN(V)||!isFinite(V))return _;if(0>V)return j(g(-V));for(var R=[],D=1,O=0;V>=D;O++)R[O]=V/D|0,D*=4294967296;return new c(R,0)}function y(V,R){if(V.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(V.charAt(0)=="-")return j(y(V.substring(1),R));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=g(Math.pow(R,8)),O=_,P=0;P<V.length;P+=8){var z=Math.min(8,V.length-P),N=parseInt(V.substring(P,P+z),R);8>z?(z=g(Math.pow(R,z)),O=O.j(z).add(g(N))):(O=O.j(D),O=O.add(g(N)))}return O}var _=m(0),b=m(1),w=m(16777216);e=c.prototype,e.m=function(){if(L(this))return-j(this).m();for(var V=0,R=1,D=0;D<this.g.length;D++){var O=this.i(D);V+=(0<=O?O:4294967296+O)*R,R*=4294967296}return V},e.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(C(this))return"0";if(L(this))return"-"+j(this).toString(V);for(var R=g(Math.pow(V,6)),D=this,O="";;){var P=lt(D,R).g;D=U(D,P.j(R));var z=((0<D.g.length?D.g[0]:D.h)>>>0).toString(V);if(D=P,C(D))return z+O;for(;6>z.length;)z="0"+z;O=z+O}},e.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function C(V){if(V.h!=0)return!1;for(var R=0;R<V.g.length;R++)if(V.g[R]!=0)return!1;return!0}function L(V){return V.h==-1}e.l=function(V){return V=U(this,V),L(V)?-1:C(V)?0:1};function j(V){for(var R=V.g.length,D=[],O=0;O<R;O++)D[O]=~V.g[O];return new c(D,~V.h).add(b)}e.abs=function(){return L(this)?j(this):this},e.add=function(V){for(var R=Math.max(this.g.length,V.g.length),D=[],O=0,P=0;P<=R;P++){var z=O+(this.i(P)&65535)+(V.i(P)&65535),N=(z>>>16)+(this.i(P)>>>16)+(V.i(P)>>>16);O=N>>>16,z&=65535,N&=65535,D[P]=N<<16|z}return new c(D,D[D.length-1]&-2147483648?-1:0)};function U(V,R){return V.add(j(R))}e.j=function(V){if(C(this)||C(V))return _;if(L(this))return L(V)?j(this).j(j(V)):j(j(this).j(V));if(L(V))return j(this.j(j(V)));if(0>this.l(w)&&0>V.l(w))return g(this.m()*V.m());for(var R=this.g.length+V.g.length,D=[],O=0;O<2*R;O++)D[O]=0;for(O=0;O<this.g.length;O++)for(var P=0;P<V.g.length;P++){var z=this.i(O)>>>16,N=this.i(O)&65535,he=V.i(P)>>>16,Xt=V.i(P)&65535;D[2*O+2*P]+=N*Xt,K(D,2*O+2*P),D[2*O+2*P+1]+=z*Xt,K(D,2*O+2*P+1),D[2*O+2*P+1]+=N*he,K(D,2*O+2*P+1),D[2*O+2*P+2]+=z*he,K(D,2*O+2*P+2)}for(O=0;O<R;O++)D[O]=D[2*O+1]<<16|D[2*O];for(O=R;O<2*R;O++)D[O]=0;return new c(D,0)};function K(V,R){for(;(V[R]&65535)!=V[R];)V[R+1]+=V[R]>>>16,V[R]&=65535,R++}function Q(V,R){this.g=V,this.h=R}function lt(V,R){if(C(R))throw Error("division by zero");if(C(V))return new Q(_,_);if(L(V))return R=lt(j(V),R),new Q(j(R.g),j(R.h));if(L(R))return R=lt(V,j(R)),new Q(j(R.g),R.h);if(30<V.g.length){if(L(V)||L(R))throw Error("slowDivide_ only works with positive integers.");for(var D=b,O=R;0>=O.l(V);)D=q(D),O=q(O);var P=st(D,1),z=st(O,1);for(O=st(O,2),D=st(D,2);!C(O);){var N=z.add(O);0>=N.l(V)&&(P=P.add(D),z=N),O=st(O,1),D=st(D,1)}return R=U(V,P.j(R)),new Q(P,R)}for(P=_;0<=V.l(R);){for(D=Math.max(1,Math.floor(V.m()/R.m())),O=Math.ceil(Math.log(D)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),z=g(D),N=z.j(R);L(N)||0<N.l(V);)D-=O,z=g(D),N=z.j(R);C(z)&&(z=b),P=P.add(z),V=U(V,N)}return new Q(P,V)}e.A=function(V){return lt(this,V).h},e.and=function(V){for(var R=Math.max(this.g.length,V.g.length),D=[],O=0;O<R;O++)D[O]=this.i(O)&V.i(O);return new c(D,this.h&V.h)},e.or=function(V){for(var R=Math.max(this.g.length,V.g.length),D=[],O=0;O<R;O++)D[O]=this.i(O)|V.i(O);return new c(D,this.h|V.h)},e.xor=function(V){for(var R=Math.max(this.g.length,V.g.length),D=[],O=0;O<R;O++)D[O]=this.i(O)^V.i(O);return new c(D,this.h^V.h)};function q(V){for(var R=V.g.length+1,D=[],O=0;O<R;O++)D[O]=V.i(O)<<1|V.i(O-1)>>>31;return new c(D,V.h)}function st(V,R){var D=R>>5;R%=32;for(var O=V.g.length-D,P=[],z=0;z<O;z++)P[z]=0<R?V.i(z+D)>>>R|V.i(z+D+1)<<32-R:V.i(z+D);return new c(P,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,V1=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,or=c}).apply(typeof z_<"u"?z_:typeof self<"u"?self:typeof window<"u"?window:{});var Zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var M1,Ul,N1,hh,Zm,I1,O1,P1;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,T){return h==Array.prototype||h==Object.prototype||(h[v]=T.value),h};function i(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zc=="object"&&Zc];for(var v=0;v<h.length;++v){var T=h[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=i(this);function o(h,v){if(v)t:{var T=r;h=h.split(".");for(var A=0;A<h.length-1;A++){var F=h[A];if(!(F in T))break t;T=T[F]}h=h[h.length-1],A=T[h],v=v(A),v!=A&&v!=null&&t(T,h,{configurable:!0,writable:!0,value:v})}}function u(h,v){h instanceof String&&(h+="");var T=0,A=!1,F={next:function(){if(!A&&T<h.length){var Z=T++;return{value:v(Z,h[Z]),done:!1}}return A=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(h){return h||function(){return u(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function g(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,T){return h.call.apply(h.bind,arguments)}function _(h,v,T){if(!h)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,A),h.apply(v,F)}}return function(){return h.apply(v,arguments)}}function b(h,v,T){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,b.apply(null,arguments)}function w(h,v){var T=Array.prototype.slice.call(arguments,1);return function(){var A=T.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function C(h,v){function T(){}T.prototype=v.prototype,h.aa=v.prototype,h.prototype=new T,h.prototype.constructor=h,h.Qb=function(A,F,Z){for(var ct=Array(arguments.length-2),Zt=2;Zt<arguments.length;Zt++)ct[Zt-2]=arguments[Zt];return v.prototype[F].apply(A,ct)}}function L(h){const v=h.length;if(0<v){const T=Array(v);for(let A=0;A<v;A++)T[A]=h[A];return T}return[]}function j(h,v){for(let T=1;T<arguments.length;T++){const A=arguments[T];if(m(A)){const F=h.length||0,Z=A.length||0;h.length=F+Z;for(let ct=0;ct<Z;ct++)h[F+ct]=A[ct]}else h.push(A)}}class U{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function K(h){return/^[\s\xa0]*$/.test(h)}function Q(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function lt(h){return lt[" "](h),h}lt[" "]=function(){};var q=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function st(h,v,T){for(const A in h)v.call(T,h[A],A,h)}function V(h,v){for(const T in h)v.call(void 0,h[T],T,h)}function R(h){const v={};for(const T in h)v[T]=h[T];return v}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(h,v){let T,A;for(let F=1;F<arguments.length;F++){A=arguments[F];for(T in A)h[T]=A[T];for(let Z=0;Z<D.length;Z++)T=D[Z],Object.prototype.hasOwnProperty.call(A,T)&&(h[T]=A[T])}}function P(h){var v=1;h=h.split(":");const T=[];for(;0<v&&h.length;)T.push(h.shift()),v--;return h.length&&T.push(h.join(":")),T}function z(h){d.setTimeout(()=>{throw h},0)}function N(){var h=zt;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class he{constructor(){this.h=this.g=null}add(v,T){const A=Xt.get();A.set(v,T),this.h?this.h.next=A:this.g=A,this.h=A}}var Xt=new U(()=>new W,h=>h.reset());class W{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let at,ft=!1,zt=new he,I=()=>{const h=d.Promise.resolve(void 0);at=()=>{h.then(rt)}};var rt=()=>{for(var h;h=N();){try{h.h.call(h.g)}catch(T){z(T)}var v=Xt;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}ft=!1};function ht(){this.s=this.s,this.C=this.C}ht.prototype.s=!1,ht.prototype.ma=function(){this.s||(this.s=!0,this.N())},ht.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ut(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}ut.prototype.h=function(){this.defaultPrevented=!0};var bt=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};d.addEventListener("test",T,v),d.removeEventListener("test",T,v)}catch{}return h}();function Ct(h,v){if(ut.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var T=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(q){t:{try{lt(v.nodeName);var F=!0;break t}catch{}F=!1}F||(v=null)}}else T=="mouseover"?v=h.fromElement:T=="mouseout"&&(v=h.toElement);this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:wt[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ct.aa.h.call(this)}}C(Ct,ut);var wt={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var dt="closure_listenable_"+(1e6*Math.random()|0),mt=0;function fe(h,v,T,A,F){this.listener=h,this.proxy=null,this.src=v,this.type=T,this.capture=!!A,this.ha=F,this.key=++mt,this.da=this.fa=!1}function we(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ae(h){this.src=h,this.g={},this.h=0}ae.prototype.add=function(h,v,T,A,F){var Z=h.toString();h=this.g[Z],h||(h=this.g[Z]=[],this.h++);var ct=qt(h,v,A,F);return-1<ct?(v=h[ct],T||(v.fa=!1)):(v=new fe(v,this.src,Z,!!A,F),v.fa=T,h.push(v)),v};function He(h,v){var T=v.type;if(T in h.g){var A=h.g[T],F=Array.prototype.indexOf.call(A,v,void 0),Z;(Z=0<=F)&&Array.prototype.splice.call(A,F,1),Z&&(we(v),h.g[T].length==0&&(delete h.g[T],h.h--))}}function qt(h,v,T,A){for(var F=0;F<h.length;++F){var Z=h[F];if(!Z.da&&Z.listener==v&&Z.capture==!!T&&Z.ha==A)return F}return-1}var _n="closure_lm_"+(1e6*Math.random()|0),Se={};function Fe(h,v,T,A,F){if(Array.isArray(v)){for(var Z=0;Z<v.length;Z++)Fe(h,v[Z],T,A,F);return null}return T=pi(T),h&&h[dt]?h.K(v,T,g(A)?!!A.capture:!1,F):Te(h,v,T,!1,A,F)}function Te(h,v,T,A,F,Z){if(!v)throw Error("Invalid event type");var ct=g(F)?!!F.capture:!!F,Zt=Wn(h);if(Zt||(h[_n]=Zt=new ae(h)),T=Zt.add(v,T,A,ct,Z),T.proxy)return T;if(A=br(),T.proxy=A,A.src=h,A.listener=T,h.addEventListener)bt||(F=ct),F===void 0&&(F=!1),h.addEventListener(v.toString(),A,F);else if(h.attachEvent)h.attachEvent(ke(v.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return T}function br(){function h(T){return v.call(h.src,h.listener,T)}const v=Er;return h}function Zn(h,v,T,A,F){if(Array.isArray(v))for(var Z=0;Z<v.length;Z++)Zn(h,v[Z],T,A,F);else A=g(A)?!!A.capture:!!A,T=pi(T),h&&h[dt]?(h=h.i,v=String(v).toString(),v in h.g&&(Z=h.g[v],T=qt(Z,T,A,F),-1<T&&(we(Z[T]),Array.prototype.splice.call(Z,T,1),Z.length==0&&(delete h.g[v],h.h--)))):h&&(h=Wn(h))&&(v=h.g[v.toString()],h=-1,v&&(h=qt(v,T,A,F)),(T=-1<h?v[h]:null)&&Bt(T))}function Bt(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[dt])He(v.i,h);else{var T=h.type,A=h.proxy;v.removeEventListener?v.removeEventListener(T,A,h.capture):v.detachEvent?v.detachEvent(ke(T),A):v.addListener&&v.removeListener&&v.removeListener(A),(T=Wn(v))?(He(T,h),T.h==0&&(T.src=null,v[_n]=null)):we(h)}}}function ke(h){return h in Se?Se[h]:Se[h]="on"+h}function Er(h,v){if(h.da)h=!0;else{v=new Ct(v,this);var T=h.listener,A=h.ha||h.src;h.fa&&Bt(h),h=T.call(A,v)}return h}function Wn(h){return h=h[_n],h instanceof ae?h:null}var mi="__closure_events_fn_"+(1e9*Math.random()>>>0);function pi(h){return typeof h=="function"?h:(h[mi]||(h[mi]=function(v){return h.handleEvent(v)}),h[mi])}function pe(){ht.call(this),this.i=new ae(this),this.M=this,this.F=null}C(pe,ht),pe.prototype[dt]=!0,pe.prototype.removeEventListener=function(h,v,T,A){Zn(this,h,v,T,A)};function $t(h,v){var T,A=h.F;if(A)for(T=[];A;A=A.F)T.push(A);if(h=h.M,A=v.type||v,typeof v=="string")v=new ut(v,h);else if(v instanceof ut)v.target=v.target||h;else{var F=v;v=new ut(A,h),O(v,F)}if(F=!0,T)for(var Z=T.length-1;0<=Z;Z--){var ct=v.g=T[Z];F=qe(ct,A,!0,v)&&F}if(ct=v.g=h,F=qe(ct,A,!0,v)&&F,F=qe(ct,A,!1,v)&&F,T)for(Z=0;Z<T.length;Z++)ct=v.g=T[Z],F=qe(ct,A,!1,v)&&F}pe.prototype.N=function(){if(pe.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var T=h.g[v],A=0;A<T.length;A++)we(T[A]);delete h.g[v],h.h--}}this.F=null},pe.prototype.K=function(h,v,T,A){return this.i.add(String(h),v,!1,T,A)},pe.prototype.L=function(h,v,T,A){return this.i.add(String(h),v,!0,T,A)};function qe(h,v,T,A){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var F=!0,Z=0;Z<v.length;++Z){var ct=v[Z];if(ct&&!ct.da&&ct.capture==T){var Zt=ct.listener,$e=ct.ha||ct.src;ct.fa&&He(h.i,ct),F=Zt.call($e,A)!==!1&&F}}return F&&!A.defaultPrevented}function Xe(h,v,T){if(typeof h=="function")T&&(h=b(h,T));else if(h&&typeof h.handleEvent=="function")h=b(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:d.setTimeout(h,v||0)}function fa(h){h.g=Xe(()=>{h.g=null,h.i&&(h.i=!1,fa(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Oo extends ht{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:fa(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jn(h){ht.call(this),this.h=h,this.g={}}C(Jn,ht);var In=[];function Ei(h){st(h.g,function(v,T){this.g.hasOwnProperty(T)&&Bt(v)},h),h.g={}}Jn.prototype.N=function(){Jn.aa.N.call(this),Ei(this)},Jn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zn=d.JSON.stringify,Zi=d.JSON.parse,Wi=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function J(){}J.prototype.h=null;function pt(h){return h.h||(h.h=h.i())}function vt(){}var Pt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yt(){ut.call(this,"d")}C(yt,ut);function At(){ut.call(this,"c")}C(At,ut);var Et={},kt=null;function oe(){return kt=kt||new pe}Et.La="serverreachability";function Rt(h){ut.call(this,Et.La,h)}C(Rt,ut);function Tt(h){const v=oe();$t(v,new Rt(v))}Et.STAT_EVENT="statevent";function ne(h,v){ut.call(this,Et.STAT_EVENT,h),this.stat=v}C(ne,ut);function ie(h){const v=oe();$t(v,new ne(v,h))}Et.Ma="timingevent";function le(h,v){ut.call(this,Et.Ma,h),this.size=v}C(le,ut);function Ae(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},v)}function Tn(){this.g=!0}Tn.prototype.xa=function(){this.g=!1};function Po(h,v,T,A,F,Z){h.info(function(){if(h.g)if(Z)for(var ct="",Zt=Z.split("&"),$e=0;$e<Zt.length;$e++){var Wt=Zt[$e].split("=");if(1<Wt.length){var rn=Wt[0];Wt=Wt[1];var Ze=rn.split("_");ct=2<=Ze.length&&Ze[1]=="type"?ct+(rn+"="+Wt+"&"):ct+(rn+"=redacted&")}}else ct=null;else ct=Z;return"XMLHTTP REQ ("+A+") [attempt "+F+"]: "+v+`
`+T+`
`+ct})}function vf(h,v,T,A,F,Z,ct){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+F+"]: "+v+`
`+T+`
`+Z+" "+ct})}function Ds(h,v,T,A){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Sr(h,T)+(A?" "+A:"")})}function Vu(h,v){h.info(function(){return"TIMEOUT: "+v})}Tn.prototype.info=function(){};function Sr(h,v){if(!h.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(h=0;h<T.length;h++)if(Array.isArray(T[h])){var A=T[h];if(!(2>A.length)){var F=A[1];if(Array.isArray(F)&&!(1>F.length)){var Z=F[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var ct=1;ct<F.length;ct++)F[ct]=""}}}}return zn(T)}catch{return v}}var Vs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ji={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Si;function Ai(){}C(Ai,J),Ai.prototype.g=function(){return new XMLHttpRequest},Ai.prototype.i=function(){return{}},Si=new Ai;function Cn(h,v,T,A){this.j=h,this.i=v,this.l=T,this.R=A||1,this.U=new Jn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}var ko={},da={};function gi(h,v,T){h.L=1,h.v=Cr(Hn(v)),h.m=T,h.P=!0,ts(h,null)}function ts(h,v){h.F=Date.now(),Ar(h),h.A=Hn(h.v);var T=h.A,A=h.R;Array.isArray(A)||(A=[String(A)]),Ho(T.i,"t",A),h.C=0,T=h.j.J,h.h=new Le,h.g=Yu(h.j,T?v:null,!h.m),0<h.O&&(h.M=new Oo(b(h.Y,h,h.g),h.O)),v=h.U,T=h.g,A=h.ca;var F="readystatechange";Array.isArray(F)||(F&&(In[0]=F.toString()),F=In);for(var Z=0;Z<F.length;Z++){var ct=Fe(T,F[Z],A||v.handleEvent,!1,v.h||v);if(!ct)break;v.g[ct.key]=ct}v=h.H?R(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Tt(),Po(h.i,h.u,h.A,h.l,h.R,h.m)}Cn.prototype.ca=function(h){h=h.target;const v=this.M;v&&ii(h)==3?v.j():this.Y(h)},Cn.prototype.Y=function(h){try{if(h==this.g)t:{const Ze=ii(this.g);var v=this.g.Ba();const ls=this.g.Z();if(!(3>Ze)&&(Ze!=3||this.g&&(this.h.h||this.g.oa()||ju(this.g)))){this.J||Ze!=4||v==7||(v==8||0>=ls?Tt(3):Tt(2)),Ms(this);var T=this.g.Z();this.X=T;e:if(Mu(this)){var A=ju(this.g);h="";var F=A.length,Z=ii(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){cn(this),xi(this);var ct="";break e}this.h.i=new d.TextDecoder}for(v=0;v<F;v++)this.h.h=!0,h+=this.h.i.decode(A[v],{stream:!(Z&&v==F-1)});A.length=0,this.h.g+=h,this.C=0,ct=this.h.g}else ct=this.g.oa();if(this.o=T==200,vf(this.i,this.u,this.A,this.l,this.R,Ze,T),this.o){if(this.T&&!this.K){e:{if(this.g){var Zt,$e=this.g;if((Zt=$e.g?$e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(Zt)){var Wt=Zt;break e}}Wt=null}if(T=Wt)Ds(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xr(this,T);else{this.o=!1,this.s=3,ie(12),cn(this),xi(this);break t}}if(this.P){T=!0;let hn;for(;!this.J&&this.C<ct.length;)if(hn=Nu(this,ct),hn==da){Ze==4&&(this.s=4,ie(14),T=!1),Ds(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==ko){this.s=4,ie(15),Ds(this.i,this.l,ct,"[Invalid Chunk]"),T=!1;break}else Ds(this.i,this.l,hn,null),xr(this,hn);if(Mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ze!=4||ct.length!=0||this.h.h||(this.s=1,ie(16),T=!1),this.o=this.o&&T,!T)Ds(this.i,this.l,ct,"[Invalid Chunked Response]"),cn(this),xi(this);else if(0<ct.length&&!this.W){this.W=!0;var rn=this.j;rn.g==this&&rn.ba&&!rn.M&&(rn.j.info("Great, no buffering proxy detected. Bytes received: "+ct.length),kr(rn),rn.M=!0,ie(11))}}else Ds(this.i,this.l,ct,null),xr(this,ct);Ze==4&&cn(this),this.o&&!this.J&&(Ze==4?Fu(this.j,this):(this.o=!1,Ar(this)))}else Sf(this.g),T==400&&0<ct.indexOf("Unknown SID")?(this.s=3,ie(12)):(this.s=0,ie(13)),cn(this),xi(this)}}}catch{}finally{}};function Mu(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Nu(h,v){var T=h.C,A=v.indexOf(`
`,T);return A==-1?da:(T=Number(v.substring(T,A)),isNaN(T)?ko:(A+=1,A+T>v.length?da:(v=v.slice(A,A+T),h.C=A+T,v)))}Cn.prototype.cancel=function(){this.J=!0,cn(this)};function Ar(h){h.S=Date.now()+h.I,Iu(h,h.I)}function Iu(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Ae(b(h.ba,h),v)}function Ms(h){h.B&&(d.clearTimeout(h.B),h.B=null)}Cn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Vu(this.i,this.A),this.L!=2&&(Tt(),ie(17)),cn(this),this.s=2,xi(this)):Iu(this,this.S-h)};function xi(h){h.j.G==0||h.J||Fu(h.j,h)}function cn(h){Ms(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Ei(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function xr(h,v){try{var T=h.j;if(T.G!=0&&(T.g==h||Lo(T.h,h))){if(!h.K&&Lo(T.h,h)&&T.G==3){try{var A=T.Da.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var F=A;if(F[0]==0){t:if(!T.u){if(T.g)if(T.g.F+3e3<h.F)xa(T),Sa(T);else break t;Ko(T),ie(18)}}else T.za=F[1],0<T.za-T.T&&37500>F[2]&&T.F&&T.v==0&&!T.C&&(T.C=Ae(b(T.Za,T),6e3));if(1>=pa(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else os(T,11)}else if((h.K||T.g==h)&&xa(T),!K(v))for(F=T.Da.g.parse(v),v=0;v<F.length;v++){let Wt=F[v];if(T.T=Wt[0],Wt=Wt[1],T.G==2)if(Wt[0]=="c"){T.K=Wt[1],T.ia=Wt[2];const rn=Wt[3];rn!=null&&(T.la=rn,T.j.info("VER="+T.la));const Ze=Wt[4];Ze!=null&&(T.Aa=Ze,T.j.info("SVER="+T.Aa));const ls=Wt[5];ls!=null&&typeof ls=="number"&&0<ls&&(A=1.5*ls,T.L=A,T.j.info("backChannelRequestTimeoutMs_="+A)),A=T;const hn=h.g;if(hn){const Ni=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ni){var Z=A.h;Z.g||Ni.indexOf("spdy")==-1&&Ni.indexOf("quic")==-1&&Ni.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(ga(Z,Z.h),Z.h=null))}if(A.D){const Xo=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Xo&&(A.ya=Xo,ge(A.I,A.D,Xo))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-h.F,T.j.info("Handshake RTT: "+T.R+"ms")),A=T;var ct=h;if(A.qa=Gu(A,A.J?A.ia:null,A.W),ct.K){Dn(A.h,ct);var Zt=ct,$e=A.L;$e&&(Zt.I=$e),Zt.B&&(Ms(Zt),Ar(Zt)),A.g=ct}else zu(A);0<T.i.length&&Aa(T)}else Wt[0]!="stop"&&Wt[0]!="close"||os(T,7);else T.G==3&&(Wt[0]=="stop"||Wt[0]=="close"?Wt[0]=="stop"?os(T,7):Go(T):Wt[0]!="noop"&&T.l&&T.l.ta(Wt),T.v=0)}}Tt(4)}catch{}}var Ou=class{constructor(h,v){this.g=h,this.map=v}};function es(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ma(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function pa(h){return h.h?1:h.g?h.g.size:0}function Lo(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function ga(h,v){h.g?h.g.add(v):h.h=v}function Dn(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}es.prototype.cancel=function(){if(this.i=jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function jo(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const T of h.g.values())v=v.concat(T.D);return v}return L(h.i)}function _f(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var v=[],T=h.length,A=0;A<T;A++)v.push(h[A]);return v}v=[],T=0;for(A in h)v[T++]=h[A];return v}function ya(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var v=[];h=h.length;for(var T=0;T<h;T++)v.push(T);return v}v=[],T=0;for(const A in h)v[T++]=A;return v}}}function Bo(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var T=ya(h),A=_f(h),F=A.length,Z=0;Z<F;Z++)v.call(void 0,A[Z],T&&T[Z],h)}var wr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tf(h,v){if(h){h=h.split("&");for(var T=0;T<h.length;T++){var A=h[T].indexOf("="),F=null;if(0<=A){var Z=h[T].substring(0,A);F=h[T].substring(A+1)}else Z=h[T];v(Z,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Ge(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Ge){this.h=h.h,Rr(this,h.j),this.o=h.o,this.g=h.g,Ns(this,h.s),this.l=h.l;var v=h.i,T=new is;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),ns(this,T),this.m=h.m}else h&&(v=String(h).match(wr))?(this.h=!1,Rr(this,v[1]||"",!0),this.o=ti(v[2]||""),this.g=ti(v[3]||"",!0),Ns(this,v[4]),this.l=ti(v[5]||"",!0),ns(this,v[6]||"",!0),this.m=ti(v[7]||"")):(this.h=!1,this.i=new is(null,this.h))}Ge.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Dr(v,Uo,!0),":");var T=this.g;return(T||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Dr(v,Uo,!0),"@"),h.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&h.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Dr(T,T.charAt(0)=="/"?bf:zo,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Dr(T,va)),h.join("")};function Hn(h){return new Ge(h)}function Rr(h,v,T){h.j=T?ti(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Ns(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function ns(h,v,T){v instanceof is?(h.i=v,ku(h.i,h.h)):(T||(v=Dr(v,Ef)),h.i=new is(v,h.h))}function ge(h,v,T){h.i.set(v,T)}function Cr(h){return ge(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function ti(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Dr(h,v,T){return typeof h=="string"?(h=encodeURI(h).replace(v,Pu),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Pu(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Uo=/[#\/\?@]/g,zo=/[#\?:]/g,bf=/[#\?]/g,Ef=/[#\?@]/g,va=/#/g;function is(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function ei(h){h.g||(h.g=new Map,h.h=0,h.i&&Tf(h.i,function(v,T){h.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}e=is.prototype,e.add=function(h,v){ei(this),this.i=null,h=wi(this,h);var T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(v),this.h+=1,this};function ss(h,v){ei(h),v=wi(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function rs(h,v){return ei(h),v=wi(h,v),h.g.has(v)}e.forEach=function(h,v){ei(this),this.g.forEach(function(T,A){T.forEach(function(F){h.call(v,F,A,this)},this)},this)},e.na=function(){ei(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let A=0;A<v.length;A++){const F=h[A];for(let Z=0;Z<F.length;Z++)T.push(v[A])}return T},e.V=function(h){ei(this);let v=[];if(typeof h=="string")rs(this,h)&&(v=v.concat(this.g.get(wi(this,h))));else{h=Array.from(this.g.values());for(let T=0;T<h.length;T++)v=v.concat(h[T])}return v},e.set=function(h,v){return ei(this),this.i=null,h=wi(this,h),rs(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},e.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function Ho(h,v,T){ss(h,v),0<T.length&&(h.i=null,h.g.set(wi(h,v),L(T)),h.h+=T.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var A=v[T];const Z=encodeURIComponent(String(A)),ct=this.V(A);for(A=0;A<ct.length;A++){var F=Z;ct[A]!==""&&(F+="="+encodeURIComponent(String(ct[A]))),h.push(F)}}return this.i=h.join("&")};function wi(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function ku(h,v){v&&!h.j&&(ei(h),h.i=null,h.g.forEach(function(T,A){var F=A.toLowerCase();A!=F&&(ss(this,A),Ho(this,F,T))},h)),h.j=v}function Vr(h,v){const T=new Tn;if(d.Image){const A=new Image;A.onload=w(ni,T,"TestLoadImage: loaded",!0,v,A),A.onerror=w(ni,T,"TestLoadImage: error",!1,v,A),A.onabort=w(ni,T,"TestLoadImage: abort",!1,v,A),A.ontimeout=w(ni,T,"TestLoadImage: timeout",!1,v,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else v(!1)}function yi(h,v){const T=new Tn,A=new AbortController,F=setTimeout(()=>{A.abort(),ni(T,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:A.signal}).then(Z=>{clearTimeout(F),Z.ok?ni(T,"TestPingServer: ok",!0,v):ni(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(F),ni(T,"TestPingServer: error",!1,v)})}function ni(h,v,T,A,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),A(T)}catch{}}function Mr(){this.g=new Wi}function Ri(h,v,T){const A=T||"";try{Bo(h,function(F,Z){let ct=F;g(F)&&(ct=zn(F)),v.push(A+Z+"="+encodeURIComponent(ct))})}catch(F){throw v.push(A+"type="+encodeURIComponent("_badmap")),F}}function Is(h){this.l=h.Ub||null,this.j=h.eb||!1}C(Is,J),Is.prototype.g=function(){return new as(this.l,this.j)},Is.prototype.i=function(h){return function(){return h}}({});function as(h,v){pe.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(as,pe),e=as.prototype,e.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,Di(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||d).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ci(this)),this.readyState=0},e.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Di(this)),this.g&&(this.readyState=3,Di(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fo(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fo(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}e.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Ci(this):Di(this),this.readyState==3&&Fo(this)}},e.Ra=function(h){this.g&&(this.response=this.responseText=h,Ci(this))},e.Qa=function(h){this.g&&(this.response=h,Ci(this))},e.ga=function(){this.g&&Ci(this)};function Ci(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Di(h)}e.setRequestHeader=function(h,v){this.u.append(h,v)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=v.next();return h.join(`\r
`)};function Di(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(as.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function qo(h){let v="";return st(h,function(T,A){v+=A,v+=":",v+=T,v+=`\r
`}),v}function sn(h,v,T){t:{for(A in T){var A=!1;break t}A=!0}A||(T=qo(T),typeof h=="string"?T!=null&&encodeURIComponent(String(T)):ge(h,v,T))}function ue(h){pe.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(ue,pe);var _a=/^https?$/i,Nr=["POST","PUT"];e=ue.prototype,e.Ha=function(h){this.J=h},e.ea=function(h,v,T,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Si.g(),this.v=this.o?pt(this.o):pt(Si),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Z){Lu(this,Z);return}if(h=T||"",T=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var F in A)T.set(F,A[F]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Z of A.keys())T.set(Z,A.get(Z));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(T.keys()).find(Z=>Z.toLowerCase()=="content-type"),F=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Nr,v,void 0))||A||F||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ct]of T)this.g.setRequestHeader(Z,ct);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ir(this),this.u=!0,this.g.send(h),this.u=!1}catch(Z){Lu(this,Z)}};function Lu(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Ta(h),Vi(h)}function Ta(h){h.A||(h.A=!0,$t(h,"complete"),$t(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,$t(this,"complete"),$t(this,"abort"),Vi(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vi(this,!0)),ue.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?ba(this):this.bb())},e.bb=function(){ba(this)};function ba(h){if(h.h&&typeof c<"u"&&(!h.v[1]||ii(h)!=4||h.Z()!=2)){if(h.u&&ii(h)==4)Xe(h.Ea,0,h);else if($t(h,"readystatechange"),ii(h)==4){h.h=!1;try{const ct=h.Z();t:switch(ct){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var T;if(!(T=v)){var A;if(A=ct===0){var F=String(h.D).match(wr)[1]||null;!F&&d.self&&d.self.location&&(F=d.self.location.protocol.slice(0,-1)),A=!_a.test(F?F.toLowerCase():"")}T=A}if(T)$t(h,"complete"),$t(h,"success");else{h.m=6;try{var Z=2<ii(h)?h.g.statusText:""}catch{Z=""}h.l=Z+" ["+h.Z()+"]",Ta(h)}}finally{Vi(h)}}}}function Vi(h,v){if(h.g){Ir(h);const T=h.g,A=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||$t(h,"ready");try{T.onreadystatechange=A}catch{}}}function Ir(h){h.I&&(d.clearTimeout(h.I),h.I=null)}e.isActive=function(){return!!this.g};function ii(h){return h.g?h.g.readyState:0}e.Z=function(){try{return 2<ii(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Zi(v)}};function ju(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Sf(h){const v={};h=(h.g&&2<=ii(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(K(h[A]))continue;var T=P(h[A]);const F=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Z=v[F]||[];v[F]=Z,Z.push(T)}V(v,function(A){return A.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Or(h,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||v}function Ea(h){this.Aa=0,this.i=[],this.j=new Tn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Or("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Or("baseRetryDelayMs",5e3,h),this.cb=Or("retryDelaySeedMs",1e4,h),this.Wa=Or("forwardChannelMaxRetries",2,h),this.wa=Or("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new es(h&&h.concurrentRequestLimit),this.Da=new Mr,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Ea.prototype,e.la=8,e.G=1,e.connect=function(h,v,T,A){ie(0),this.W=h,this.H=v||{},T&&A!==void 0&&(this.H.OSID=T,this.H.OAID=A),this.F=this.X,this.I=Gu(this,null,this.W),Aa(this)};function Go(h){if(Bu(h),h.G==3){var v=h.U++,T=Hn(h.I);if(ge(T,"SID",h.K),ge(T,"RID",v),ge(T,"TYPE","terminate"),Pr(h,T),v=new Cn(h,h.j,v),v.L=2,v.v=Cr(Hn(T)),T=!1,d.navigator&&d.navigator.sendBeacon)try{T=d.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&d.Image&&(new Image().src=v.v,T=!0),T||(v.g=Yu(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Ar(v)}qu(h)}function Sa(h){h.g&&(kr(h),h.g.cancel(),h.g=null)}function Bu(h){Sa(h),h.u&&(d.clearTimeout(h.u),h.u=null),xa(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function Aa(h){if(!ma(h.h)&&!h.s){h.s=!0;var v=h.Ga;at||I(),ft||(at(),ft=!0),zt.add(v,h),h.B=0}}function Af(h,v){return pa(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Ae(b(h.Ga,h,v),Qo(h,h.B)),h.B++,!0)}e.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const F=new Cn(this,this.j,h);let Z=this.o;if(this.S&&(Z?(Z=R(Z),O(Z,this.S)):Z=this.S),this.m!==null||this.O||(F.H=Z,Z=null),this.P)t:{for(var v=0,T=0;T<this.i.length;T++){e:{var A=this.i[T];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(v+=A,4096<v){v=T;break t}if(v===4096||T===this.i.length-1){v=T+1;break t}}v=1e3}else v=1e3;v=Uu(this,F,v),T=Hn(this.I),ge(T,"RID",h),ge(T,"CVER",22),this.D&&ge(T,"X-HTTP-Session-Id",this.D),Pr(this,T),Z&&(this.O?v="headers="+encodeURIComponent(String(qo(Z)))+"&"+v:this.m&&sn(T,this.m,Z)),ga(this.h,F),this.Ua&&ge(T,"TYPE","init"),this.P?(ge(T,"$req",v),ge(T,"SID","null"),F.T=!0,gi(F,T,null)):gi(F,T,v),this.G=2}}else this.G==3&&(h?Yo(this,h):this.i.length==0||ma(this.h)||Yo(this))};function Yo(h,v){var T;v?T=v.l:T=h.U++;const A=Hn(h.I);ge(A,"SID",h.K),ge(A,"RID",T),ge(A,"AID",h.T),Pr(h,A),h.m&&h.o&&sn(A,h.m,h.o),T=new Cn(h,h.j,T,h.B+1),h.m===null&&(T.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Uu(h,T,1e3),T.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),ga(h.h,T),gi(T,A,v)}function Pr(h,v){h.H&&st(h.H,function(T,A){ge(v,A,T)}),h.l&&Bo({},function(T,A){ge(v,A,T)})}function Uu(h,v,T){T=Math.min(h.i.length,T);var A=h.l?b(h.l.Na,h.l,h):null;t:{var F=h.i;let Z=-1;for(;;){const ct=["count="+T];Z==-1?0<T?(Z=F[0].g,ct.push("ofs="+Z)):Z=0:ct.push("ofs="+Z);let Zt=!0;for(let $e=0;$e<T;$e++){let Wt=F[$e].g;const rn=F[$e].map;if(Wt-=Z,0>Wt)Z=Math.max(0,F[$e].g-100),Zt=!1;else try{Ri(rn,ct,"req"+Wt+"_")}catch{A&&A(rn)}}if(Zt){A=ct.join("&");break t}}}return h=h.i.splice(0,T),v.D=h,A}function zu(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;at||I(),ft||(at(),ft=!0),zt.add(v,h),h.v=0}}function Ko(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Ae(b(h.Fa,h),Qo(h,h.v)),h.v++,!0)}e.Fa=function(){if(this.u=null,Hu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Ae(b(this.ab,this),h)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ie(10),Sa(this),Hu(this))};function kr(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function Hu(h){h.g=new Cn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=Hn(h.qa);ge(v,"RID","rpc"),ge(v,"SID",h.K),ge(v,"AID",h.T),ge(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&ge(v,"TO",h.ja),ge(v,"TYPE","xmlhttp"),Pr(h,v),h.m&&h.o&&sn(v,h.m,h.o),h.L&&(h.g.I=h.L);var T=h.g;h=h.ia,T.L=1,T.v=Cr(Hn(v)),T.m=null,T.P=!0,ts(T,h)}e.Za=function(){this.C!=null&&(this.C=null,Sa(this),Ko(this),ie(19))};function xa(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Fu(h,v){var T=null;if(h.g==v){xa(h),kr(h),h.g=null;var A=2}else if(Lo(h.h,v))T=v.D,Dn(h.h,v),A=1;else return;if(h.G!=0){if(v.o)if(A==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var F=h.B;A=oe(),$t(A,new le(A,T)),Aa(h)}else zu(h);else if(F=v.s,F==3||F==0&&0<v.X||!(A==1&&Af(h,v)||A==2&&Ko(h)))switch(T&&0<T.length&&(v=h.h,v.i=v.i.concat(T)),F){case 1:os(h,5);break;case 4:os(h,10);break;case 3:os(h,6);break;default:os(h,2)}}}function Qo(h,v){let T=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(T*=2),T*v}function os(h,v){if(h.j.info("Error code "+v),v==2){var T=b(h.fb,h),A=h.Xa;const F=!A;A=new Ge(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Rr(A,"https"),Cr(A),F?Vr(A.toString(),T):yi(A.toString(),T)}else ie(2);h.G=0,h.l&&h.l.sa(v),qu(h),Bu(h)}e.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ie(2)):(this.j.info("Failed to ping google.com"),ie(1))};function qu(h){if(h.G=0,h.ka=[],h.l){const v=jo(h.h);(v.length!=0||h.i.length!=0)&&(j(h.ka,v),j(h.ka,h.i),h.h.i.length=0,L(h.i),h.i.length=0),h.l.ra()}}function Gu(h,v,T){var A=T instanceof Ge?Hn(T):new Ge(T);if(A.g!="")v&&(A.g=v+"."+A.g),Ns(A,A.s);else{var F=d.location;A=F.protocol,v=v?v+"."+F.hostname:F.hostname,F=+F.port;var Z=new Ge(null);A&&Rr(Z,A),v&&(Z.g=v),F&&Ns(Z,F),T&&(Z.l=T),A=Z}return T=h.D,v=h.ya,T&&v&&ge(A,T,v),ge(A,"VER",h.la),Pr(h,A),A}function Yu(h,v,T){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new ue(new Is({eb:T})):new ue(h.pa),v.Ha(h.J),v}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ku(){}e=Ku.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function wa(){}wa.prototype.g=function(h,v){return new Vn(h,v)};function Vn(h,v){pe.call(this),this.g=new Ea(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!K(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!K(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Mi(this)}C(Vn,pe),Vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Vn.prototype.close=function(){Go(this.g)},Vn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.u&&(T={},T.__data__=zn(h),h=T);v.i.push(new Ou(v.Ya++,h)),v.G==3&&Aa(v)},Vn.prototype.N=function(){this.g.l=null,delete this.j,Go(this.g),delete this.g,Vn.aa.N.call(this)};function Qu(h){yt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const T in v){h=T;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}C(Qu,yt);function Xu(){At.call(this),this.status=1}C(Xu,At);function Mi(h){this.g=h}C(Mi,Ku),Mi.prototype.ua=function(){$t(this.g,"a")},Mi.prototype.ta=function(h){$t(this.g,new Qu(h))},Mi.prototype.sa=function(h){$t(this.g,new Xu)},Mi.prototype.ra=function(){$t(this.g,"b")},wa.prototype.createWebChannel=wa.prototype.g,Vn.prototype.send=Vn.prototype.o,Vn.prototype.open=Vn.prototype.m,Vn.prototype.close=Vn.prototype.close,P1=function(){return new wa},O1=function(){return oe()},I1=Et,Zm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Vs.NO_ERROR=0,Vs.TIMEOUT=8,Vs.HTTP_ERROR=6,hh=Vs,Ji.COMPLETE="complete",N1=Ji,vt.EventType=Pt,Pt.OPEN="a",Pt.CLOSE="b",Pt.ERROR="c",Pt.MESSAGE="d",pe.prototype.listen=pe.prototype.K,Ul=vt,ue.prototype.listenOnce=ue.prototype.L,ue.prototype.getLastError=ue.prototype.Ka,ue.prototype.getLastErrorCode=ue.prototype.Ba,ue.prototype.getStatus=ue.prototype.Z,ue.prototype.getResponseJson=ue.prototype.Oa,ue.prototype.getResponseText=ue.prototype.oa,ue.prototype.send=ue.prototype.ea,ue.prototype.setWithCredentials=ue.prototype.Ha,M1=ue}).apply(typeof Zc<"u"?Zc:typeof self<"u"?self:typeof window<"u"?window:{});const H_="@firebase/firestore",F_="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}xn.UNAUTHENTICATED=new xn(null),xn.GOOGLE_CREDENTIALS=new xn("google-credentials-uid"),xn.FIRST_PARTY=new xn("first-party-uid"),xn.MOCK_USER=new xn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=new A1("@firebase/firestore");function eo(){return oa.logLevel}function gt(e,...t){if(oa.logLevel<=ee.DEBUG){const i=t.map(Gp);oa.debug(`Firestore (${Ro}): ${e}`,...i)}}function xs(e,...t){if(oa.logLevel<=ee.ERROR){const i=t.map(Gp);oa.error(`Firestore (${Ro}): ${e}`,...i)}}function mo(e,...t){if(oa.logLevel<=ee.WARN){const i=t.map(Gp);oa.warn(`Firestore (${Ro}): ${e}`,...i)}}function Gp(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(e,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,k1(e,r,i)}function k1(e,t,i){let r=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw xs(r),new Error(r)}function ce(e,t,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,e||k1(t,o,r)}function jt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ot={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xt extends wo{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class NC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(xn.UNAUTHENTICATED))}shutdown(){}}class IC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class OC{constructor(t){this.t=t,this.currentUser=xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){ce(this.o===void 0,42304);let r=this.i;const o=m=>this.i!==r?(r=this.i,i(m)):Promise.resolve();let u=new lr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new lr,t.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const m=u;t.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},d=m=>{gt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(gt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new lr)}},0),c()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(r=>this.i!==t?(gt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ce(typeof r.accessToken=="string",31837,{l:r}),new L1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ce(t===null||typeof t=="string",2055,{h:t}),new xn(t)}}class PC{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=xn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class kC{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new PC(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable(()=>i(xn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class q_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LC{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yC(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){ce(this.o===void 0,3512);const r=u=>{u.error!=null&&gt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,gt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>r(u))};const o=u=>{gt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):gt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new q_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(ce(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new q_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<e;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=jC(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<i&&(r+=t.charAt(o[u]%62))}return r}}function Ft(e,t){return e<t?-1:e>t?1:0}function Wm(e,t){let i=0;for(;i<e.length&&i<t.length;){const r=e.codePointAt(i),o=t.codePointAt(i);if(r!==o){if(r<128&&o<128)return Ft(r,o);{const u=j1(),c=BC(u.encode(G_(e,i)),u.encode(G_(t,i)));return c!==0?c:Ft(r,o)}}i+=r>65535?2:1}return Ft(e.length,t.length)}function G_(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function BC(e,t){for(let i=0;i<e.length&&i<t.length;++i)if(e[i]!==t[i])return Ft(e[i],t[i]);return Ft(e.length,t.length)}function po(e,t,i){return e.length===t.length&&e.every((r,o)=>i(r,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_=-62135596800,K_=1e6;class en{static now(){return en.fromMillis(Date.now())}static fromDate(t){return en.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*K_);return new en(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new xt(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new xt(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Y_)throw new xt(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new xt(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/K_}_compareTo(t){return this.seconds===t.seconds?Ft(this.nanoseconds,t.nanoseconds):Ft(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Y_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{static fromTimestamp(t){return new Lt(t)}static min(){return new Lt(new en(0,0))}static max(){return new Lt(new en(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="__name__";class ji{constructor(t,i,r){i===void 0?i=0:i>t.length&&Nt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&Nt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return ji.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof ji?t.forEach(r=>{i.push(r)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let o=0;o<r;o++){const u=ji.compareSegments(t.get(o),i.get(o));if(u!==0)return u}return Ft(t.length,i.length)}static compareSegments(t,i){const r=ji.isNumericId(t),o=ji.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?ji.extractNumericId(t).compare(ji.extractNumericId(i)):Wm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return or.fromString(t.substring(4,t.length-2))}}class Pe extends ji{construct(t,i,r){return new Pe(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new xt(ot.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter(o=>o.length>0))}return new Pe(i)}static emptyPath(){return new Pe([])}}const UC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yn extends ji{construct(t,i,r){return new yn(t,i,r)}static isValidIdentifier(t){return UC.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Q_}static keyField(){return new yn([Q_])}static fromServerFormat(t){const i=[];let r="",o=0;const u=()=>{if(r.length===0)throw new xt(ot.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let c=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new xt(ot.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new xt(ot.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=m,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(r+=d,o++):(u(),o++)}if(u(),c)throw new xt(ot.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new yn(i)}static emptyPath(){return new yn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(t){this.path=t}static fromPath(t){return new Vt(Pe.fromString(t))}static fromName(t){return new Vt(Pe.fromString(t).popFirst(5))}static empty(){return new Vt(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Pe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Pe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Vt(new Pe(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=-1;function zC(e,t){const i=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,o=Lt.fromTimestamp(r===1e9?new en(i+1,0):new en(i,r));return new cr(o,Vt.empty(),t)}function HC(e){return new cr(e.readTime,e.key,su)}class cr{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new cr(Lt.min(),Vt.empty(),su)}static max(){return new cr(Lt.max(),Vt.empty(),su)}}function FC(e,t){let i=e.readTime.compareTo(t.readTime);return i!==0?i:(i=Vt.comparator(e.documentKey,t.documentKey),i!==0?i:Ft(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(e){if(e.code!==ot.FAILED_PRECONDITION||e.message!==qC)throw e;gt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Nt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new it((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,o)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof it?i:it.resolve(i)}catch(i){return it.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):it.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):it.reject(i)}static resolve(t){return new it((i,r)=>{i(t)})}static reject(t){return new it((i,r)=>{r(t)})}static waitFor(t){return new it((i,r)=>{let o=0,u=0,c=!1;t.forEach(d=>{++o,d.next(()=>{++u,c&&u===o&&i()},m=>r(m))}),c=!0,u===o&&i()})}static or(t){let i=it.resolve(!1);for(const r of t)i=i.next(o=>o?it.resolve(o):r());return i}static forEach(t,i){const r=[];return t.forEach((o,u)=>{r.push(i.call(this,o,u))}),this.waitFor(r)}static mapArray(t,i){return new it((r,o)=>{const u=t.length,c=new Array(u);let d=0;for(let m=0;m<u;m++){const g=m;i(t[g]).next(y=>{c[g]=y,++d,d===u&&r(c)},y=>o(y))}})}static doWhile(t,i){return new it((r,o)=>{const u=()=>{t()===!0?i().next(()=>{u()},o):r()};u()})}}function YC(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Do(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>i.writeSequenceNumber(r))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Qh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp=-1;function Xh(e){return e==null}function Ch(e){return e===0&&1/e==-1/0}function KC(e){return typeof e=="number"&&Number.isInteger(e)&&!Ch(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="";function QC(e){let t="";for(let i=0;i<e.length;i++)t.length>0&&(t=X_(t)),t=XC(e.get(i),t);return X_(t)}function XC(e,t){let i=t;const r=e.length;for(let o=0;o<r;o++){const u=e.charAt(o);switch(u){case"\0":i+="";break;case U1:i+="";break;default:i+=u}}return i}function X_(e){return e+U1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(e){let t=0;for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&t++;return t}function vr(e,t){for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&t(i,e[i])}function z1(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(t,i){this.comparator=t,this.root=i||gn.EMPTY}insert(t,i){return new Me(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(t){return new Me(this.comparator,this.root.remove(t,this.comparator).copy(null,null,gn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,r)=>(t(i,r),!1))}toString(){const t=[];return this.inorderTraversal((i,r)=>(t.push(`${i}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Wc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Wc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Wc(this.root,t,this.comparator,!0)}}class Wc{constructor(t,i,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?r(t.key,i):1,i&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class gn{constructor(t,i,r,o,u){this.key=t,this.value=i,this.color=r??gn.RED,this.left=o??gn.EMPTY,this.right=u??gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,o,u){return new gn(t??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,i,r),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return gn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return gn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Nt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Nt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Nt(27949);return t+(this.isRed()?0:1)}}gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw Nt(57766)}get value(){throw Nt(16141)}get color(){throw Nt(16727)}get left(){throw Nt(29726)}get right(){throw Nt(36894)}copy(t,i,r,o,u){return this}insert(t,i,r){return new gn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t){this.comparator=t,this.data=new Me(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,r)=>(t(i),!1))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Z_(this.data.getIterator())}getIteratorFrom(t){return new Z_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(r=>{i=i.add(r)}),i}isEqual(t){if(!(t instanceof nn)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new nn(this.comparator);return i.data=t,i}}class Z_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(t){this.fields=t,t.sort(yn.comparator)}static empty(){return new $n([])}unionWith(t){let i=new nn(yn.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new $n(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return po(this.fields,t.fields,(i,r)=>i.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new H1("Invalid base64 string: "+u):u}}(t);return new vn(i)}static fromUint8Array(t){const i=function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u}(t);return new vn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ft(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}vn.EMPTY_BYTE_STRING=new vn("");const $C=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hr(e){if(ce(!!e,39018),typeof e=="string"){let t=0;const i=$C.exec(e);if(ce(!!i,46558,{timestamp:e}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ze(e.seconds),nanos:ze(e.nanos)}}function ze(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function fr(e){return typeof e=="string"?vn.fromBase64String(e):vn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="server_timestamp",q1="__type__",G1="__previous_value__",Y1="__local_write_time__";function Kp(e){var t,i;return((i=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[q1])===null||i===void 0?void 0:i.stringValue)===F1}function $h(e){const t=e.mapValue.fields[G1];return Kp(t)?$h(t):t}function ru(e){const t=hr(e.mapValue.fields[Y1].timestampValue);return new en(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(t,i,r,o,u,c,d,m,g,y){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=y}}const Dh="(default)";class au{constructor(t,i){this.projectId=t,this.database=i||Dh}static empty(){return new au("","")}get isDefaultDatabase(){return this.database===Dh}isEqual(t){return t instanceof au&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="__type__",WC="__max__",Jc={mapValue:{}},Q1="__vector__",Vh="value";function dr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Kp(e)?4:tD(e)?9007199254740991:JC(e)?10:11:Nt(28295,{value:e})}function Ki(e,t){if(e===t)return!0;const i=dr(e);if(i!==dr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ru(e).isEqual(ru(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=hr(o.timestampValue),d=hr(u.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(o,u){return fr(o.bytesValue).isEqual(fr(u.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(o,u){return ze(o.geoPointValue.latitude)===ze(u.geoPointValue.latitude)&&ze(o.geoPointValue.longitude)===ze(u.geoPointValue.longitude)}(e,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return ze(o.integerValue)===ze(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=ze(o.doubleValue),d=ze(u.doubleValue);return c===d?Ch(c)===Ch(d):isNaN(c)&&isNaN(d)}return!1}(e,t);case 9:return po(e.arrayValue.values||[],t.arrayValue.values||[],Ki);case 10:case 11:return function(o,u){const c=o.mapValue.fields||{},d=u.mapValue.fields||{};if($_(c)!==$_(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Ki(c[m],d[m])))return!1;return!0}(e,t);default:return Nt(52216,{left:e})}}function ou(e,t){return(e.values||[]).find(i=>Ki(i,t))!==void 0}function go(e,t){if(e===t)return 0;const i=dr(e),r=dr(t);if(i!==r)return Ft(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ft(e.booleanValue,t.booleanValue);case 2:return function(u,c){const d=ze(u.integerValue||u.doubleValue),m=ze(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(e,t);case 3:return W_(e.timestampValue,t.timestampValue);case 4:return W_(ru(e),ru(t));case 5:return Wm(e.stringValue,t.stringValue);case 6:return function(u,c){const d=fr(u),m=fr(c);return d.compareTo(m)}(e.bytesValue,t.bytesValue);case 7:return function(u,c){const d=u.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const y=Ft(d[g],m[g]);if(y!==0)return y}return Ft(d.length,m.length)}(e.referenceValue,t.referenceValue);case 8:return function(u,c){const d=Ft(ze(u.latitude),ze(c.latitude));return d!==0?d:Ft(ze(u.longitude),ze(c.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return J_(e.arrayValue,t.arrayValue);case 10:return function(u,c){var d,m,g,y;const _=u.fields||{},b=c.fields||{},w=(d=_[Vh])===null||d===void 0?void 0:d.arrayValue,C=(m=b[Vh])===null||m===void 0?void 0:m.arrayValue,L=Ft(((g=w==null?void 0:w.values)===null||g===void 0?void 0:g.length)||0,((y=C==null?void 0:C.values)===null||y===void 0?void 0:y.length)||0);return L!==0?L:J_(w,C)}(e.mapValue,t.mapValue);case 11:return function(u,c){if(u===Jc.mapValue&&c===Jc.mapValue)return 0;if(u===Jc.mapValue)return 1;if(c===Jc.mapValue)return-1;const d=u.fields||{},m=Object.keys(d),g=c.fields||{},y=Object.keys(g);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const b=Wm(m[_],y[_]);if(b!==0)return b;const w=go(d[m[_]],g[y[_]]);if(w!==0)return w}return Ft(m.length,y.length)}(e.mapValue,t.mapValue);default:throw Nt(23264,{Pe:i})}}function W_(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ft(e,t);const i=hr(e),r=hr(t),o=Ft(i.seconds,r.seconds);return o!==0?o:Ft(i.nanos,r.nanos)}function J_(e,t){const i=e.values||[],r=t.values||[];for(let o=0;o<i.length&&o<r.length;++o){const u=go(i[o],r[o]);if(u)return u}return Ft(i.length,r.length)}function yo(e){return Jm(e)}function Jm(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(i){const r=hr(i);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(i){return fr(i).toBase64()}(e.bytesValue):"referenceValue"in e?function(i){return Vt.fromName(i).toString()}(e.referenceValue):"geoPointValue"in e?function(i){return`geo(${i.latitude},${i.longitude})`}(e.geoPointValue):"arrayValue"in e?function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=Jm(u);return r+"]"}(e.arrayValue):"mapValue"in e?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${Jm(i.fields[c])}`;return o+"}"}(e.mapValue):Nt(61005,{value:e})}function fh(e){switch(dr(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=$h(e);return t?16+fh(t):16;case 5:return 2*e.stringValue.length;case 6:return fr(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,u)=>o+fh(u),0)}(e.arrayValue);case 10:case 11:return function(r){let o=0;return vr(r.fields,(u,c)=>{o+=u.length+fh(c)}),o}(e.mapValue);default:throw Nt(13486,{value:e})}}function tp(e){return!!e&&"integerValue"in e}function Qp(e){return!!e&&"arrayValue"in e}function tT(e){return!!e&&"nullValue"in e}function eT(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function dh(e){return!!e&&"mapValue"in e}function JC(e){var t,i;return((i=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[K1])===null||i===void 0?void 0:i.stringValue)===Q1}function Yl(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return vr(e.mapValue.fields,(i,r)=>t.mapValue.fields[i]=Yl(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(e.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Yl(e.arrayValue.values[i]);return t}return Object.assign({},e)}function tD(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===WC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(t){this.value=t}static empty(){return new jn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!dh(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Yl(i)}setAll(t){let i=yn.emptyPath(),r={},o=[];t.forEach((c,d)=>{if(!i.isImmediateParentOf(d)){const m=this.getFieldsMap(i);this.applyChanges(m,r,o),r={},o=[],i=d.popLast()}c?r[d.lastSegment()]=Yl(c):o.push(d.lastSegment())});const u=this.getFieldsMap(i);this.applyChanges(u,r,o)}delete(t){const i=this.field(t.popLast());dh(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ki(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=i.mapValue.fields[t.get(r)];dh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,r){vr(i,(o,u)=>t[o]=u);for(const o of r)delete t[o]}clone(){return new jn(Yl(this.value))}}function X1(e){const t=[];return vr(e.fields,(i,r)=>{const o=new yn([i]);if(dh(r)){const u=X1(r.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)}),new $n(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(t,i,r,o,u,c,d){this.key=t,this.documentType=i,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=d}static newInvalidDocument(t){return new wn(t,0,Lt.min(),Lt.min(),Lt.min(),jn.empty(),0)}static newFoundDocument(t,i,r,o){return new wn(t,1,i,Lt.min(),r,o,0)}static newNoDocument(t,i){return new wn(t,2,i,Lt.min(),Lt.min(),jn.empty(),0)}static newUnknownDocument(t,i){return new wn(t,3,i,Lt.min(),Lt.min(),jn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Lt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Lt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof wn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(t,i){this.position=t,this.inclusive=i}}function nT(e,t,i){let r=0;for(let o=0;o<e.position.length;o++){const u=t[o],c=e.position[o];if(u.field.isKeyField()?r=Vt.comparator(Vt.fromName(c.referenceValue),i.key):r=go(c,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function iT(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let i=0;i<e.position.length;i++)if(!Ki(e.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(t,i="asc"){this.field=t,this.dir=i}}function eD(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{}class tn extends $1{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new iD(t,i,r):i==="array-contains"?new aD(t,r):i==="in"?new oD(t,r):i==="not-in"?new lD(t,r):i==="array-contains-any"?new uD(t,r):new tn(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new sD(t,r):new rD(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(go(i,this.value)):i!==null&&dr(this.value)===dr(i)&&this.matchesComparison(go(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Nt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qi extends $1{constructor(t,i){super(),this.filters=t,this.op=i,this.Te=null}static create(t,i){return new Qi(t,i)}matches(t){return Z1(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Z1(e){return e.op==="and"}function W1(e){return nD(e)&&Z1(e)}function nD(e){for(const t of e.filters)if(t instanceof Qi)return!1;return!0}function ep(e){if(e instanceof tn)return e.field.canonicalString()+e.op.toString()+yo(e.value);if(W1(e))return e.filters.map(t=>ep(t)).join(",");{const t=e.filters.map(i=>ep(i)).join(",");return`${e.op}(${t})`}}function J1(e,t){return e instanceof tn?function(r,o){return o instanceof tn&&r.op===o.op&&r.field.isEqual(o.field)&&Ki(r.value,o.value)}(e,t):e instanceof Qi?function(r,o){return o instanceof Qi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((u,c,d)=>u&&J1(c,o.filters[d]),!0):!1}(e,t):void Nt(19439)}function tE(e){return e instanceof tn?function(i){return`${i.field.canonicalString()} ${i.op} ${yo(i.value)}`}(e):e instanceof Qi?function(i){return i.op.toString()+" {"+i.getFilters().map(tE).join(" ,")+"}"}(e):"Filter"}class iD extends tn{constructor(t,i,r){super(t,i,r),this.key=Vt.fromName(r.referenceValue)}matches(t){const i=Vt.comparator(t.key,this.key);return this.matchesComparison(i)}}class sD extends tn{constructor(t,i){super(t,"in",i),this.keys=eE("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class rD extends tn{constructor(t,i){super(t,"not-in",i),this.keys=eE("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function eE(e,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(r=>Vt.fromName(r.referenceValue))}class aD extends tn{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Qp(i)&&ou(i.arrayValue,this.value)}}class oD extends tn{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&ou(this.value.arrayValue,i)}}class lD extends tn{constructor(t,i){super(t,"not-in",i)}matches(t){if(ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ou(this.value.arrayValue,i)}}class uD extends tn{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Qp(i)||!i.arrayValue.values)&&i.arrayValue.values.some(r=>ou(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(t,i=null,r=[],o=[],u=null,c=null,d=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=d,this.Ie=null}}function sT(e,t=null,i=[],r=[],o=null,u=null,c=null){return new cD(e,t,i,r,o,u,c)}function Xp(e){const t=jt(e);if(t.Ie===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(r=>ep(r)).join(","),i+="|ob:",i+=t.orderBy.map(r=>function(u){return u.field.canonicalString()+u.dir}(r)).join(","),Xh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>yo(r)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>yo(r)).join(",")),t.Ie=i}return t.Ie}function $p(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++)if(!eD(e.orderBy[i],t.orderBy[i]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(!J1(e.filters[i],t.filters[i]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!iT(e.startAt,t.startAt)&&iT(e.endAt,t.endAt)}function np(e){return Vt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(t,i=null,r=[],o=[],u=null,c="F",d=null,m=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=d,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function hD(e,t,i,r,o,u,c,d){return new Zh(e,t,i,r,o,u,c,d)}function Wh(e){return new Zh(e)}function rT(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function fD(e){return e.collectionGroup!==null}function Kl(e){const t=jt(e);if(t.Ee===null){t.Ee=[];const i=new Set;for(const u of t.explicitOrderBy)t.Ee.push(u),i.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new nn(yn.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(t).forEach(u=>{i.has(u.canonicalString())||u.isKeyField()||t.Ee.push(new Nh(u,r))}),i.has(yn.keyField().canonicalString())||t.Ee.push(new Nh(yn.keyField(),r))}return t.Ee}function Bi(e){const t=jt(e);return t.de||(t.de=dD(t,Kl(e))),t.de}function dD(e,t){if(e.limitType==="F")return sT(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Nh(o.field,u)});const i=e.endAt?new Mh(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Mh(e.startAt.position,e.startAt.inclusive):null;return sT(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}}function ip(e,t,i){return new Zh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,i,e.startAt,e.endAt)}function Jh(e,t){return $p(Bi(e),Bi(t))&&e.limitType===t.limitType}function nE(e){return`${Xp(Bi(e))}|lt:${e.limitType}`}function no(e){return`Query(target=${function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map(o=>tE(o)).join(", ")}]`),Xh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map(o=>yo(o)).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map(o=>yo(o)).join(",")),`Target(${r})`}(Bi(e))}; limitType=${e.limitType})`}function tf(e,t){return t.isFoundDocument()&&function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Vt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)}(e,t)&&function(r,o){for(const u of Kl(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(e,t)&&function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0}(e,t)&&function(r,o){return!(r.startAt&&!function(c,d,m){const g=nT(c,d,m);return c.inclusive?g<=0:g<0}(r.startAt,Kl(r),o)||r.endAt&&!function(c,d,m){const g=nT(c,d,m);return c.inclusive?g>=0:g>0}(r.endAt,Kl(r),o))}(e,t)}function mD(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function iE(e){return(t,i)=>{let r=!1;for(const o of Kl(e)){const u=pD(o,t,i);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function pD(e,t,i){const r=e.field.isKeyField()?Vt.comparator(t.key,i.key):function(u,c,d){const m=c.data.field(u),g=d.data.field(u);return m!==null&&g!==null?go(m,g):Nt(42886)}(e.field,t,i);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Nt(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){vr(this.inner,(i,r)=>{for(const[o,u]of r)t(o,u)})}isEmpty(){return z1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=new Me(Vt.comparator);function ws(){return gD}const sE=new Me(Vt.comparator);function zl(...e){let t=sE;for(const i of e)t=t.insert(i.key,i);return t}function rE(e){let t=sE;return e.forEach((i,r)=>t=t.insert(i,r.overlayedDocument)),t}function na(){return Ql()}function aE(){return Ql()}function Ql(){return new ca(e=>e.toString(),(e,t)=>e.isEqual(t))}const yD=new Me(Vt.comparator),vD=new nn(Vt.comparator);function Qt(...e){let t=vD;for(const i of e)t=t.add(i);return t}const _D=new nn(Ft);function TD(){return _D}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ch(t)?"-0":t}}function oE(e){return{integerValue:""+e}}function bD(e,t){return KC(t)?oE(t):Zp(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(){this._=void 0}}function ED(e,t,i){return e instanceof lu?function(o,u){const c={fields:{[q1]:{stringValue:F1},[Y1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Kp(u)&&(u=$h(u)),u&&(c.fields[G1]=u),{mapValue:c}}(i,t):e instanceof uu?uE(e,t):e instanceof cu?cE(e,t):function(o,u){const c=lE(o,u),d=aT(c)+aT(o.Re);return tp(c)&&tp(o.Re)?oE(d):Zp(o.serializer,d)}(e,t)}function SD(e,t,i){return e instanceof uu?uE(e,t):e instanceof cu?cE(e,t):i}function lE(e,t){return e instanceof Ih?function(r){return tp(r)||function(u){return!!u&&"doubleValue"in u}(r)}(t)?t:{integerValue:0}:null}class lu extends ef{}class uu extends ef{constructor(t){super(),this.elements=t}}function uE(e,t){const i=hE(t);for(const r of e.elements)i.some(o=>Ki(o,r))||i.push(r);return{arrayValue:{values:i}}}class cu extends ef{constructor(t){super(),this.elements=t}}function cE(e,t){let i=hE(t);for(const r of e.elements)i=i.filter(o=>!Ki(o,r));return{arrayValue:{values:i}}}class Ih extends ef{constructor(t,i){super(),this.serializer=t,this.Re=i}}function aT(e){return ze(e.integerValue||e.doubleValue)}function hE(e){return Qp(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(t,i){this.field=t,this.transform=i}}function xD(e,t){return e.field.isEqual(t.field)&&function(r,o){return r instanceof uu&&o instanceof uu||r instanceof cu&&o instanceof cu?po(r.elements,o.elements,Ki):r instanceof Ih&&o instanceof Ih?Ki(r.Re,o.Re):r instanceof lu&&o instanceof lu}(e.transform,t.transform)}class wD{constructor(t,i){this.version=t,this.transformResults=i}}class Ui{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Ui}static exists(t){return new Ui(void 0,t)}static updateTime(t){return new Ui(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function mh(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class nf{}function fE(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new mE(e.key,Ui.none()):new Eu(e.key,e.data,Ui.none());{const i=e.data,r=jn.empty();let o=new nn(yn.comparator);for(let u of t.fields)if(!o.has(u)){let c=i.field(u);c===null&&u.length>1&&(u=u.popLast(),c=i.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new _r(e.key,r,new $n(o.toArray()),Ui.none())}}function RD(e,t,i){e instanceof Eu?function(o,u,c){const d=o.value.clone(),m=lT(o.fieldTransforms,u,c.transformResults);d.setAll(m),u.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(e,t,i):e instanceof _r?function(o,u,c){if(!mh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const d=lT(o.fieldTransforms,u,c.transformResults),m=u.data;m.setAll(dE(o)),m.setAll(d),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(e,t,i):function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,i)}function Xl(e,t,i,r){return e instanceof Eu?function(u,c,d,m){if(!mh(u.precondition,c))return d;const g=u.value.clone(),y=uT(u.fieldTransforms,m,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(e,t,i,r):e instanceof _r?function(u,c,d,m){if(!mh(u.precondition,c))return d;const g=uT(u.fieldTransforms,m,c),y=c.data;return y.setAll(dE(u)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(_=>_.field))}(e,t,i,r):function(u,c,d){return mh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(e,t,i)}function CD(e,t){let i=null;for(const r of e.fieldTransforms){const o=t.data.field(r.field),u=lE(r.transform,o||null);u!=null&&(i===null&&(i=jn.empty()),i.set(r.field,u))}return i||null}function oT(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&po(r,o,(u,c)=>xD(u,c))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Eu extends nf{constructor(t,i,r,o=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class _r extends nf{constructor(t,i,r,o,u=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function dE(e){const t=new Map;return e.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const r=e.data.field(i);t.set(i,r)}}),t}function lT(e,t,i){const r=new Map;ce(e.length===i.length,32656,{Ve:i.length,me:e.length});for(let o=0;o<i.length;o++){const u=e[o],c=u.transform,d=t.data.field(u.field);r.set(u.field,SD(c,d,i[o]))}return r}function uT(e,t,i){const r=new Map;for(const o of e){const u=o.transform,c=i.data.field(o.field);r.set(o.field,ED(u,c,t))}return r}class mE extends nf{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DD extends nf{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(t,i,r,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&RD(u,t,r[o])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Xl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Xl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=aE();return this.mutations.forEach(o=>{const u=t.get(o.key),c=u.overlayedDocument;let d=this.applyToLocalView(c,u.mutatedFields);d=i.has(o.key)?null:d;const m=fE(c,d);m!==null&&r.set(o.key,m),c.isValidDocument()||c.convertToNoDocument(Lt.min())}),r}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Qt())}isEqual(t){return this.batchId===t.batchId&&po(this.mutations,t.mutations,(i,r)=>oT(i,r))&&po(this.baseMutations,t.baseMutations,(i,r)=>oT(i,r))}}class Wp{constructor(t,i,r,o){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(t,i,r){ce(t.mutations.length===r.length,58842,{fe:t.mutations.length,ge:r.length});let o=function(){return yD}();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new Wp(t,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe,te;function ID(e){switch(e){case ot.OK:return Nt(64938);case ot.CANCELLED:case ot.UNKNOWN:case ot.DEADLINE_EXCEEDED:case ot.RESOURCE_EXHAUSTED:case ot.INTERNAL:case ot.UNAVAILABLE:case ot.UNAUTHENTICATED:return!1;case ot.INVALID_ARGUMENT:case ot.NOT_FOUND:case ot.ALREADY_EXISTS:case ot.PERMISSION_DENIED:case ot.FAILED_PRECONDITION:case ot.ABORTED:case ot.OUT_OF_RANGE:case ot.UNIMPLEMENTED:case ot.DATA_LOSS:return!0;default:return Nt(15467,{code:e})}}function pE(e){if(e===void 0)return xs("GRPC error has no .code"),ot.UNKNOWN;switch(e){case Qe.OK:return ot.OK;case Qe.CANCELLED:return ot.CANCELLED;case Qe.UNKNOWN:return ot.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return ot.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return ot.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return ot.INTERNAL;case Qe.UNAVAILABLE:return ot.UNAVAILABLE;case Qe.UNAUTHENTICATED:return ot.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return ot.INVALID_ARGUMENT;case Qe.NOT_FOUND:return ot.NOT_FOUND;case Qe.ALREADY_EXISTS:return ot.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return ot.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return ot.FAILED_PRECONDITION;case Qe.ABORTED:return ot.ABORTED;case Qe.OUT_OF_RANGE:return ot.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return ot.UNIMPLEMENTED;case Qe.DATA_LOSS:return ot.DATA_LOSS;default:return Nt(39323,{code:e})}}(te=Qe||(Qe={}))[te.OK=0]="OK",te[te.CANCELLED=1]="CANCELLED",te[te.UNKNOWN=2]="UNKNOWN",te[te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",te[te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",te[te.NOT_FOUND=5]="NOT_FOUND",te[te.ALREADY_EXISTS=6]="ALREADY_EXISTS",te[te.PERMISSION_DENIED=7]="PERMISSION_DENIED",te[te.UNAUTHENTICATED=16]="UNAUTHENTICATED",te[te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",te[te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",te[te.ABORTED=10]="ABORTED",te[te.OUT_OF_RANGE=11]="OUT_OF_RANGE",te[te.UNIMPLEMENTED=12]="UNIMPLEMENTED",te[te.INTERNAL=13]="INTERNAL",te[te.UNAVAILABLE=14]="UNAVAILABLE",te[te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=new or([4294967295,4294967295],0);function cT(e){const t=j1().encode(e),i=new V1;return i.update(t),new Uint8Array(i.digest())}function hT(e){const t=new DataView(e.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new or([i,r],0),new or([o,u],0)]}class Jp{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Hl(`Invalid padding: ${i}`);if(r<0)throw new Hl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Hl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Hl(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*t.length-i,this.ye=or.fromNumber(this.pe)}we(t,i,r){let o=t.add(i.multiply(or.fromNumber(r)));return o.compare(OD)===1&&(o=new or([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const i=cT(t),[r,o]=hT(i);for(let u=0;u<this.hashCount;u++){const c=this.we(r,o,u);if(!this.be(c))return!1}return!0}static create(t,i,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new Jp(u,o,i);return r.forEach(d=>c.insert(d)),c}insert(t){if(this.pe===0)return;const i=cT(t),[r,o]=hT(i);for(let u=0;u<this.hashCount;u++){const c=this.we(r,o,u);this.Se(c)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(t,i,r,o,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const o=new Map;return o.set(t,Su.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new sf(Lt.min(),o,new Me(Ft),ws(),Qt())}}class Su{constructor(t,i,r,o,u){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Su(r,i,Qt(),Qt(),Qt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(t,i,r,o){this.De=t,this.removedTargetIds=i,this.key=r,this.ve=o}}class gE{constructor(t,i){this.targetId=t,this.Ce=i}}class yE{constructor(t,i,r=vn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=o}}class fT{constructor(){this.Fe=0,this.Me=dT(),this.xe=vn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Qt(),i=Qt(),r=Qt();return this.Me.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:Nt(38017,{changeType:u})}}),new Su(this.xe,this.Oe,t,i,r)}Qe(){this.Ne=!1,this.Me=dT()}$e(t,i){this.Ne=!0,this.Me=this.Me.insert(t,i)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,ce(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class PD{constructor(t){this.ze=t,this.je=new Map,this.He=ws(),this.Je=th(),this.Ye=th(),this.Ze=new Me(Ft)}Xe(t){for(const i of t.De)t.ve&&t.ve.isFoundDocument()?this.et(i,t.ve):this.tt(i,t.key,t.ve);for(const i of t.removedTargetIds)this.tt(i,t.key,t.ve)}nt(t){this.forEachTarget(t,i=>{const r=this.rt(i);switch(t.state){case 0:this.it(i)&&r.ke(t.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(t.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(i);break;case 3:this.it(i)&&(r.Ge(),r.ke(t.resumeToken));break;case 4:this.it(i)&&(this.st(i),r.ke(t.resumeToken));break;default:Nt(56790,{state:t.state})}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.je.forEach((r,o)=>{this.it(o)&&i(o)})}ot(t){const i=t.targetId,r=t.Ce.count,o=this._t(i);if(o){const u=o.target;if(np(u))if(r===0){const c=new Vt(u.path);this.tt(i,c,wn.newNoDocument(c,Lt.min()))}else ce(r===1,20013,{expectedCount:r});else{const c=this.ut(i);if(c!==r){const d=this.ct(t),m=d?this.lt(d,t,c):1;if(m!==0){this.st(i);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,g)}}}}}ct(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=i;let c,d;try{c=fr(r).toUint8Array()}catch(m){if(m instanceof H1)return mo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Jp(c,o,u)}catch(m){return mo(m instanceof Hl?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.pe===0?null:d}lt(t,i,r){return i.Ce.count===r-this.Tt(t,i.targetId)?0:2}Tt(t,i){const r=this.ze.getRemoteKeysForTarget(i);let o=0;return r.forEach(u=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(d)||(this.tt(i,u,null),o++)}),o}It(t){const i=new Map;this.je.forEach((u,c)=>{const d=this._t(c);if(d){if(u.current&&np(d.target)){const m=new Vt(d.target.path);this.Et(m).has(c)||this.dt(c,m)||this.tt(c,m,wn.newNoDocument(m,t))}u.Le&&(i.set(c,u.qe()),u.Qe())}});let r=Qt();this.Ye.forEach((u,c)=>{let d=!0;c.forEachWhile(m=>{const g=this._t(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(u))}),this.He.forEach((u,c)=>c.setReadTime(t));const o=new sf(t,i,this.Ze,this.He,r);return this.He=ws(),this.Je=th(),this.Ye=th(),this.Ze=new Me(Ft),o}et(t,i){if(!this.it(t))return;const r=this.dt(t,i.key)?2:0;this.rt(t).$e(i.key,r),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(t)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(t))}tt(t,i,r){if(!this.it(t))return;const o=this.rt(t);this.dt(t,i)?o.$e(i,1):o.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(t)),this.Ye=this.Ye.insert(i,this.At(i).add(t)),r&&(this.He=this.He.insert(i,r))}removeTarget(t){this.je.delete(t)}ut(t){const i=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let i=this.je.get(t);return i||(i=new fT,this.je.set(t,i)),i}At(t){let i=this.Ye.get(t);return i||(i=new nn(Ft),this.Ye=this.Ye.insert(t,i)),i}Et(t){let i=this.Je.get(t);return i||(i=new nn(Ft),this.Je=this.Je.insert(t,i)),i}it(t){const i=this._t(t)!==null;return i||gt("WatchChangeAggregator","Detected inactive target",t),i}_t(t){const i=this.je.get(t);return i&&i.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new fT),this.ze.getRemoteKeysForTarget(t).forEach(i=>{this.tt(t,i,null)})}dt(t,i){return this.ze.getRemoteKeysForTarget(t).has(i)}}function th(){return new Me(Vt.comparator)}function dT(){return new Me(Vt.comparator)}const kD={asc:"ASCENDING",desc:"DESCENDING"},LD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jD={and:"AND",or:"OR"};class BD{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function sp(e,t){return e.useProto3Json||Xh(t)?t:{value:t}}function Oh(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function vE(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function UD(e,t){return Oh(e,t.toTimestamp())}function zi(e){return ce(!!e,49232),Lt.fromTimestamp(function(i){const r=hr(i);return new en(r.seconds,r.nanos)}(e))}function tg(e,t){return rp(e,t).canonicalString()}function rp(e,t){const i=function(o){return new Pe(["projects",o.projectId,"databases",o.database])}(e).child("documents");return t===void 0?i:i.child(t)}function _E(e){const t=Pe.fromString(e);return ce(AE(t),10190,{key:t.toString()}),t}function ap(e,t){return tg(e.databaseId,t.path)}function Rm(e,t){const i=_E(t);if(i.get(1)!==e.databaseId.projectId)throw new xt(ot.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+e.databaseId.projectId);if(i.get(3)!==e.databaseId.database)throw new xt(ot.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+e.databaseId.database);return new Vt(bE(i))}function TE(e,t){return tg(e.databaseId,t)}function zD(e){const t=_E(e);return t.length===4?Pe.emptyPath():bE(t)}function op(e){return new Pe(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function bE(e){return ce(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function mT(e,t,i){return{name:ap(e,t),fields:i.value.mapValue.fields}}function HD(e,t){let i;if("targetChange"in t){t.targetChange;const r=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Nt(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,y){return g.useProto3Json?(ce(y===void 0||typeof y=="string",58123),vn.fromBase64String(y||"")):(ce(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),vn.fromUint8Array(y||new Uint8Array))}(e,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&function(g){const y=g.code===void 0?ot.UNKNOWN:pE(g.code);return new xt(y,g.message||"")}(c);i=new yE(r,o,u,d||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Rm(e,r.document.name),u=zi(r.document.updateTime),c=r.document.createTime?zi(r.document.createTime):Lt.min(),d=new jn({mapValue:{fields:r.document.fields}}),m=wn.newFoundDocument(o,u,c,d),g=r.targetIds||[],y=r.removedTargetIds||[];i=new ph(g,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Rm(e,r.document),u=r.readTime?zi(r.readTime):Lt.min(),c=wn.newNoDocument(o,u),d=r.removedTargetIds||[];i=new ph([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Rm(e,r.document),u=r.removedTargetIds||[];i=new ph([],u,o,null)}else{if(!("filter"in t))return Nt(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new ND(o,u),d=r.targetId;i=new gE(d,c)}}return i}function FD(e,t){let i;if(t instanceof Eu)i={update:mT(e,t.key,t.value)};else if(t instanceof mE)i={delete:ap(e,t.key)};else if(t instanceof _r)i={update:mT(e,t.key,t.data),updateMask:WD(t.fieldMask)};else{if(!(t instanceof DD))return Nt(16599,{ft:t.type});i={verify:ap(e,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(r=>function(u,c){const d=c.transform;if(d instanceof lu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof uu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof cu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Ih)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw Nt(20930,{transform:c.transform})}(0,r))),t.precondition.isNone||(i.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:UD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Nt(27497)}(e,t.precondition)),i}function qD(e,t){return e&&e.length>0?(ce(t!==void 0,14353),e.map(i=>function(o,u){let c=o.updateTime?zi(o.updateTime):zi(u);return c.isEqual(Lt.min())&&(c=zi(u)),new wD(c,o.transformResults||[])}(i,t))):[]}function GD(e,t){return{documents:[TE(e,t.path)]}}function YD(e,t){const i={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=TE(e,o);const u=function(g){if(g.length!==0)return SE(Qi.create(g,"and"))}(t.filters);u&&(i.structuredQuery.where=u);const c=function(g){if(g.length!==0)return g.map(y=>function(b){return{field:io(b.field),direction:XD(b.dir)}}(y))}(t.orderBy);c&&(i.structuredQuery.orderBy=c);const d=sp(e,t.limit);return d!==null&&(i.structuredQuery.limit=d),t.startAt&&(i.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{gt:i,parent:o}}function KD(e){let t=zD(e.parent);const i=e.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){ce(r===1,65062);const y=i.from[0];y.allDescendants?o=y.collectionId:t=t.child(y.collectionId)}let u=[];i.where&&(u=function(_){const b=EE(_);return b instanceof Qi&&W1(b)?b.getFilters():[b]}(i.where));let c=[];i.orderBy&&(c=function(_){return _.map(b=>function(C){return new Nh(so(C.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(b))}(i.orderBy));let d=null;i.limit&&(d=function(_){let b;return b=typeof _=="object"?_.value:_,Xh(b)?null:b}(i.limit));let m=null;i.startAt&&(m=function(_){const b=!!_.before,w=_.values||[];return new Mh(w,b)}(i.startAt));let g=null;return i.endAt&&(g=function(_){const b=!_.before,w=_.values||[];return new Mh(w,b)}(i.endAt)),hD(t,o,c,u,d,"F",m,g)}function QD(e,t){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Nt(28987,{purpose:o})}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function EE(e){return e.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=so(i.unaryFilter.field);return tn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=so(i.unaryFilter.field);return tn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=so(i.unaryFilter.field);return tn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=so(i.unaryFilter.field);return tn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Nt(61313);default:return Nt(60726)}}(e):e.fieldFilter!==void 0?function(i){return tn.create(so(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Nt(58110);default:return Nt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(i){return Qi.create(i.compositeFilter.filters.map(r=>EE(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Nt(1026)}}(i.compositeFilter.op))}(e):Nt(30097,{filter:e})}function XD(e){return kD[e]}function $D(e){return LD[e]}function ZD(e){return jD[e]}function io(e){return{fieldPath:e.canonicalString()}}function so(e){return yn.fromServerFormat(e.fieldPath)}function SE(e){return e instanceof tn?function(i){if(i.op==="=="){if(eT(i.value))return{unaryFilter:{field:io(i.field),op:"IS_NAN"}};if(tT(i.value))return{unaryFilter:{field:io(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(eT(i.value))return{unaryFilter:{field:io(i.field),op:"IS_NOT_NAN"}};if(tT(i.value))return{unaryFilter:{field:io(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(i.field),op:$D(i.op),value:i.value}}}(e):e instanceof Qi?function(i){const r=i.getFilters().map(o=>SE(o));return r.length===1?r[0]:{compositeFilter:{op:ZD(i.op),filters:r}}}(e):Nt(54877,{filter:e})}function WD(e){const t=[];return e.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function AE(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(t,i,r,o,u=Lt.min(),c=Lt.min(),d=vn.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new nr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(t){this.wt=t}}function t4(e){const t=KD({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?ip(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(){this.Cn=new n4}addToCollectionParentIndex(t,i){return this.Cn.add(i),it.resolve()}getCollectionParents(t,i){return it.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return it.resolve()}deleteFieldIndex(t,i){return it.resolve()}deleteAllFieldIndexes(t){return it.resolve()}createTargetIndexes(t,i){return it.resolve()}getDocumentsMatchingTarget(t,i){return it.resolve(null)}getIndexType(t,i){return it.resolve(0)}getFieldIndexes(t,i){return it.resolve([])}getNextCollectionGroupToUpdate(t){return it.resolve(null)}getMinOffset(t,i){return it.resolve(cr.min())}getMinOffsetFromCollectionGroup(t,i){return it.resolve(cr.min())}updateCollectionGroup(t,i,r){return it.resolve()}updateIndexEntries(t,i){return it.resolve()}}class n4{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i]||new nn(Pe.comparator),u=!o.has(r);return this.index[i]=o.add(r),u}has(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(t){return(this.index[t]||new nn(Pe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xE=41943040;class Ln{static withCacheSize(t){return new Ln(t,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(xE,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new vo(0)}static lr(){return new vo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="LruGarbageCollector",i4=1048576;function yT([e,t],[i,r]){const o=Ft(e,i);return o===0?Ft(t,r):o}class s4{constructor(t){this.Er=t,this.buffer=new nn(yT),this.dr=0}Ar(){return++this.dr}Rr(t){const i=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();yT(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class r4{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){gt(gT,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Do(i)?gt(gT,"Ignoring IndexedDB error during garbage collection: ",i):await Co(i)}await this.mr(3e5)})}}class a4{constructor(t,i){this.gr=t,this.params=i}calculateTargetCount(t,i){return this.gr.pr(t).next(r=>Math.floor(i/100*r))}nthSequenceNumber(t,i){if(i===0)return it.resolve(Qh.le);const r=new s4(i);return this.gr.forEachTarget(t,o=>r.Rr(o.sequenceNumber)).next(()=>this.gr.yr(t,o=>r.Rr(o))).next(()=>r.maxValue)}removeTargets(t,i,r){return this.gr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.gr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(gt("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(pT)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(gt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pT):this.wr(t,i))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,i){let r,o,u,c,d,m,g;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(gt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),o=this.params.maximumSequenceNumbersToCollect):o=_,c=Date.now(),this.nthSequenceNumber(t,o))).next(_=>(r=_,d=Date.now(),this.removeTargets(t,r,i))).next(_=>(u=_,m=Date.now(),this.removeOrphanedDocuments(t,r))).next(_=>(g=Date.now(),eo()<=ee.DEBUG&&gt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${u} targets in `+(m-d)+`ms
	Removed ${_} documents in `+(g-m)+`ms
Total Duration: ${g-y}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:_})))}}function o4(e,t){return new a4(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(){this.changes=new ca(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,wn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?it.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(t,i,r,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next(o=>(r=o,this.remoteDocumentCache.getEntry(t,i))).next(o=>(r!==null&&Xl(r.mutation,o,$n.empty(),en.now()),o))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(r=>this.getLocalViewOfDocuments(t,r,Qt()).next(()=>r))}getLocalViewOfDocuments(t,i,r=Qt()){const o=na();return this.populateOverlays(t,o,i).next(()=>this.computeViews(t,i,o,r).next(u=>{let c=zl();return u.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(t,i){const r=na();return this.populateOverlays(t,r,i).next(()=>this.computeViews(t,i,r,Qt()))}populateOverlays(t,i,r){const o=[];return r.forEach(u=>{i.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((c,d)=>{i.set(c,d)})})}computeViews(t,i,r,o){let u=ws();const c=Ql(),d=function(){return Ql()}();return i.forEach((m,g)=>{const y=r.get(g.key);o.has(g.key)&&(y===void 0||y.mutation instanceof _r)?u=u.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),Xl(y.mutation,g,y.mutation.getFieldMask(),en.now())):c.set(g.key,$n.empty())}),this.recalculateAndSaveOverlays(t,u).next(m=>(m.forEach((g,y)=>c.set(g,y)),i.forEach((g,y)=>{var _;return d.set(g,new u4(y,(_=c.get(g))!==null&&_!==void 0?_:null))}),d))}recalculateAndSaveOverlays(t,i){const r=Ql();let o=new Me((c,d)=>c-d),u=Qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(c=>{for(const d of c)d.keys().forEach(m=>{const g=i.get(m);if(g===null)return;let y=r.get(m)||$n.empty();y=d.applyToLocalView(g,y),r.set(m,y);const _=(o.get(d.batchId)||Qt()).add(m);o=o.insert(d.batchId,_)})}).next(()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,y=m.value,_=aE();y.forEach(b=>{if(!u.has(b)){const w=fE(i.get(b),r.get(b));w!==null&&_.set(b,w),u=u.add(b)}}),c.push(this.documentOverlayCache.saveOverlays(t,g,_))}return it.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,i,r,o){return function(c){return Vt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):fD(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,o):this.getDocumentsMatchingCollectionQuery(t,i,r,o)}getNextDocuments(t,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,o).next(u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,o-u.size):it.resolve(na());let d=su,m=u;return c.next(g=>it.forEach(g,(y,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),u.get(y)?it.resolve():this.remoteDocumentCache.getEntry(t,y).next(b=>{m=m.insert(y,b)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,m,g,Qt())).next(y=>({batchId:d,changes:rE(y)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new Vt(i)).next(r=>{let o=zl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(t,i,r,o){const u=i.collectionGroup;let c=zl();return this.indexManager.getCollectionParents(t,u).next(d=>it.forEach(d,m=>{const g=function(_,b){return new Zh(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(i,m.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next(y=>{y.forEach((_,b)=>{c=c.insert(_,b)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,i,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next(c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,u,o))).next(c=>{u.forEach((m,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,wn.newInvalidDocument(y)))});let d=zl();return c.forEach((m,g)=>{const y=u.get(m);y!==void 0&&Xl(y.mutation,g,$n.empty(),en.now()),tf(i,g)&&(d=d.insert(m,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,i){return it.resolve(this.kr.get(i))}saveBundleMetadata(t,i){return this.kr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:zi(o.createTime)}}(i)),it.resolve()}getNamedQuery(t,i){return it.resolve(this.qr.get(i))}saveNamedQuery(t,i){return this.qr.set(i.name,function(o){return{name:o.name,query:t4(o.bundledQuery),readTime:zi(o.readTime)}}(i)),it.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(){this.overlays=new Me(Vt.comparator),this.Qr=new Map}getOverlay(t,i){return it.resolve(this.overlays.get(i))}getOverlays(t,i){const r=na();return it.forEach(i,o=>this.getOverlay(t,o).next(u=>{u!==null&&r.set(o,u)})).next(()=>r)}saveOverlays(t,i,r){return r.forEach((o,u)=>{this.St(t,i,u)}),it.resolve()}removeOverlaysForBatchId(t,i,r){const o=this.Qr.get(r);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(r)),it.resolve()}getOverlaysForCollection(t,i,r){const o=na(),u=i.length+1,c=new Vt(i.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>r&&o.set(m.getKey(),m)}return it.resolve(o)}getOverlaysForCollectionGroup(t,i,r,o){let u=new Me((g,y)=>g-y);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>r){let y=u.get(g.largestBatchId);y===null&&(y=na(),u=u.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const d=na(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,y)=>d.set(g,y)),!(d.size()>=o)););return it.resolve(d)}St(t,i,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.Qr.get(o.largestBatchId).delete(r.key);this.Qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new MD(i,r));let u=this.Qr.get(i);u===void 0&&(u=Qt(),this.Qr.set(i,u)),this.Qr.set(i,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(){this.sessionToken=vn.EMPTY_BYTE_STRING}getSessionToken(t){return it.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,it.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(){this.$r=new nn(un.Ur),this.Kr=new nn(un.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,i){const r=new un(t,i);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(t,i){t.forEach(r=>this.addReference(r,i))}removeReference(t,i){this.zr(new un(t,i))}jr(t,i){t.forEach(r=>this.removeReference(r,i))}Hr(t){const i=new Vt(new Pe([])),r=new un(i,t),o=new un(i,t+1),u=[];return this.Kr.forEachInRange([r,o],c=>{this.zr(c),u.push(c.key)}),u}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const i=new Vt(new Pe([])),r=new un(i,t),o=new un(i,t+1);let u=Qt();return this.Kr.forEachInRange([r,o],c=>{u=u.add(c.key)}),u}containsKey(t){const i=new un(t,0),r=this.$r.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class un{constructor(t,i){this.key=t,this.Zr=i}static Ur(t,i){return Vt.comparator(t.key,i.key)||Ft(t.Zr,i.Zr)}static Wr(t,i){return Ft(t.Zr,i.Zr)||Vt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.nr=1,this.Xr=new nn(un.Ur)}checkEmpty(t){return it.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new VD(u,i,r,o);this.mutationQueue.push(c);for(const d of o)this.Xr=this.Xr.add(new un(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return it.resolve(c)}lookupMutationBatch(t,i){return it.resolve(this.ei(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,o=this.ti(r),u=o<0?0:o;return it.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(this.mutationQueue.length===0?Yp:this.nr-1)}getAllMutationBatches(t){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new un(i,0),o=new un(i,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([r,o],c=>{const d=this.ei(c.Zr);u.push(d)}),it.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new nn(Ft);return i.forEach(o=>{const u=new un(o,0),c=new un(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,c],d=>{r=r.add(d.Zr)})}),it.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,o=r.length+1;let u=r;Vt.isDocumentKey(u)||(u=u.child(""));const c=new un(new Vt(u),0);let d=new nn(Ft);return this.Xr.forEachWhile(m=>{const g=m.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(d=d.add(m.Zr)),!0)},c),it.resolve(this.ni(d))}ni(t){const i=[];return t.forEach(r=>{const o=this.ei(r);o!==null&&i.push(o)}),i}removeMutationBatch(t,i){ce(this.ri(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return it.forEach(i.mutations,o=>{const u=new un(o.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Xr=r})}sr(t){}containsKey(t,i){const r=new un(i,0),o=this.Xr.firstAfterOrEqual(r);return it.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,it.resolve()}ri(t,i){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const i=this.ti(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(t){this.ii=t,this.docs=function(){return new Me(Vt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,o=this.docs.get(r),u=o?o.size:0,c=this.ii(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return it.resolve(r?r.document.mutableCopy():wn.newInvalidDocument(i))}getEntries(t,i){let r=ws();return i.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():wn.newInvalidDocument(o))}),it.resolve(r)}getDocumentsMatchingQuery(t,i,r,o){let u=ws();const c=i.path,d=new Vt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:y}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||FC(HC(y),r)<=0||(o.has(y.key)||tf(i,y))&&(u=u.insert(y.key,y.mutableCopy()))}return it.resolve(u)}getAllFromCollectionGroup(t,i,r,o){Nt(9500)}si(t,i){return it.forEach(this.docs,r=>i(r))}newChangeBuffer(t){return new g4(this)}getSize(t){return it.resolve(this.size)}}class g4 extends l4{constructor(t){super(),this.Br=t}applyChanges(t){const i=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?i.push(this.Br.addEntry(t,o)):this.Br.removeEntry(r)}),it.waitFor(i)}getFromCache(t,i){return this.Br.getEntry(t,i)}getAllFromCache(t,i){return this.Br.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(t){this.persistence=t,this.oi=new ca(i=>Xp(i),$p),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this._i=0,this.ai=new eg,this.targetCount=0,this.ui=vo.cr()}forEachTarget(t,i){return this.oi.forEach((r,o)=>i(o)),it.resolve()}getLastRemoteSnapshotVersion(t){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return it.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this._i&&(this._i=i),it.resolve()}Tr(t){this.oi.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ui=new vo(i),this.highestTargetId=i),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,i){return this.Tr(i),this.targetCount+=1,it.resolve()}updateTargetData(t,i){return this.Tr(i),it.resolve()}removeTargetData(t,i){return this.oi.delete(i.target),this.ai.Hr(i.targetId),this.targetCount-=1,it.resolve()}removeTargets(t,i,r){let o=0;const u=[];return this.oi.forEach((c,d)=>{d.sequenceNumber<=i&&r.get(d.targetId)===null&&(this.oi.delete(c),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)}),it.waitFor(u).next(()=>o)}getTargetCount(t){return it.resolve(this.targetCount)}getTargetData(t,i){const r=this.oi.get(i)||null;return it.resolve(r)}addMatchingKeys(t,i,r){return this.ai.Gr(i,r),it.resolve()}removeMatchingKeys(t,i,r){this.ai.jr(i,r);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach(c=>{u.push(o.markPotentiallyOrphaned(t,c))}),it.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this.ai.Hr(i),it.resolve()}getMatchingKeysForTargetId(t,i){const r=this.ai.Yr(i);return it.resolve(r)}containsKey(t,i){return it.resolve(this.ai.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(t,i){this.ci={},this.overlays={},this.li=new Qh(0),this.hi=!1,this.hi=!0,this.Pi=new d4,this.referenceDelegate=t(this),this.Ti=new y4(this),this.indexManager=new e4,this.remoteDocumentCache=function(o){return new p4(o)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new JD(i),this.Ei=new h4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new f4,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ci[t.toKey()];return r||(r=new m4(i,this.referenceDelegate),this.ci[t.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,i,r){gt("MemoryPersistence","Starting transaction:",t);const o=new v4(this.li.next());return this.referenceDelegate.di(),r(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(t,i){return it.or(Object.values(this.ci).map(r=>()=>r.containsKey(t,i)))}}class v4 extends GC{constructor(t){super(),this.currentSequenceNumber=t}}class ng{constructor(t){this.persistence=t,this.Vi=new eg,this.mi=null}static fi(t){return new ng(t)}get gi(){if(this.mi)return this.mi;throw Nt(60996)}addReference(t,i,r){return this.Vi.addReference(r,i),this.gi.delete(r.toString()),it.resolve()}removeReference(t,i,r){return this.Vi.removeReference(r,i),this.gi.add(r.toString()),it.resolve()}markPotentiallyOrphaned(t,i){return this.gi.add(i.toString()),it.resolve()}removeTarget(t,i){this.Vi.Hr(i.targetId).forEach(o=>this.gi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>r.removeTargetData(t,i))}di(){this.mi=new Set}Ai(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.gi,r=>{const o=Vt.fromPath(r);return this.pi(t,o).next(u=>{u||i.removeEntry(o,Lt.min())})}).next(()=>(this.mi=null,i.apply(t)))}updateLimboDocument(t,i){return this.pi(t,i).next(r=>{r?this.gi.delete(i.toString()):this.gi.add(i.toString())})}Ii(t){return 0}pi(t,i){return it.or([()=>it.resolve(this.Vi.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ri(t,i)])}}class Ph{constructor(t,i){this.persistence=t,this.yi=new ca(r=>QC(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=o4(this,i)}static fi(t,i){return new Ph(t,i)}di(){}Ai(t){return it.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}pr(t){const i=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>i.next(o=>r+o))}br(t){let i=0;return this.yr(t,r=>{i++}).next(()=>i)}yr(t,i){return it.forEach(this.yi,(r,o)=>this.Dr(t,r,o).next(u=>u?it.resolve():i(o)))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(t,c=>this.Dr(t,c,i).next(d=>{d||(r++,u.removeEntry(c,Lt.min()))})).next(()=>u.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,i){return this.yi.set(i,t.currentSequenceNumber),it.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.yi.set(r,t.currentSequenceNumber),it.resolve()}removeReference(t,i,r){return this.yi.set(r,t.currentSequenceNumber),it.resolve()}updateLimboDocument(t,i){return this.yi.set(i,t.currentSequenceNumber),it.resolve()}Ii(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=fh(t.data.value)),i}Dr(t,i,r){return it.or([()=>this.persistence.Ri(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.yi.get(i);return it.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(t,i,r,o){this.targetId=t,this.fromCache=i,this.ds=r,this.As=o}static Rs(t,i){let r=Qt(),o=Qt();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new ig(t,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return mR()?8:YC(fR())>0?6:4}()}initialize(t,i){this.ys=t,this.indexManager=i,this.Vs=!0}getDocumentsMatchingQuery(t,i,r,o){const u={result:null};return this.ws(t,i).next(c=>{u.result=c}).next(()=>{if(!u.result)return this.bs(t,i,o,r).next(c=>{u.result=c})}).next(()=>{if(u.result)return;const c=new _4;return this.Ss(t,i,c).next(d=>{if(u.result=d,this.fs)return this.Ds(t,i,c,d.size)})}).next(()=>u.result)}Ds(t,i,r,o){return r.documentReadCount<this.gs?(eo()<=ee.DEBUG&&gt("QueryEngine","SDK will not create cache indexes for query:",no(i),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),it.resolve()):(eo()<=ee.DEBUG&&gt("QueryEngine","Query:",no(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ps*o?(eo()<=ee.DEBUG&&gt("QueryEngine","The SDK decides to create cache indexes for query:",no(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Bi(i))):it.resolve())}ws(t,i){if(rT(i))return it.resolve(null);let r=Bi(i);return this.indexManager.getIndexType(t,r).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=ip(i,null,"F"),r=Bi(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next(u=>{const c=Qt(...u);return this.ys.getDocuments(t,c).next(d=>this.indexManager.getMinOffset(t,r).next(m=>{const g=this.vs(i,d);return this.Cs(i,g,c,m.readTime)?this.ws(t,ip(i,null,"F")):this.Fs(t,g,i,m)}))})))}bs(t,i,r,o){return rT(i)||o.isEqual(Lt.min())?it.resolve(null):this.ys.getDocuments(t,r).next(u=>{const c=this.vs(i,u);return this.Cs(i,c,r,o)?it.resolve(null):(eo()<=ee.DEBUG&&gt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),no(i)),this.Fs(t,c,i,zC(o,su)).next(d=>d))})}vs(t,i){let r=new nn(iE(t));return i.forEach((o,u)=>{tf(t,u)&&(r=r.add(u))}),r}Cs(t,i,r,o){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,i,r){return eo()<=ee.DEBUG&&gt("QueryEngine","Using full collection scan to execute query:",no(i)),this.ys.getDocumentsMatchingQuery(t,i,cr.min(),r)}Fs(t,i,r,o){return this.ys.getDocumentsMatchingQuery(t,r,o).next(u=>(i.forEach(c=>{u=u.insert(c.key,c)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg="LocalStore",b4=3e8;class E4{constructor(t,i,r,o){this.persistence=t,this.Ms=i,this.serializer=o,this.xs=new Me(Ft),this.Os=new ca(u=>Xp(u),$p),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(r)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new c4(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.xs))}}function S4(e,t,i,r){return new E4(e,t,i,r)}async function RE(e,t){const i=jt(e);return await i.persistence.runTransaction("Handle user change","readonly",r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,i.Ls(t),i.mutationQueue.getAllMutationBatches(r))).next(u=>{const c=[],d=[];let m=Qt();for(const g of o){c.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}for(const g of u){d.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}return i.localDocuments.getDocuments(r,m).next(g=>({ks:g,removedBatchIds:c,addedBatchIds:d}))})})}function A4(e,t){const i=jt(e);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=t.batch.keys(),u=i.Bs.newChangeBuffer({trackRemovals:!0});return function(d,m,g,y){const _=g.batch,b=_.keys();let w=it.resolve();return b.forEach(C=>{w=w.next(()=>y.getEntry(m,C)).next(L=>{const j=g.docVersions.get(C);ce(j!==null,48541),L.version.compareTo(j)<0&&(_.applyToRemoteDocument(L,g),L.isValidDocument()&&(L.setReadTime(g.commitVersion),y.addEntry(L)))})}),w.next(()=>d.mutationQueue.removeMutationBatch(m,_))}(i,r,t,u).next(()=>u.apply(r)).next(()=>i.mutationQueue.performConsistencyCheck(r)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let m=Qt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m}(t))).next(()=>i.localDocuments.getDocuments(r,o))})}function CE(e){const t=jt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Ti.getLastRemoteSnapshotVersion(i))}function x4(e,t){const i=jt(e),r=t.snapshotVersion;let o=i.xs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const c=i.Bs.newChangeBuffer({trackRemovals:!0});o=i.xs;const d=[];t.targetChanges.forEach((y,_)=>{const b=o.get(_);if(!b)return;d.push(i.Ti.removeMatchingKeys(u,y.removedDocuments,_).next(()=>i.Ti.addMatchingKeys(u,y.addedDocuments,_)));let w=b.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(_)!==null?w=w.withResumeToken(vn.EMPTY_BYTE_STRING,Lt.min()).withLastLimboFreeSnapshotVersion(Lt.min()):y.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(y.resumeToken,r)),o=o.insert(_,w),function(L,j,U){return L.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=b4?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(b,w,y)&&d.push(i.Ti.updateTargetData(u,w))});let m=ws(),g=Qt();if(t.documentUpdates.forEach(y=>{t.resolvedLimboDocuments.has(y)&&d.push(i.persistence.referenceDelegate.updateLimboDocument(u,y))}),d.push(w4(u,c,t.documentUpdates).next(y=>{m=y.qs,g=y.Qs})),!r.isEqual(Lt.min())){const y=i.Ti.getLastRemoteSnapshotVersion(u).next(_=>i.Ti.setTargetsMetadata(u,u.currentSequenceNumber,r));d.push(y)}return it.waitFor(d).next(()=>c.apply(u)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,m,g)).next(()=>m)}).then(u=>(i.xs=o,u))}function w4(e,t,i){let r=Qt(),o=Qt();return i.forEach(u=>r=r.add(u)),t.getEntries(e,r).next(u=>{let c=ws();return i.forEach((d,m)=>{const g=u.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),m.isNoDocument()&&m.version.isEqual(Lt.min())?(t.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(m),c=c.insert(d,m)):gt(sg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)}),{qs:c,Qs:o}})}function R4(e,t){const i=jt(e);return i.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=Yp),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function C4(e,t){const i=jt(e);return i.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return i.Ti.getTargetData(r,t).next(u=>u?(o=u,it.resolve(o)):i.Ti.allocateTargetId(r).next(c=>(o=new nr(t,c,"TargetPurposeListen",r.currentSequenceNumber),i.Ti.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=i.xs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.xs=i.xs.insert(r.targetId,r),i.Os.set(t,r.targetId)),r})}async function lp(e,t,i){const r=jt(e),o=r.xs.get(t),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,c=>r.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!Do(c))throw c;gt(sg,`Failed to update sequence numbers for target ${t}: ${c}`)}r.xs=r.xs.remove(t),r.Os.delete(o.target)}function vT(e,t,i){const r=jt(e);let o=Lt.min(),u=Qt();return r.persistence.runTransaction("Execute query","readwrite",c=>function(m,g,y){const _=jt(m),b=_.Os.get(y);return b!==void 0?it.resolve(_.xs.get(b)):_.Ti.getTargetData(g,y)}(r,c,Bi(t)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(c,d.targetId).next(m=>{u=m})}).next(()=>r.Ms.getDocumentsMatchingQuery(c,t,i?o:Lt.min(),i?u:Qt())).next(d=>(D4(r,mD(t),d),{documents:d,$s:u})))}function D4(e,t,i){let r=e.Ns.get(t)||Lt.min();i.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),e.Ns.set(t,r)}class _T{constructor(){this.activeTargetIds=TD()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class V4{constructor(){this.xo=new _T,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,i,r){this.Oo[t]=i}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new _T,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="ConnectivityMonitor";class bT{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){gt(TT,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){gt(TT,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eh=null;function up(){return eh===null?eh=function(){return 268435456+Math.round(2147483648*Math.random())}():eh++,"0x"+eh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="RestConnection",N4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class I4{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=i+"://"+t.host,this.Wo=`projects/${r}/databases/${o}`,this.Go=this.databaseId.database===Dh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}zo(t,i,r,o,u){const c=up(),d=this.jo(t,i.toUriEncodedString());gt(Cm,`Sending RPC '${t}' ${c}:`,d,r);const m={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(m,o,u);const{host:g}=new URL(d),y=Fp(g);return this.Jo(t,d,m,r,y).then(_=>(gt(Cm,`Received RPC '${t}' ${c}: `,_),_),_=>{throw mo(Cm,`RPC '${t}' ${c} failed with error: `,_,"url: ",d,"request:",r),_})}Yo(t,i,r,o,u,c){return this.zo(t,i,r,o,u)}Ho(t,i,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ro}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,u)=>t[u]=o),r&&r.headers.forEach((o,u)=>t[u]=o)}jo(t,i){const r=N4[t];return`${this.Ko}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn="WebChannelConnection";class P4 extends I4{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,o,u){const c=up();return new Promise((d,m)=>{const g=new M1;g.setWithCredentials(!0),g.listenOnce(N1.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case hh.NO_ERROR:const _=g.getResponseJson();gt(Sn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(_)),d(_);break;case hh.TIMEOUT:gt(Sn,`RPC '${t}' ${c} timed out`),m(new xt(ot.DEADLINE_EXCEEDED,"Request time out"));break;case hh.HTTP_ERROR:const b=g.getStatus();if(gt(Sn,`RPC '${t}' ${c} failed with status:`,b,"response text:",g.getResponseText()),b>0){let w=g.getResponseJson();Array.isArray(w)&&(w=w[0]);const C=w==null?void 0:w.error;if(C&&C.status&&C.message){const L=function(U){const K=U.toLowerCase().replace(/_/g,"-");return Object.values(ot).indexOf(K)>=0?K:ot.UNKNOWN}(C.status);m(new xt(L,C.message))}else m(new xt(ot.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new xt(ot.UNAVAILABLE,"Connection failed."));break;default:Nt(9055,{h_:t,streamId:c,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{gt(Sn,`RPC '${t}' ${c} completed.`)}});const y=JSON.stringify(o);gt(Sn,`RPC '${t}' ${c} sending request:`,o),g.send(i,"POST",y,r,15)})}I_(t,i,r){const o=up(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=P1(),d=O1(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Ho(m.initMessageHeaders,i,r),m.encodeInitMessageHeaders=!0;const y=u.join("");gt(Sn,`Creating RPC '${t}' stream ${o}: ${y}`,m);const _=c.createWebChannel(y,m);this.E_(_);let b=!1,w=!1;const C=new O4({Zo:j=>{w?gt(Sn,`Not sending because RPC '${t}' stream ${o} is closed:`,j):(b||(gt(Sn,`Opening RPC '${t}' stream ${o} transport.`),_.open(),b=!0),gt(Sn,`RPC '${t}' stream ${o} sending:`,j),_.send(j))},Xo:()=>_.close()}),L=(j,U,K)=>{j.listen(U,Q=>{try{K(Q)}catch(lt){setTimeout(()=>{throw lt},0)}})};return L(_,Ul.EventType.OPEN,()=>{w||(gt(Sn,`RPC '${t}' stream ${o} transport opened.`),C.__())}),L(_,Ul.EventType.CLOSE,()=>{w||(w=!0,gt(Sn,`RPC '${t}' stream ${o} transport closed`),C.u_(),this.d_(_))}),L(_,Ul.EventType.ERROR,j=>{w||(w=!0,mo(Sn,`RPC '${t}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),C.u_(new xt(ot.UNAVAILABLE,"The operation could not be completed")))}),L(_,Ul.EventType.MESSAGE,j=>{var U;if(!w){const K=j.data[0];ce(!!K,16349);const Q=K,lt=(Q==null?void 0:Q.error)||((U=Q[0])===null||U===void 0?void 0:U.error);if(lt){gt(Sn,`RPC '${t}' stream ${o} received error:`,lt);const q=lt.status;let st=function(D){const O=Qe[D];if(O!==void 0)return pE(O)}(q),V=lt.message;st===void 0&&(st=ot.INTERNAL,V="Unknown error status: "+q+" with message "+lt.message),w=!0,C.u_(new xt(st,V)),_.close()}else gt(Sn,`RPC '${t}' stream ${o} received:`,K),C.c_(K)}}),L(d,I1.STAT_EVENT,j=>{j.stat===Zm.PROXY?gt(Sn,`RPC '${t}' stream ${o} detected buffering proxy`):j.stat===Zm.NOPROXY&&gt(Sn,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{C.a_()},0),C}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(i=>i===t)}}function Dm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(e){return new BD(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(t,i,r=1e3,o=1.5,u=6e4){this.xi=t,this.timerId=i,this.A_=r,this.R_=o,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const i=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),o=Math.max(0,i-r);o>0&&gt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="PersistentStream";class VE{constructor(t,i,r,o,u,c,d,m){this.xi=t,this.S_=r,this.D_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new DE(t,i)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,i){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():i&&i.code===ot.RESOURCE_EXHAUSTED?(xs(i.toString()),xs("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):i&&i.code===ot.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(i)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),i=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.v_===i&&this.z_(r,o)},r=>{t(()=>{const o=new xt(ot.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(o)})})}z_(t,i){const r=this.G_(this.v_);this.stream=this.H_(t,i),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{r(()=>this.j_(o))}),this.stream.onMessage(o=>{r(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return gt(ET,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return i=>{this.xi.enqueueAndForget(()=>this.v_===t?i():(gt(ET,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class k4 extends VE{constructor(t,i,r,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,c),this.serializer=u}H_(t,i){return this.connection.I_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const i=HD(this.serializer,t),r=function(u){if(!("targetChange"in u))return Lt.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Lt.min():c.readTime?zi(c.readTime):Lt.min()}(t);return this.listener.Y_(i,r)}Z_(t){const i={};i.database=op(this.serializer),i.addTarget=function(u,c){let d;const m=c.target;if(d=np(m)?{documents:GD(u,m)}:{query:YD(u,m).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=vE(u,c.resumeToken);const g=sp(u,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Lt.min())>0){d.readTime=Oh(u,c.snapshotVersion.toTimestamp());const g=sp(u,c.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,t);const r=QD(this.serializer,t);r&&(i.labels=r),this.Q_(i)}X_(t){const i={};i.database=op(this.serializer),i.removeTarget=t,this.Q_(i)}}class L4 extends VE{constructor(t,i,r,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,c),this.serializer=u}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,i){return this.connection.I_("Write",t,i)}J_(t){return ce(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ce(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){ce(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const i=qD(t.writeResults,t.commitTime),r=zi(t.commitTime);return this.listener.ra(r,i)}ia(){const t={};t.database=op(this.serializer),this.Q_(t)}ta(t){const i={streamToken:this.lastStreamToken,writes:t.map(r=>FD(this.serializer,r))};this.Q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{}class B4 extends j4{constructor(t,i,r,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new xt(ot.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,i,r,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.connection.zo(t,rp(i,r),o,u,c)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new xt(ot.UNKNOWN,u.toString())})}Yo(t,i,r,o,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Yo(t,rp(i,r),o,c,d,u)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new xt(ot.UNKNOWN,c.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class U4{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(xs(i),this.ua=!1):gt("OnlineStateTracker",i)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="RemoteStore";class z4{constructor(t,i,r,o,u){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(c=>{r.enqueueAndForget(async()=>{ha(this)&&(gt(la,"Restarting streams for network reachability change."),await async function(m){const g=jt(m);g.da.add(4),await Au(g),g.Va.set("Unknown"),g.da.delete(4),await af(g)}(this))})}),this.Va=new U4(r,o)}}async function af(e){if(ha(e))for(const t of e.Aa)await t(!0)}async function Au(e){for(const t of e.Aa)await t(!1)}function ME(e,t){const i=jt(e);i.Ea.has(t.targetId)||(i.Ea.set(t.targetId,t),lg(i)?og(i):Vo(i).N_()&&ag(i,t))}function rg(e,t){const i=jt(e),r=Vo(i);i.Ea.delete(t),r.N_()&&NE(i,t),i.Ea.size===0&&(r.N_()?r.k_():ha(i)&&i.Va.set("Unknown"))}function ag(e,t){if(e.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Lt.min())>0){const i=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Vo(e).Z_(t)}function NE(e,t){e.ma.Ke(t),Vo(e).X_(t)}function og(e){e.ma=new PD({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Ea.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),Vo(e).start(),e.Va.ca()}function lg(e){return ha(e)&&!Vo(e).O_()&&e.Ea.size>0}function ha(e){return jt(e).da.size===0}function IE(e){e.ma=void 0}async function H4(e){e.Va.set("Online")}async function F4(e){e.Ea.forEach((t,i)=>{ag(e,t)})}async function q4(e,t){IE(e),lg(e)?(e.Va.Pa(t),og(e)):e.Va.set("Unknown")}async function G4(e,t,i){if(e.Va.set("Online"),t instanceof yE&&t.state===2&&t.cause)try{await async function(o,u){const c=u.cause;for(const d of u.targetIds)o.Ea.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ea.delete(d),o.ma.removeTarget(d))}(e,t)}catch(r){gt(la,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await kh(e,r)}else if(t instanceof ph?e.ma.Xe(t):t instanceof gE?e.ma.ot(t):e.ma.nt(t),!i.isEqual(Lt.min()))try{const r=await CE(e.localStore);i.compareTo(r)>=0&&await function(u,c){const d=u.ma.It(c);return d.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const y=u.Ea.get(g);y&&u.Ea.set(g,y.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,g)=>{const y=u.Ea.get(m);if(!y)return;u.Ea.set(m,y.withResumeToken(vn.EMPTY_BYTE_STRING,y.snapshotVersion)),NE(u,m);const _=new nr(y.target,m,g,y.sequenceNumber);ag(u,_)}),u.remoteSyncer.applyRemoteEvent(d)}(e,i)}catch(r){gt(la,"Failed to raise snapshot:",r),await kh(e,r)}}async function kh(e,t,i){if(!Do(t))throw t;e.da.add(1),await Au(e),e.Va.set("Offline"),i||(i=()=>CE(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{gt(la,"Retrying IndexedDB access"),await i(),e.da.delete(1),await af(e)})}function OE(e,t){return t().catch(i=>kh(e,i,t))}async function of(e){const t=jt(e),i=mr(t);let r=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:Yp;for(;Y4(t);)try{const o=await R4(t.localStore,r);if(o===null){t.Ia.length===0&&i.k_();break}r=o.batchId,K4(t,o)}catch(o){await kh(t,o)}PE(t)&&kE(t)}function Y4(e){return ha(e)&&e.Ia.length<10}function K4(e,t){e.Ia.push(t);const i=mr(e);i.N_()&&i.ea&&i.ta(t.mutations)}function PE(e){return ha(e)&&!mr(e).O_()&&e.Ia.length>0}function kE(e){mr(e).start()}async function Q4(e){mr(e).ia()}async function X4(e){const t=mr(e);for(const i of e.Ia)t.ta(i.mutations)}async function $4(e,t,i){const r=e.Ia.shift(),o=Wp.from(r,t,i);await OE(e,()=>e.remoteSyncer.applySuccessfulWrite(o)),await of(e)}async function Z4(e,t){t&&mr(e).ea&&await async function(r,o){if(function(c){return ID(c)&&c!==ot.ABORTED}(o.code)){const u=r.Ia.shift();mr(r).L_(),await OE(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o)),await of(r)}}(e,t),PE(e)&&kE(e)}async function ST(e,t){const i=jt(e);i.asyncQueue.verifyOperationInProgress(),gt(la,"RemoteStore received new credentials");const r=ha(i);i.da.add(3),await Au(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.da.delete(3),await af(i)}async function W4(e,t){const i=jt(e);t?(i.da.delete(2),await af(i)):t||(i.da.add(2),await Au(i),i.Va.set("Unknown"))}function Vo(e){return e.fa||(e.fa=function(i,r,o){const u=jt(i);return u.oa(),new k4(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(e.datastore,e.asyncQueue,{e_:H4.bind(null,e),n_:F4.bind(null,e),i_:q4.bind(null,e),Y_:G4.bind(null,e)}),e.Aa.push(async t=>{t?(e.fa.L_(),lg(e)?og(e):e.Va.set("Unknown")):(await e.fa.stop(),IE(e))})),e.fa}function mr(e){return e.ga||(e.ga=function(i,r,o){const u=jt(i);return u.oa(),new L4(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(e.datastore,e.asyncQueue,{e_:()=>Promise.resolve(),n_:Q4.bind(null,e),i_:Z4.bind(null,e),na:X4.bind(null,e),ra:$4.bind(null,e)}),e.Aa.push(async t=>{t?(e.ga.L_(),await of(e)):(await e.ga.stop(),e.Ia.length>0&&(gt(la,`Stopping write stream with ${e.Ia.length} pending writes`),e.Ia=[]))})),e.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(t,i,r,o,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,o,u){const c=Date.now()+r,d=new ug(t,i,c,o,u);return d.start(r),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xt(ot.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cg(e,t){if(xs("AsyncQueue",`${t}: ${e}`),Do(e))return new xt(ot.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{static emptySet(t){return new ho(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||Vt.comparator(i.key,r.key):(i,r)=>Vt.comparator(i.key,r.key),this.keyedMap=zl(),this.sortedSet=new Me(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,r)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof ho)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new ho;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(){this.pa=new Me(Vt.comparator)}track(t){const i=t.doc.key,r=this.pa.get(i);r?t.type!==0&&r.type===3?this.pa=this.pa.insert(i,t):t.type===3&&r.type!==1?this.pa=this.pa.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.pa=this.pa.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.pa=this.pa.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.pa=this.pa.remove(i):t.type===1&&r.type===2?this.pa=this.pa.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.pa=this.pa.insert(i,{type:2,doc:t.doc}):Nt(63341,{Vt:t,ya:r}):this.pa=this.pa.insert(i,t)}wa(){const t=[];return this.pa.inorderTraversal((i,r)=>{t.push(r)}),t}}class _o{constructor(t,i,r,o,u,c,d,m,g){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(t,i,r,o,u){const c=[];return i.forEach(d=>{c.push({type:0,doc:d})}),new _o(t,i,ho.emptySet(i),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Jh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class tV{constructor(){this.queries=xT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=jt(i),u=o.queries;o.queries=xT(),u.forEach((c,d)=>{for(const m of d.Sa)m.onError(r)})})(this,new xt(ot.ABORTED,"Firestore shutting down"))}}function xT(){return new ca(e=>nE(e),Jh)}async function LE(e,t){const i=jt(e);let r=3;const o=t.query;let u=i.queries.get(o);u?!u.Da()&&t.va()&&(r=2):(u=new J4,r=t.va()?0:1);try{switch(r){case 0:u.ba=await i.onListen(o,!0);break;case 1:u.ba=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(c){const d=cg(c,`Initialization of query '${no(t.query)}' failed`);return void t.onError(d)}i.queries.set(o,u),u.Sa.push(t),t.Fa(i.onlineState),u.ba&&t.Ma(u.ba)&&hg(i)}async function jE(e,t){const i=jt(e),r=t.query;let o=3;const u=i.queries.get(r);if(u){const c=u.Sa.indexOf(t);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=t.va()?0:1:!u.Da()&&t.va()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function eV(e,t){const i=jt(e);let r=!1;for(const o of t){const u=o.query,c=i.queries.get(u);if(c){for(const d of c.Sa)d.Ma(o)&&(r=!0);c.ba=o}}r&&hg(i)}function nV(e,t,i){const r=jt(e),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(i);r.queries.delete(t)}function hg(e){e.Ca.forEach(t=>{t.next()})}var cp,wT;(wT=cp||(cp={})).xa="default",wT.Cache="cache";class BE{constructor(t,i,r){this.query=t,this.Oa=i,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new _o(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Na?this.La(t)&&(this.Oa.next(t),i=!0):this.ka(t,this.onlineState)&&(this.qa(t),i=!0),this.Ba=t,i}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let i=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),i=!0),i}ka(t,i){if(!t.fromCache||!this.va())return!0;const r=i!=="Offline";return(!this.options.Qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}La(t){if(t.docChanges.length>0)return!0;const i=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}qa(t){t=_o.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==cp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(t){this.key=t}}class zE{constructor(t){this.key=t}}class iV{constructor(t,i){this.query=t,this.Ha=i,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Qt(),this.mutatedKeys=Qt(),this.Za=iE(t),this.Xa=new ho(this.Za)}get eu(){return this.Ha}tu(t,i){const r=i?i.nu:new AT,o=i?i.Xa:this.Xa;let u=i?i.mutatedKeys:this.mutatedKeys,c=o,d=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((y,_)=>{const b=o.get(y),w=tf(this.query,_)?_:null,C=!!b&&this.mutatedKeys.has(b.key),L=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let j=!1;b&&w?b.data.isEqual(w.data)?C!==L&&(r.track({type:3,doc:w}),j=!0):this.ru(b,w)||(r.track({type:2,doc:w}),j=!0,(m&&this.Za(w,m)>0||g&&this.Za(w,g)<0)&&(d=!0)):!b&&w?(r.track({type:0,doc:w}),j=!0):b&&!w&&(r.track({type:1,doc:b}),j=!0,(m||g)&&(d=!0)),j&&(w?(c=c.add(w),u=L?u.add(y):u.delete(y)):(c=c.delete(y),u=u.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),u=u.delete(y.key),r.track({type:1,doc:y})}return{Xa:c,nu:r,Cs:d,mutatedKeys:u}}ru(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,o){const u=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const c=t.nu.wa();c.sort((y,_)=>function(w,C){const L=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nt(20277,{Vt:j})}};return L(w)-L(C)}(y.type,_.type)||this.Za(y.doc,_.doc)),this.iu(r),o=o!=null&&o;const d=i&&!o?this.su():[],m=this.Ya.size===0&&this.current&&!o?1:0,g=m!==this.Ja;return this.Ja=m,c.length!==0||g?{snapshot:new _o(this.query,t.Xa,u,c,t.mutatedKeys,m===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:d}:{ou:d}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new AT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(i=>this.Ha=this.Ha.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.Ha=this.Ha.delete(i)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=Qt(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const i=[];return t.forEach(r=>{this.Ya.has(r)||i.push(new zE(r))}),this.Ya.forEach(r=>{t.has(r)||i.push(new UE(r))}),i}au(t){this.Ha=t.$s,this.Ya=Qt();const i=this.tu(t.documents);return this.applyChanges(i,!0)}uu(){return _o.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const fg="SyncEngine";class sV{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class rV{constructor(t){this.key=t,this.cu=!1}}class aV{constructor(t,i,r,o,u,c){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.lu={},this.hu=new ca(d=>nE(d),Jh),this.Pu=new Map,this.Tu=new Set,this.Iu=new Me(Vt.comparator),this.Eu=new Map,this.du=new eg,this.Au={},this.Ru=new Map,this.Vu=vo.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function oV(e,t,i=!0){const r=KE(e);let o;const u=r.hu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.uu()):o=await HE(r,t,i,!0),o}async function lV(e,t){const i=KE(e);await HE(i,t,!0,!1)}async function HE(e,t,i,r){const o=await C4(e.localStore,Bi(t)),u=o.targetId,c=e.sharedClientState.addLocalQueryTarget(u,i);let d;return r&&(d=await uV(e,t,u,c==="current",o.resumeToken)),e.isPrimaryClient&&i&&ME(e.remoteStore,o),d}async function uV(e,t,i,r,o){e.fu=(_,b,w)=>async function(L,j,U,K){let Q=j.view.tu(U);Q.Cs&&(Q=await vT(L.localStore,j.query,!1).then(({documents:V})=>j.view.tu(V,Q)));const lt=K&&K.targetChanges.get(j.targetId),q=K&&K.targetMismatches.get(j.targetId)!=null,st=j.view.applyChanges(Q,L.isPrimaryClient,lt,q);return CT(L,j.targetId,st.ou),st.snapshot}(e,_,b,w);const u=await vT(e.localStore,t,!0),c=new iV(t,u.$s),d=c.tu(u.documents),m=Su.createSynthesizedTargetChangeForCurrentChange(i,r&&e.onlineState!=="Offline",o),g=c.applyChanges(d,e.isPrimaryClient,m);CT(e,i,g.ou);const y=new sV(t,i,c);return e.hu.set(t,y),e.Pu.has(i)?e.Pu.get(i).push(t):e.Pu.set(i,[t]),g.snapshot}async function cV(e,t,i){const r=jt(e),o=r.hu.get(t),u=r.Pu.get(o.targetId);if(u.length>1)return r.Pu.set(o.targetId,u.filter(c=>!Jh(c,t))),void r.hu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await lp(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),i&&rg(r.remoteStore,o.targetId),hp(r,o.targetId)}).catch(Co)):(hp(r,o.targetId),await lp(r.localStore,o.targetId,!0))}async function hV(e,t){const i=jt(e),r=i.hu.get(t),o=i.Pu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),rg(i.remoteStore,r.targetId))}async function fV(e,t,i){const r=_V(e);try{const o=await function(c,d){const m=jt(c),g=en.now(),y=d.reduce((w,C)=>w.add(C.key),Qt());let _,b;return m.persistence.runTransaction("Locally write mutations","readwrite",w=>{let C=ws(),L=Qt();return m.Bs.getEntries(w,y).next(j=>{C=j,C.forEach((U,K)=>{K.isValidDocument()||(L=L.add(U))})}).next(()=>m.localDocuments.getOverlayedDocuments(w,C)).next(j=>{_=j;const U=[];for(const K of d){const Q=CD(K,_.get(K.key).overlayedDocument);Q!=null&&U.push(new _r(K.key,Q,X1(Q.value.mapValue),Ui.exists(!0)))}return m.mutationQueue.addMutationBatch(w,g,U,d)}).next(j=>{b=j;const U=j.applyToLocalDocumentSet(_,L);return m.documentOverlayCache.saveOverlays(w,j.batchId,U)})}).then(()=>({batchId:b.batchId,changes:rE(_)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),function(c,d,m){let g=c.Au[c.currentUser.toKey()];g||(g=new Me(Ft)),g=g.insert(d,m),c.Au[c.currentUser.toKey()]=g}(r,o.batchId,i),await xu(r,o.changes),await of(r.remoteStore)}catch(o){const u=cg(o,"Failed to persist write");i.reject(u)}}async function FE(e,t){const i=jt(e);try{const r=await x4(i.localStore,t);t.targetChanges.forEach((o,u)=>{const c=i.Eu.get(u);c&&(ce(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.cu=!0:o.modifiedDocuments.size>0?ce(c.cu,14607):o.removedDocuments.size>0&&(ce(c.cu,42227),c.cu=!1))}),await xu(i,r,t)}catch(r){await Co(r)}}function RT(e,t,i){const r=jt(e);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.hu.forEach((u,c)=>{const d=c.view.Fa(t);d.snapshot&&o.push(d.snapshot)}),function(c,d){const m=jt(c);m.onlineState=d;let g=!1;m.queries.forEach((y,_)=>{for(const b of _.Sa)b.Fa(d)&&(g=!0)}),g&&hg(m)}(r.eventManager,t),o.length&&r.lu.Y_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function dV(e,t,i){const r=jt(e);r.sharedClientState.updateQueryState(t,"rejected",i);const o=r.Eu.get(t),u=o&&o.key;if(u){let c=new Me(Vt.comparator);c=c.insert(u,wn.newNoDocument(u,Lt.min()));const d=Qt().add(u),m=new sf(Lt.min(),new Map,new Me(Ft),c,d);await FE(r,m),r.Iu=r.Iu.remove(u),r.Eu.delete(t),dg(r)}else await lp(r.localStore,t,!1).then(()=>hp(r,t,i)).catch(Co)}async function mV(e,t){const i=jt(e),r=t.batch.batchId;try{const o=await A4(i.localStore,t);GE(i,r,null),qE(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await xu(i,o)}catch(o){await Co(o)}}async function pV(e,t,i){const r=jt(e);try{const o=await function(c,d){const m=jt(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let y;return m.mutationQueue.lookupMutationBatch(g,d).next(_=>(ce(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(g,_))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,y,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y)).next(()=>m.localDocuments.getDocuments(g,y))})}(r.localStore,t);GE(r,t,i),qE(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await xu(r,o)}catch(o){await Co(o)}}function qE(e,t){(e.Ru.get(t)||[]).forEach(i=>{i.resolve()}),e.Ru.delete(t)}function GE(e,t,i){const r=jt(e);let o=r.Au[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(i?u.reject(i):u.resolve(),o=o.remove(t)),r.Au[r.currentUser.toKey()]=o}}function hp(e,t,i=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Pu.get(t))e.hu.delete(r),i&&e.lu.gu(r,i);e.Pu.delete(t),e.isPrimaryClient&&e.du.Hr(t).forEach(r=>{e.du.containsKey(r)||YE(e,r)})}function YE(e,t){e.Tu.delete(t.path.canonicalString());const i=e.Iu.get(t);i!==null&&(rg(e.remoteStore,i),e.Iu=e.Iu.remove(t),e.Eu.delete(i),dg(e))}function CT(e,t,i){for(const r of i)r instanceof UE?(e.du.addReference(r.key,t),gV(e,r)):r instanceof zE?(gt(fg,"Document no longer in limbo: "+r.key),e.du.removeReference(r.key,t),e.du.containsKey(r.key)||YE(e,r.key)):Nt(19791,{pu:r})}function gV(e,t){const i=t.key,r=i.path.canonicalString();e.Iu.get(i)||e.Tu.has(r)||(gt(fg,"New document in limbo: "+i),e.Tu.add(r),dg(e))}function dg(e){for(;e.Tu.size>0&&e.Iu.size<e.maxConcurrentLimboResolutions;){const t=e.Tu.values().next().value;e.Tu.delete(t);const i=new Vt(Pe.fromString(t)),r=e.Vu.next();e.Eu.set(r,new rV(i)),e.Iu=e.Iu.insert(i,r),ME(e.remoteStore,new nr(Bi(Wh(i.path)),r,"TargetPurposeLimboResolution",Qh.le))}}async function xu(e,t,i){const r=jt(e),o=[],u=[],c=[];r.hu.isEmpty()||(r.hu.forEach((d,m)=>{c.push(r.fu(m,t,i).then(g=>{var y;if((g||i)&&r.isPrimaryClient){const _=g?!g.fromCache:(y=i==null?void 0:i.targetChanges.get(m.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(g){o.push(g);const _=ig.Rs(m.targetId,g);u.push(_)}}))}),await Promise.all(c),r.lu.Y_(o),await async function(m,g){const y=jt(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>it.forEach(g,b=>it.forEach(b.ds,w=>y.persistence.referenceDelegate.addReference(_,b.targetId,w)).next(()=>it.forEach(b.As,w=>y.persistence.referenceDelegate.removeReference(_,b.targetId,w)))))}catch(_){if(!Do(_))throw _;gt(sg,"Failed to update sequence numbers: "+_)}for(const _ of g){const b=_.targetId;if(!_.fromCache){const w=y.xs.get(b),C=w.snapshotVersion,L=w.withLastLimboFreeSnapshotVersion(C);y.xs=y.xs.insert(b,L)}}}(r.localStore,u))}async function yV(e,t){const i=jt(e);if(!i.currentUser.isEqual(t)){gt(fg,"User change. New user:",t.toKey());const r=await RE(i.localStore,t);i.currentUser=t,function(u,c){u.Ru.forEach(d=>{d.forEach(m=>{m.reject(new xt(ot.CANCELLED,c))})}),u.Ru.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await xu(i,r.ks)}}function vV(e,t){const i=jt(e),r=i.Eu.get(t);if(r&&r.cu)return Qt().add(r.key);{let o=Qt();const u=i.Pu.get(t);if(!u)return o;for(const c of u){const d=i.hu.get(c);o=o.unionWith(d.view.eu)}return o}}function KE(e){const t=jt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=FE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=vV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=dV.bind(null,t),t.lu.Y_=eV.bind(null,t.eventManager),t.lu.gu=nV.bind(null,t.eventManager),t}function _V(e){const t=jt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=mV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=pV.bind(null,t),t}class Lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=rf(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,i){return null}Cu(t,i){return null}Du(t){return S4(this.persistence,new T4,t.initialUser,this.serializer)}Su(t){return new wE(ng.fi,this.serializer)}bu(t){return new V4}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lh.provider={build:()=>new Lh};class TV extends Lh{constructor(t){super(),this.cacheSizeBytes=t}vu(t,i){ce(this.persistence.referenceDelegate instanceof Ph,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new r4(r,t.asyncQueue,i)}Su(t){const i=this.cacheSizeBytes!==void 0?Ln.withCacheSize(this.cacheSizeBytes):Ln.DEFAULT;return new wE(r=>Ph.fi(r,i),this.serializer)}}class fp{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>RT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=yV.bind(null,this.syncEngine),await W4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new tV}()}createDatastore(t){const i=rf(t.databaseInfo.databaseId),r=function(u){return new P4(u)}(t.databaseInfo);return function(u,c,d,m){return new B4(u,c,d,m)}(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return function(r,o,u,c,d){return new z4(r,o,u,c,d)}(this.localStore,this.datastore,t.asyncQueue,i=>RT(this.syncEngine,i,0),function(){return bT.C()?new bT:new M4}())}createSyncEngine(t,i){return function(o,u,c,d,m,g,y){const _=new aV(o,u,c,d,m,g);return y&&(_.mu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(o){const u=jt(o);gt(la,"RemoteStore shutting down."),u.da.add(5),await Au(u),u.Ra.shutdown(),u.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}fp.provider={build:()=>new fp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):xs("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr="FirestoreClient";class bV{constructor(t,i,r,o,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=xn.UNAUTHENTICATED,this.clientId=B1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,async c=>{gt(pr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(gt(pr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=cg(i,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Vm(e,t){e.asyncQueue.verifyOperationInProgress(),gt(pr,"Initializing OfflineComponentProvider");const i=e.configuration;await t.initialize(i);let r=i.initialUser;e.setCredentialChangeListener(async o=>{r.isEqual(o)||(await RE(t.localStore,o),r=o)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function DT(e,t){e.asyncQueue.verifyOperationInProgress();const i=await EV(e);gt(pr,"Initializing OnlineComponentProvider"),await t.initialize(i,e.configuration),e.setCredentialChangeListener(r=>ST(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,o)=>ST(t.remoteStore,o)),e._onlineComponents=t}async function EV(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){gt(pr,"Using user provided OfflineComponentProvider");try{await Vm(e,e._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(o){return o.name==="FirebaseError"?o.code===ot.FAILED_PRECONDITION||o.code===ot.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;mo("Error using user provided cache. Falling back to memory cache: "+i),await Vm(e,new Lh)}}else gt(pr,"Using default OfflineComponentProvider"),await Vm(e,new TV(void 0));return e._offlineComponents}async function XE(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(gt(pr,"Using user provided OnlineComponentProvider"),await DT(e,e._uninitializedComponentsProvider._online)):(gt(pr,"Using default OnlineComponentProvider"),await DT(e,new fp))),e._onlineComponents}function SV(e){return XE(e).then(t=>t.syncEngine)}async function dp(e){const t=await XE(e),i=t.eventManager;return i.onListen=oV.bind(null,t.syncEngine),i.onUnlisten=cV.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=lV.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=hV.bind(null,t.syncEngine),i}function AV(e,t,i={}){const r=new lr;return e.asyncQueue.enqueueAndForget(async()=>function(u,c,d,m,g){const y=new QE({next:b=>{y.xu(),c.enqueueAndForget(()=>jE(u,_));const w=b.docs.has(d);!w&&b.fromCache?g.reject(new xt(ot.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&b.fromCache&&m&&m.source==="server"?g.reject(new xt(ot.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),_=new BE(Wh(d.path),y,{includeMetadataChanges:!0,Qa:!0});return LE(u,_)}(await dp(e),e.asyncQueue,t,i,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(e,t,i){if(!i)throw new xt(ot.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function wV(e,t,i,r){if(t===!0&&r===!0)throw new xt(ot.INVALID_ARGUMENT,`${e} and ${i} cannot be used together.`)}function MT(e){if(!Vt.isDocumentKey(e))throw new xt(ot.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function mg(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Nt(12329,{type:typeof e})}function Hi(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new xt(ot.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=mg(e);throw new xt(ot.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="firestore.googleapis.com",NT=!0;class IT{constructor(t){var i,r;if(t.host===void 0){if(t.ssl!==void 0)throw new xt(ot.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZE,this.ssl=NT}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:NT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=xE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<i4)throw new xt(ot.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}wV("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$E((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new xt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new xt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new xt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class pg{constructor(t,i,r,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new IT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xt(ot.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new xt(ot.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new IT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new NC;switch(r.type){case"firstParty":return new kC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xt(ot.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const r=VT.get(i);r&&(gt("ComponentProvider","Removing Datastore"),VT.delete(i),r.terminate())}(this),Promise.resolve()}}function RV(e,t,i,r={}){var o;e=Hi(e,pg);const u=Fp(t),c=e._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:e._getEmulatorOptions()}),m=`${t}:${i}`;u&&(oR(`https://${m}`),hR("Firestore",!0)),c.host!==ZE&&c.host!==m&&mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},c),{host:m,ssl:u,emulatorOptions:r});if(!xh(g,d)&&(e._setSettings(g),r.mockUserToken)){let y,_;if(typeof r.mockUserToken=="string")y=r.mockUserToken,_=xn.MOCK_USER;else{y=lR(r.mockUserToken,(o=e._app)===null||o===void 0?void 0:o.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new xt(ot.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new xn(b)}e._authCredentials=new IC(new L1(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new lf(this.firestore,t,this._query)}}class Un{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Un(this.firestore,t,this._key)}}class hu extends lf{constructor(t,i,r){super(t,i,Wh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Un(this.firestore,null,new Vt(t))}withConverter(t){return new hu(this.firestore,t,this._path)}}function gh(e,t,...i){if(e=ur(e),arguments.length===1&&(t=B1.newId()),xV("doc","path",t),e instanceof pg){const r=Pe.fromString(t,...i);return MT(r),new Un(e,null,new Vt(r))}{if(!(e instanceof Un||e instanceof hu))throw new xt(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Pe.fromString(t,...i));return MT(r),new Un(e.firestore,e instanceof hu?e.converter:null,new Vt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="AsyncQueue";class PT{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new DE(this,"async_queue_retry"),this.rc=()=>{const r=Dm();r&&gt(OT,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=t;const i=Dm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const i=Dm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const i=new lr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!Do(t))throw t;gt(OT,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const i=this.sc.then(()=>(this.ec=!0,t().catch(r=>{throw this.Xu=r,this.ec=!1,xs("INTERNAL UNHANDLED ERROR: ",kT(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=i,i}enqueueAfterDelay(t,i,r){this.oc(),this.nc.indexOf(t)>-1&&(i=0);const o=ug.createAndSchedule(this,t,i,r,u=>this.uc(u));return this.Zu.push(o),o}oc(){this.Xu&&Nt(47125,{cc:kT(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const i of this.Zu)if(i.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((i,r)=>i.targetTimeMs-r.targetTimeMs);for(const i of this.Zu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const i=this.Zu.indexOf(t);this.Zu.splice(i,1)}}function kT(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(e){return function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1}(e,["next","error","complete"])}class To extends pg{constructor(t,i,r,o){super(t,i,r,o),this.type="firestore",this._queue=new PT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new PT(t),this._firestoreClient=void 0,await t}}}function CV(e,t){const i=typeof e=="object"?e:bC(),r=typeof e=="string"?e:Dh,o=gC(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=rR("firestore");u&&RV(o,...u)}return o}function gg(e){if(e._terminated)throw new xt(ot.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||DV(e),e._firestoreClient}function DV(e){var t,i,r;const o=e._freezeSettings(),u=function(d,m,g,y){return new ZC(d,m,g,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,$E(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,o);e._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),e._firestoreClient=new bV(e._authCredentials,e._appCheckCredentials,e._queue,u,e._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new bo(vn.fromBase64String(t))}catch(i){throw new xt(ot.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new bo(vn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new xt(ot.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new xt(ot.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new xt(ot.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ft(this._lat,t._lat)||Ft(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV=/^__.*__$/;class MV{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new _r(t,this.data,this.fieldMask,i,this.fieldTransforms):new Eu(t,this.data,i,this.fieldTransforms)}}class WE{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new _r(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function JE(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nt(40011,{Ic:e})}}class _g{constructor(t,i,r,o,u,c){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Ec(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new _g(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.dc({path:r,Rc:!1});return o.Vc(t),o}mc(t){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.dc({path:r,Rc:!1});return o.Ec(),o}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return jh(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(JE(this.Ic)&&VV.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class NV{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||rf(t)}bc(t,i,r,o=!1){return new _g({Ic:t,methodName:i,wc:r,path:yn.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tS(e){const t=e._freezeSettings(),i=rf(e._databaseId);return new NV(e._databaseId,!!t.ignoreUndefinedProperties,i)}function IV(e,t,i,r,o,u={}){const c=e.bc(u.merge||u.mergeFields?2:0,t,i,o);bg("Data must be an object, but it was:",c,r);const d=eS(r,c);let m,g;if(u.merge)m=new $n(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const y=[];for(const _ of u.mergeFields){const b=mp(t,_,i);if(!c.contains(b))throw new xt(ot.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);iS(y,b)||y.push(b)}m=new $n(y),g=c.fieldTransforms.filter(_=>m.covers(_.field))}else m=null,g=c.fieldTransforms;return new MV(new jn(d),m,g)}class hf extends cf{_toFieldTransform(t){if(t.Ic!==2)throw t.Ic===1?t.gc(`${this._methodName}() can only appear at the top level of your update data`):t.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof hf}}class Tg extends cf{_toFieldTransform(t){return new AD(t.path,new lu)}isEqual(t){return t instanceof Tg}}function OV(e,t,i,r){const o=e.bc(1,t,i);bg("Data must be an object, but it was:",o,r);const u=[],c=jn.empty();vr(r,(m,g)=>{const y=Eg(t,m,i);g=ur(g);const _=o.mc(y);if(g instanceof hf)u.push(y);else{const b=ff(g,_);b!=null&&(u.push(y),c.set(y,b))}});const d=new $n(u);return new WE(c,d,o.fieldTransforms)}function PV(e,t,i,r,o,u){const c=e.bc(1,t,i),d=[mp(t,r,i)],m=[o];if(u.length%2!=0)throw new xt(ot.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)d.push(mp(t,u[b])),m.push(u[b+1]);const g=[],y=jn.empty();for(let b=d.length-1;b>=0;--b)if(!iS(g,d[b])){const w=d[b];let C=m[b];C=ur(C);const L=c.mc(w);if(C instanceof hf)g.push(w);else{const j=ff(C,L);j!=null&&(g.push(w),y.set(w,j))}}const _=new $n(g);return new WE(y,_,c.fieldTransforms)}function ff(e,t){if(nS(e=ur(e)))return bg("Unsupported field value:",t,e),eS(e,t);if(e instanceof cf)return function(r,o){if(!JE(o.Ic))throw o.gc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(r,o){const u=[];let c=0;for(const d of r){let m=ff(d,o.fc(c));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),c++}return{arrayValue:{values:u}}}(e,t)}return function(r,o){if((r=ur(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return bD(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=en.fromDate(r);return{timestampValue:Oh(o.serializer,u)}}if(r instanceof en){const u=new en(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Oh(o.serializer,u)}}if(r instanceof yg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof bo)return{bytesValue:vE(o.serializer,r._byteString)};if(r instanceof Un){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.gc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:tg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof vg)return function(c,d){return{mapValue:{fields:{[K1]:{stringValue:Q1},[Vh]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw d.gc("VectorValues must only contain numeric values.");return Zp(d.serializer,g)})}}}}}}(r,o);throw o.gc(`Unsupported field value: ${mg(r)}`)}(e,t)}function eS(e,t){const i={};return z1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):vr(e,(r,o)=>{const u=ff(o,t.Ac(r));u!=null&&(i[r]=u)}),{mapValue:{fields:i}}}function nS(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof en||e instanceof yg||e instanceof bo||e instanceof Un||e instanceof cf||e instanceof vg)}function bg(e,t,i){if(!nS(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const r=mg(i);throw r==="an object"?t.gc(e+" a custom object"):t.gc(e+" "+r)}}function mp(e,t,i){if((t=ur(t))instanceof uf)return t._internalPath;if(typeof t=="string")return Eg(e,t);throw jh("Field path arguments must be of type string or ",e,!1,void 0,i)}const kV=new RegExp("[~\\*/\\[\\]]");function Eg(e,t,i){if(t.search(kV)>=0)throw jh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,i);try{return new uf(...t.split("."))._internalPath}catch{throw jh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,i)}}function jh(e,t,i,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let d=`Function ${t}() called with invalid data`;i&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(u||c)&&(m+=" (found",u&&(m+=` in field ${r}`),c&&(m+=` in document ${o}`),m+=")"),new xt(ot.INVALID_ARGUMENT,d+e+m)}function iS(e,t){return e.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(t,i,r,o,u){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new LV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(rS("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class LV extends sS{data(){return super.data()}}function rS(e,t){return typeof t=="string"?Eg(e,t):t instanceof uf?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jV(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new xt(ot.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class BV{convertValue(t,i="none"){switch(dr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ze(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(fr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Nt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return vr(t,(o,u)=>{r[o]=this.convertValue(u,i)}),r}convertVectorValue(t){var i,r,o;const u=(o=(r=(i=t.fields)===null||i===void 0?void 0:i[Vh].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(c=>ze(c.doubleValue));return new vg(u)}convertGeoPoint(t){return new yg(ze(t.latitude),ze(t.longitude))}convertArray(t,i){return(t.values||[]).map(r=>this.convertValue(r,i))}convertServerTimestamp(t,i){switch(i){case"previous":const r=$h(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(ru(t));default:return null}}convertTimestamp(t){const i=hr(t);return new en(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=Pe.fromString(t);ce(AE(r),9688,{name:t});const o=new au(r.get(1),r.get(3)),u=new Vt(r.popFirst(5));return o.isEqual(i)||xs(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UV(e,t,i){let r;return r=e?e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class aS extends sS{constructor(t,i,r,o,u,c){super(t,i,r,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new yh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(rS("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}}class yh extends aS{data(t={}){return super.data(t)}}class zV{constructor(t,i,r,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new Fl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(r=>{t.call(i,new yh(this._firestore,this._userDataWriter,r.key,r,new Fl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new xt(ot.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(d=>{const m=new yh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Fl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const m=new yh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Fl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,y=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:HV(d.type),doc:m,oldIndex:g,newIndex:y}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function HV(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nt(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FV(e){e=Hi(e,Un);const t=Hi(e.firestore,To);return AV(gg(t),e._key).then(i=>uS(t,e,i))}class oS extends BV{constructor(t){super(),this.firestore=t}convertBytes(t){return new bo(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Un(this.firestore,null,i)}}function qV(e,t,i){e=Hi(e,Un);const r=Hi(e.firestore,To),o=UV(e.converter,t);return lS(r,[IV(tS(r),"setDoc",e._key,o,e.converter!==null,i).toMutation(e._key,Ui.none())])}function jT(e,t,i,...r){e=Hi(e,Un);const o=Hi(e.firestore,To),u=tS(o);let c;return c=typeof(t=ur(t))=="string"||t instanceof uf?PV(u,"updateDoc",e._key,t,i,r):OV(u,"updateDoc",e._key,t),lS(o,[c.toMutation(e._key,Ui.exists(!0))])}function GV(e,...t){var i,r,o;e=ur(e);let u={includeMetadataChanges:!1,source:"default"},c=0;typeof t[c]!="object"||LT(t[c])||(u=t[c],c++);const d={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(LT(t[c])){const _=t[c];t[c]=(i=_.next)===null||i===void 0?void 0:i.bind(_),t[c+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),t[c+2]=(o=_.complete)===null||o===void 0?void 0:o.bind(_)}let m,g,y;if(e instanceof Un)g=Hi(e.firestore,To),y=Wh(e._key.path),m={next:_=>{t[c]&&t[c](uS(g,e,_))},error:t[c+1],complete:t[c+2]};else{const _=Hi(e,lf);g=Hi(_.firestore,To),y=_._query;const b=new oS(g);m={next:w=>{t[c]&&t[c](new zV(g,b,_,w))},error:t[c+1],complete:t[c+2]},jV(e._query)}return function(b,w,C,L){const j=new QE(L),U=new BE(w,j,C);return b.asyncQueue.enqueueAndForget(async()=>LE(await dp(b),U)),()=>{j.xu(),b.asyncQueue.enqueueAndForget(async()=>jE(await dp(b),U))}}(gg(g),y,d,m)}function lS(e,t){return function(r,o){const u=new lr;return r.asyncQueue.enqueueAndForget(async()=>fV(await SV(r),o,u)),u.promise}(gg(e),t)}function uS(e,t,i){const r=i.docs.get(t._key),o=new oS(e);return new aS(e,o,t._key,r,new Fl(i.hasPendingWrites,i.fromCache),t.converter)}function YV(){return new Tg("serverTimestamp")}(function(t,i=!0){(function(o){Ro=o})(TC),Rh(new nu("firestore",(r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),d=new To(new OC(r.getProvider("auth-internal")),new LC(c,r.getProvider("app-check-internal")),function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new xt(ot.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new au(g.options.projectId,y)}(c,o),c);return u=Object.assign({useFetchStreams:i},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),co(H_,F_,t),co(H_,F_,"esm2017")})();var KV="firebase",QV="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */co(KV,QV,"app");const XV={apiKey:"AIzaSyB8D5zB8ZXIeLc9G1qLNZfo7yw7IuTn8og",authDomain:"taskbingosweeper.firebaseapp.com",projectId:"taskbingosweeper",storageBucket:"taskbingosweeper.firebasestorage.app",messagingSenderId:"429678416211",appId:"1:429678416211:web:a0592c896684bf436911a6",measurementId:"G-RFXVY952VR"},$V=R1(XV),vh=CV($V);async function fo(e){const i=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",i);return Array.from(new Uint8Array(r)).map(c=>c.toString(16).padStart(2,"0")).join("")}const Sg=k.createContext({});function Ag(e){const t=k.useRef(null);return t.current===null&&(t.current=e()),t.current}const xg=typeof window<"u",cS=xg?k.useLayoutEffect:k.useEffect,df=k.createContext(null);function wg(e,t){e.indexOf(t)===-1&&e.push(t)}function Rg(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}const Rs=(e,t,i)=>i>t?t:i<e?e:i;let Cg=()=>{};const Cs={},hS=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function fS(e){return typeof e=="object"&&e!==null}const dS=e=>/^0[^.\s]+$/u.test(e);function Dg(e){let t;return()=>(t===void 0&&(t=e()),t)}const di=e=>e,ZV=(e,t)=>i=>t(e(i)),wu=(...e)=>e.reduce(ZV),fu=(e,t,i)=>{const r=t-e;return r===0?1:(i-e)/r};class Vg{constructor(){this.subscriptions=[]}add(t){return wg(this.subscriptions,t),()=>Rg(this.subscriptions,t)}notify(t,i,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,i,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,i,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Fi=e=>e*1e3,qi=e=>e/1e3;function mS(e,t){return t?e*(1e3/t):0}const pS=(e,t,i)=>(((1-3*i+3*t)*e+(3*i-6*t))*e+3*t)*e,WV=1e-7,JV=12;function tM(e,t,i,r,o){let u,c,d=0;do c=t+(i-t)/2,u=pS(c,r,o)-e,u>0?i=c:t=c;while(Math.abs(u)>WV&&++d<JV);return c}function Ru(e,t,i,r){if(e===t&&i===r)return di;const o=u=>tM(u,0,1,e,i);return u=>u===0||u===1?u:pS(o(u),t,r)}const gS=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,yS=e=>t=>1-e(1-t),vS=Ru(.33,1.53,.69,.99),Mg=yS(vS),_S=gS(Mg),TS=e=>(e*=2)<1?.5*Mg(e):.5*(2-Math.pow(2,-10*(e-1))),Ng=e=>1-Math.sin(Math.acos(e)),bS=yS(Ng),ES=gS(Ng),eM=Ru(.42,0,1,1),nM=Ru(0,0,.58,1),SS=Ru(.42,0,.58,1),iM=e=>Array.isArray(e)&&typeof e[0]!="number",AS=e=>Array.isArray(e)&&typeof e[0]=="number",sM={linear:di,easeIn:eM,easeInOut:SS,easeOut:nM,circIn:Ng,circInOut:ES,circOut:bS,backIn:Mg,backInOut:_S,backOut:vS,anticipate:TS},rM=e=>typeof e=="string",BT=e=>{if(AS(e)){Cg(e.length===4);const[t,i,r,o]=e;return Ru(t,i,r,o)}else if(rM(e))return sM[e];return e},nh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],UT={value:null};function aM(e,t){let i=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1},m=0;function g(_){c.has(_)&&(y.schedule(_),e()),m++,_(d)}const y={schedule:(_,b=!1,w=!1)=>{const L=w&&o?i:r;return b&&c.add(_),L.has(_)||L.add(_),_},cancel:_=>{r.delete(_),c.delete(_)},process:_=>{if(d=_,o){u=!0;return}o=!0,[i,r]=[r,i],i.forEach(g),t&&UT.value&&UT.value.frameloop[t].push(m),m=0,i.clear(),o=!1,u&&(u=!1,y.process(_))}};return y}const oM=40;function xS(e,t){let i=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>i=!0,c=nh.reduce((Q,lt)=>(Q[lt]=aM(u,t?lt:void 0),Q),{}),{setup:d,read:m,resolveKeyframes:g,preUpdate:y,update:_,preRender:b,render:w,postRender:C}=c,L=()=>{const Q=Cs.useManualTiming?o.timestamp:performance.now();i=!1,Cs.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(Q-o.timestamp,oM),1)),o.timestamp=Q,o.isProcessing=!0,d.process(o),m.process(o),g.process(o),y.process(o),_.process(o),b.process(o),w.process(o),C.process(o),o.isProcessing=!1,i&&t&&(r=!1,e(L))},j=()=>{i=!0,r=!0,o.isProcessing||e(L)};return{schedule:nh.reduce((Q,lt)=>{const q=c[lt];return Q[lt]=(st,V=!1,R=!1)=>(i||j(),q.schedule(st,V,R)),Q},{}),cancel:Q=>{for(let lt=0;lt<nh.length;lt++)c[nh[lt]].cancel(Q)},state:o,steps:c}}const{schedule:Ve,cancel:gr,state:pn,steps:Mm}=xS(typeof requestAnimationFrame<"u"?requestAnimationFrame:di,!0);let _h;function lM(){_h=void 0}const Bn={now:()=>(_h===void 0&&Bn.set(pn.isProcessing||Cs.useManualTiming?pn.timestamp:performance.now()),_h),set:e=>{_h=e,queueMicrotask(lM)}},wS=e=>t=>typeof t=="string"&&t.startsWith(e),Ig=wS("--"),uM=wS("var(--"),Og=e=>uM(e)?cM.test(e.split("/*")[0].trim()):!1,cM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Mo={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},du={...Mo,transform:e=>Rs(0,1,e)},ih={...Mo,default:1},$l=e=>Math.round(e*1e5)/1e5,Pg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function hM(e){return e==null}const fM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,kg=(e,t)=>i=>!!(typeof i=="string"&&fM.test(i)&&i.startsWith(e)||t&&!hM(i)&&Object.prototype.hasOwnProperty.call(i,t)),RS=(e,t,i)=>r=>{if(typeof r!="string")return r;const[o,u,c,d]=r.match(Pg);return{[e]:parseFloat(o),[t]:parseFloat(u),[i]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},dM=e=>Rs(0,255,e),Nm={...Mo,transform:e=>Math.round(dM(e))},ia={test:kg("rgb","red"),parse:RS("red","green","blue"),transform:({red:e,green:t,blue:i,alpha:r=1})=>"rgba("+Nm.transform(e)+", "+Nm.transform(t)+", "+Nm.transform(i)+", "+$l(du.transform(r))+")"};function mM(e){let t="",i="",r="",o="";return e.length>5?(t=e.substring(1,3),i=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),i=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,i+=i,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const pp={test:kg("#"),parse:mM,transform:ia.transform},Cu=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),er=Cu("deg"),Gi=Cu("%"),Ot=Cu("px"),pM=Cu("vh"),gM=Cu("vw"),zT={...Gi,parse:e=>Gi.parse(e)/100,transform:e=>Gi.transform(e*100)},ro={test:kg("hsl","hue"),parse:RS("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:i,alpha:r=1})=>"hsla("+Math.round(e)+", "+Gi.transform($l(t))+", "+Gi.transform($l(i))+", "+$l(du.transform(r))+")"},An={test:e=>ia.test(e)||pp.test(e)||ro.test(e),parse:e=>ia.test(e)?ia.parse(e):ro.test(e)?ro.parse(e):pp.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ia.transform(e):ro.transform(e)},yM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function vM(e){var t,i;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Pg))==null?void 0:t.length)||0)+(((i=e.match(yM))==null?void 0:i.length)||0)>0}const CS="number",DS="color",_M="var",TM="var(",HT="${}",bM=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function mu(e){const t=e.toString(),i=[],r={color:[],number:[],var:[]},o=[];let u=0;const d=t.replace(bM,m=>(An.test(m)?(r.color.push(u),o.push(DS),i.push(An.parse(m))):m.startsWith(TM)?(r.var.push(u),o.push(_M),i.push(m)):(r.number.push(u),o.push(CS),i.push(parseFloat(m))),++u,HT)).split(HT);return{values:i,split:d,indexes:r,types:o}}function VS(e){return mu(e).values}function MS(e){const{split:t,types:i}=mu(e),r=t.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=t[c],o[c]!==void 0){const d=i[c];d===CS?u+=$l(o[c]):d===DS?u+=An.transform(o[c]):u+=o[c]}return u}}const EM=e=>typeof e=="number"?0:e;function SM(e){const t=VS(e);return MS(e)(t.map(EM))}const yr={test:vM,parse:VS,createTransformer:MS,getAnimatableNone:SM};function Im(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function AM({hue:e,saturation:t,lightness:i,alpha:r}){e/=360,t/=100,i/=100;let o=0,u=0,c=0;if(!t)o=u=c=i;else{const d=i<.5?i*(1+t):i+t-i*t,m=2*i-d;o=Im(m,d,e+1/3),u=Im(m,d,e),c=Im(m,d,e-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function Bh(e,t){return i=>i>0?t:e}const Ce=(e,t,i)=>e+(t-e)*i,Om=(e,t,i)=>{const r=e*e,o=i*(t*t-r)+r;return o<0?0:Math.sqrt(o)},xM=[pp,ia,ro],wM=e=>xM.find(t=>t.test(e));function FT(e){const t=wM(e);if(!t)return!1;let i=t.parse(e);return t===ro&&(i=AM(i)),i}const qT=(e,t)=>{const i=FT(e),r=FT(t);if(!i||!r)return Bh(e,t);const o={...i};return u=>(o.red=Om(i.red,r.red,u),o.green=Om(i.green,r.green,u),o.blue=Om(i.blue,r.blue,u),o.alpha=Ce(i.alpha,r.alpha,u),ia.transform(o))},gp=new Set(["none","hidden"]);function RM(e,t){return gp.has(e)?i=>i<=0?e:t:i=>i>=1?t:e}function CM(e,t){return i=>Ce(e,t,i)}function Lg(e){return typeof e=="number"?CM:typeof e=="string"?Og(e)?Bh:An.test(e)?qT:MM:Array.isArray(e)?NS:typeof e=="object"?An.test(e)?qT:DM:Bh}function NS(e,t){const i=[...e],r=i.length,o=e.map((u,c)=>Lg(u)(u,t[c]));return u=>{for(let c=0;c<r;c++)i[c]=o[c](u);return i}}function DM(e,t){const i={...e,...t},r={};for(const o in i)e[o]!==void 0&&t[o]!==void 0&&(r[o]=Lg(e[o])(e[o],t[o]));return o=>{for(const u in r)i[u]=r[u](o);return i}}function VM(e,t){const i=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=e.indexes[u][r[u]],d=e.values[c]??0;i[o]=d,r[u]++}return i}const MM=(e,t)=>{const i=yr.createTransformer(t),r=mu(e),o=mu(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?gp.has(e)&&!o.values.length||gp.has(t)&&!r.values.length?RM(e,t):wu(NS(VM(r,o),o.values),i):Bh(e,t)};function IS(e,t,i){return typeof e=="number"&&typeof t=="number"&&typeof i=="number"?Ce(e,t,i):Lg(e)(e,t)}const NM=e=>{const t=({timestamp:i})=>e(i);return{start:(i=!0)=>Ve.update(t,i),stop:()=>gr(t),now:()=>pn.isProcessing?pn.timestamp:Bn.now()}},OS=(e,t,i=10)=>{let r="";const o=Math.max(Math.round(t/i),2);for(let u=0;u<o;u++)r+=e(u/(o-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Uh=2e4;function jg(e){let t=0;const i=50;let r=e.next(t);for(;!r.done&&t<Uh;)t+=i,r=e.next(t);return t>=Uh?1/0:t}function IM(e,t=100,i){const r=i({...e,keyframes:[0,t]}),o=Math.min(jg(r),Uh);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:qi(o)}}const OM=5;function PS(e,t,i){const r=Math.max(t-OM,0);return mS(i-e(r),t-r)}const Oe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Pm=.001;function PM({duration:e=Oe.duration,bounce:t=Oe.bounce,velocity:i=Oe.velocity,mass:r=Oe.mass}){let o,u,c=1-t;c=Rs(Oe.minDamping,Oe.maxDamping,c),e=Rs(Oe.minDuration,Oe.maxDuration,qi(e)),c<1?(o=g=>{const y=g*c,_=y*e,b=y-i,w=yp(g,c),C=Math.exp(-_);return Pm-b/w*C},u=g=>{const _=g*c*e,b=_*i+i,w=Math.pow(c,2)*Math.pow(g,2)*e,C=Math.exp(-_),L=yp(Math.pow(g,2),c);return(-o(g)+Pm>0?-1:1)*((b-w)*C)/L}):(o=g=>{const y=Math.exp(-g*e),_=(g-i)*e+1;return-Pm+y*_},u=g=>{const y=Math.exp(-g*e),_=(i-g)*(e*e);return y*_});const d=5/e,m=LM(o,u,d);if(e=Fi(e),isNaN(m))return{stiffness:Oe.stiffness,damping:Oe.damping,duration:e};{const g=Math.pow(m,2)*r;return{stiffness:g,damping:c*2*Math.sqrt(r*g),duration:e}}}const kM=12;function LM(e,t,i){let r=i;for(let o=1;o<kM;o++)r=r-e(r)/t(r);return r}function yp(e,t){return e*Math.sqrt(1-t*t)}const jM=["duration","bounce"],BM=["stiffness","damping","mass"];function GT(e,t){return t.some(i=>e[i]!==void 0)}function UM(e){let t={velocity:Oe.velocity,stiffness:Oe.stiffness,damping:Oe.damping,mass:Oe.mass,isResolvedFromDuration:!1,...e};if(!GT(e,BM)&&GT(e,jM))if(e.visualDuration){const i=e.visualDuration,r=2*Math.PI/(i*1.2),o=r*r,u=2*Rs(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:Oe.mass,stiffness:o,damping:u}}else{const i=PM(e);t={...t,...i,mass:Oe.mass},t.isResolvedFromDuration=!0}return t}function zh(e=Oe.visualDuration,t=Oe.bounce){const i=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:o}=i;const u=i.keyframes[0],c=i.keyframes[i.keyframes.length-1],d={done:!1,value:u},{stiffness:m,damping:g,mass:y,duration:_,velocity:b,isResolvedFromDuration:w}=UM({...i,velocity:-qi(i.velocity||0)}),C=b||0,L=g/(2*Math.sqrt(m*y)),j=c-u,U=qi(Math.sqrt(m/y)),K=Math.abs(j)<5;r||(r=K?Oe.restSpeed.granular:Oe.restSpeed.default),o||(o=K?Oe.restDelta.granular:Oe.restDelta.default);let Q;if(L<1){const q=yp(U,L);Q=st=>{const V=Math.exp(-L*U*st);return c-V*((C+L*U*j)/q*Math.sin(q*st)+j*Math.cos(q*st))}}else if(L===1)Q=q=>c-Math.exp(-U*q)*(j+(C+U*j)*q);else{const q=U*Math.sqrt(L*L-1);Q=st=>{const V=Math.exp(-L*U*st),R=Math.min(q*st,300);return c-V*((C+L*U*j)*Math.sinh(R)+q*j*Math.cosh(R))/q}}const lt={calculatedDuration:w&&_||null,next:q=>{const st=Q(q);if(w)d.done=q>=_;else{let V=q===0?C:0;L<1&&(V=q===0?Fi(C):PS(Q,q,st));const R=Math.abs(V)<=r,D=Math.abs(c-st)<=o;d.done=R&&D}return d.value=d.done?c:st,d},toString:()=>{const q=Math.min(jg(lt),Uh),st=OS(V=>lt.next(q*V).value,q,30);return q+"ms "+st},toTransition:()=>{}};return lt}zh.applyToOptions=e=>{const t=IM(e,100,zh);return e.ease=t.ease,e.duration=Fi(t.duration),e.type="keyframes",e};function vp({keyframes:e,velocity:t=0,power:i=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:d,max:m,restDelta:g=.5,restSpeed:y}){const _=e[0],b={done:!1,value:_},w=R=>d!==void 0&&R<d||m!==void 0&&R>m,C=R=>d===void 0?m:m===void 0||Math.abs(d-R)<Math.abs(m-R)?d:m;let L=i*t;const j=_+L,U=c===void 0?j:c(j);U!==j&&(L=U-_);const K=R=>-L*Math.exp(-R/r),Q=R=>U+K(R),lt=R=>{const D=K(R),O=Q(R);b.done=Math.abs(D)<=g,b.value=b.done?U:O};let q,st;const V=R=>{w(b.value)&&(q=R,st=zh({keyframes:[b.value,C(b.value)],velocity:PS(Q,R,b.value),damping:o,stiffness:u,restDelta:g,restSpeed:y}))};return V(0),{calculatedDuration:null,next:R=>{let D=!1;return!st&&q===void 0&&(D=!0,lt(R),V(R)),q!==void 0&&R>=q?st.next(R-q):(!D&&lt(R),b)}}}function zM(e,t,i){const r=[],o=i||Cs.mix||IS,u=e.length-1;for(let c=0;c<u;c++){let d=o(e[c],e[c+1]);if(t){const m=Array.isArray(t)?t[c]||di:t;d=wu(m,d)}r.push(d)}return r}function HM(e,t,{clamp:i=!0,ease:r,mixer:o}={}){const u=e.length;if(Cg(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[u-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=zM(t,r,o),m=d.length,g=y=>{if(c&&y<e[0])return t[0];let _=0;if(m>1)for(;_<e.length-2&&!(y<e[_+1]);_++);const b=fu(e[_],e[_+1],y);return d[_](b)};return i?y=>g(Rs(e[0],e[u-1],y)):g}function FM(e,t){const i=e[e.length-1];for(let r=1;r<=t;r++){const o=fu(0,t,r);e.push(Ce(i,1,o))}}function qM(e){const t=[0];return FM(t,e.length-1),t}function GM(e,t){return e.map(i=>i*t)}function YM(e,t){return e.map(()=>t||SS).splice(0,e.length-1)}function Zl({duration:e=300,keyframes:t,times:i,ease:r="easeInOut"}){const o=iM(r)?r.map(BT):BT(r),u={done:!1,value:t[0]},c=GM(i&&i.length===t.length?i:qM(t),e),d=HM(c,t,{ease:Array.isArray(o)?o:YM(t,o)});return{calculatedDuration:e,next:m=>(u.value=d(m),u.done=m>=e,u)}}const KM=e=>e!==null;function Bg(e,{repeat:t,repeatType:i="loop"},r,o=1){const u=e.filter(KM),d=o<0||t&&i!=="loop"&&t%2===1?0:u.length-1;return!d||r===void 0?u[d]:r}const QM={decay:vp,inertia:vp,tween:Zl,keyframes:Zl,spring:zh};function kS(e){typeof e.type=="string"&&(e.type=QM[e.type])}class Ug{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,i){return this.finished.then(t,i)}}const XM=e=>e/100;class zg extends Ug{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,o;const{motionValue:i}=this.options;i&&i.updatedAt!==Bn.now()&&this.tick(Bn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(r=this.options).onStop)==null||o.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;kS(t);const{type:i=Zl,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:d}=t;const m=i||Zl;m!==Zl&&typeof d[0]!="number"&&(this.mixKeyframes=wu(XM,IS(d[0],d[1])),d=[0,100]);const g=m({...t,keyframes:d});u==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...d].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=jg(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=g}updateTime(t){const i=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(t,i=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return r.next(0);const{delay:g=0,keyframes:y,repeat:_,repeatType:b,repeatDelay:w,type:C,onUpdate:L,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),i?this.currentTime=t:this.updateTime(t);const U=this.currentTime-g*(this.playbackSpeed>=0?1:-1),K=this.playbackSpeed>=0?U<0:U>o;this.currentTime=Math.max(U,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let Q=this.currentTime,lt=r;if(_){const R=Math.min(this.currentTime,o)/d;let D=Math.floor(R),O=R%1;!O&&R>=1&&(O=1),O===1&&D--,D=Math.min(D,_+1),!!(D%2)&&(b==="reverse"?(O=1-O,w&&(O-=w/d)):b==="mirror"&&(lt=c)),Q=Rs(0,1,O)*d}const q=K?{done:!1,value:y[0]}:lt.next(Q);u&&(q.value=u(q.value));let{done:st}=q;!K&&m!==null&&(st=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&st);return V&&C!==vp&&(q.value=Bg(y,this.options,j,this.speed)),L&&L(q.value),V&&this.finish(),q}then(t,i){return this.finished.then(t,i)}get duration(){return qi(this.calculatedDuration)}get time(){return qi(this.currentTime)}set time(t){var i;t=Fi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(i=this.driver)==null||i.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Bn.now());const i=this.playbackSpeed!==t;this.playbackSpeed=t,i&&(this.time=qi(this.currentTime))}play(){var o,u;if(this.isStopped)return;const{driver:t=NM,startTime:i}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(u=(o=this.options).onPlay)==null||u.call(o);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=i??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Bn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,i;this.notifyFinished(),this.teardown(),this.state="finished",(i=(t=this.options).onComplete)==null||i.call(t)}cancel(){var t,i;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(i=(t=this.options).onCancel)==null||i.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var i;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(i=this.driver)==null||i.stop(),t.observe(this)}}function $M(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const sa=e=>e*180/Math.PI,_p=e=>{const t=sa(Math.atan2(e[1],e[0]));return Tp(t)},ZM={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:_p,rotateZ:_p,skewX:e=>sa(Math.atan(e[1])),skewY:e=>sa(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Tp=e=>(e=e%360,e<0&&(e+=360),e),YT=_p,KT=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),QT=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),WM={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:KT,scaleY:QT,scale:e=>(KT(e)+QT(e))/2,rotateX:e=>Tp(sa(Math.atan2(e[6],e[5]))),rotateY:e=>Tp(sa(Math.atan2(-e[2],e[0]))),rotateZ:YT,rotate:YT,skewX:e=>sa(Math.atan(e[4])),skewY:e=>sa(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function bp(e){return e.includes("scale")?1:0}function Ep(e,t){if(!e||e==="none")return bp(t);const i=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(i)r=WM,o=i;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=ZM,o=d}if(!o)return bp(t);const u=r[t],c=o[1].split(",").map(tN);return typeof u=="function"?u(c):c[u]}const JM=(e,t)=>{const{transform:i="none"}=getComputedStyle(e);return Ep(i,t)};function tN(e){return parseFloat(e.trim())}const No=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Io=new Set(No),XT=e=>e===Mo||e===Ot,eN=new Set(["x","y","z"]),nN=No.filter(e=>!eN.has(e));function iN(e){const t=[];return nN.forEach(i=>{const r=e.getValue(i);r!==void 0&&(t.push([i,r.get()]),r.set(i.startsWith("scale")?1:0))}),t}const ra={width:({x:e},{paddingLeft:t="0",paddingRight:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),height:({y:e},{paddingTop:t="0",paddingBottom:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Ep(t,"x"),y:(e,{transform:t})=>Ep(t,"y")};ra.translateX=ra.x;ra.translateY=ra.y;const aa=new Set;let Sp=!1,Ap=!1,xp=!1;function LS(){if(Ap){const e=Array.from(aa).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),i=new Map;t.forEach(r=>{const o=iN(r);o.length&&(i.set(r,o),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=i.get(r);o&&o.forEach(([u,c])=>{var d;(d=r.getValue(u))==null||d.set(c)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Ap=!1,Sp=!1,aa.forEach(e=>e.complete(xp)),aa.clear()}function jS(){aa.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Ap=!0)})}function sN(){xp=!0,jS(),LS(),xp=!1}class Hg{constructor(t,i,r,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=i,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(aa.add(this),Sp||(Sp=!0,Ve.read(jS),Ve.resolveKeyframes(LS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:i,element:r,motionValue:o}=this;if(t[0]===null){const u=o==null?void 0:o.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&i){const d=r.readValue(i,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}$M(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),aa.delete(this)}cancel(){this.state==="scheduled"&&(aa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const rN=e=>e.startsWith("--");function aN(e,t,i){rN(t)?e.style.setProperty(t,i):e.style[t]=i}const oN=Dg(()=>window.ScrollTimeline!==void 0),lN={};function uN(e,t){const i=Dg(e);return()=>lN[t]??i()}const BS=uN(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ql=([e,t,i,r])=>`cubic-bezier(${e}, ${t}, ${i}, ${r})`,$T={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ql([0,.65,.55,1]),circOut:ql([.55,0,1,.45]),backIn:ql([.31,.01,.66,-.59]),backOut:ql([.33,1.53,.69,.99])};function US(e,t){if(e)return typeof e=="function"?BS()?OS(e,t):"ease-out":AS(e)?ql(e):Array.isArray(e)?e.map(i=>US(i,t)||$T.easeOut):$T[e]}function cN(e,t,i,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:d="easeOut",times:m}={},g=void 0){const y={[t]:i};m&&(y.offset=m);const _=US(d,o);Array.isArray(_)&&(y.easing=_);const b={delay:r,duration:o,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return g&&(b.pseudoElement=g),e.animate(y,b)}function zS(e){return typeof e=="function"&&"applyToOptions"in e}function hN({type:e,...t}){return zS(e)&&BS()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class fN extends Ug{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:i,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:d,onComplete:m}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,Cg(typeof t.type!="string");const g=hN(t);this.animation=cN(i,r,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const y=Bg(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):aN(i,r,y),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,i;(i=(t=this.animation).finish)==null||i.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,i;this.isPseudoElement||(i=(t=this.animation).commitStyles)==null||i.call(t)}get duration(){var i,r;const t=((r=(i=this.animation.effect)==null?void 0:i.getComputedTiming)==null?void 0:r.call(i).duration)||0;return qi(Number(t))}get time(){return qi(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Fi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:i}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&oN()?(this.animation.timeline=t,di):i(this)}}const HS={anticipate:TS,backInOut:_S,circInOut:ES};function dN(e){return e in HS}function mN(e){typeof e.ease=="string"&&dN(e.ease)&&(e.ease=HS[e.ease])}const ZT=10;class pN extends fN{constructor(t){mN(t),kS(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:i,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!i)return;if(t!==void 0){i.set(t);return}const d=new zg({...c,autoplay:!1}),m=Fi(this.finishedTime??this.time);i.setWithVelocity(d.sample(m-ZT).value,d.sample(m).value,ZT),d.stop()}}const WT=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(yr.test(e)||e==="0")&&!e.startsWith("url("));function gN(e){const t=e[0];if(e.length===1)return!0;for(let i=0;i<e.length;i++)if(e[i]!==t)return!0}function yN(e,t,i,r){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=e[e.length-1],c=WT(o,t),d=WT(u,t);return!c||!d?!1:gN(e)||(i==="spring"||zS(i))&&r}function Fg(e){return fS(e)&&"offsetHeight"in e}const vN=new Set(["opacity","clipPath","filter","transform"]),_N=Dg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function TN(e){var g;const{motionValue:t,name:i,repeatDelay:r,repeatType:o,damping:u,type:c}=e;if(!Fg((g=t==null?void 0:t.owner)==null?void 0:g.current))return!1;const{onUpdate:d,transformTemplate:m}=t.owner.getProps();return _N()&&i&&vN.has(i)&&(i!=="transform"||!m)&&!d&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const bN=40;class EN extends Ug{constructor({autoplay:t=!0,delay:i=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:d,name:m,motionValue:g,element:y,..._}){var C;super(),this.stop=()=>{var L,j;this._animation&&(this._animation.stop(),(L=this.stopTimeline)==null||L.call(this)),(j=this.keyframeResolver)==null||j.cancel()},this.createdAt=Bn.now();const b={autoplay:t,delay:i,type:r,repeat:o,repeatDelay:u,repeatType:c,name:m,motionValue:g,element:y,..._},w=(y==null?void 0:y.KeyframeResolver)||Hg;this.keyframeResolver=new w(d,(L,j,U)=>this.onKeyframesResolved(L,j,b,!U),m,g,y),(C=this.keyframeResolver)==null||C.scheduleResolve()}onKeyframesResolved(t,i,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:d,delay:m,isHandoff:g,onUpdate:y}=r;this.resolvedAt=Bn.now(),yN(t,u,c,d)||((Cs.instantAnimations||!m)&&(y==null||y(Bg(t,r,i))),t[0]=t[t.length-1],r.duration=0,r.repeat=0);const b={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>bN?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...r,keyframes:t},w=!g&&TN(b)?new pN({...b,element:b.motionValue.owner.current}):new zg(b);w.finished.then(()=>this.notifyFinished()).catch(di),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(t,i){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),sN()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const SN=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function AN(e){const t=SN.exec(e);if(!t)return[,];const[,i,r,o]=t;return[`--${i??r}`,o]}function FS(e,t,i=1){const[r,o]=AN(e);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const c=u.trim();return hS(c)?parseFloat(c):c}return Og(o)?FS(o,t,i+1):o}function qg(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const qS=new Set(["width","height","top","left","right","bottom",...No]),xN={test:e=>e==="auto",parse:e=>e},GS=e=>t=>t.test(e),YS=[Mo,Ot,Gi,er,gM,pM,xN],JT=e=>YS.find(GS(e));function wN(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||dS(e):!0}const RN=new Set(["brightness","contrast","saturate","opacity"]);function CN(e){const[t,i]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=i.match(Pg)||[];if(!r)return e;const o=i.replace(r,"");let u=RN.has(t)?1:0;return r!==i&&(u*=100),t+"("+u+o+")"}const DN=/\b([a-z-]*)\(.*?\)/gu,wp={...yr,getAnimatableNone:e=>{const t=e.match(DN);return t?t.map(CN).join(" "):e}},tb={...Mo,transform:Math.round},VN={rotate:er,rotateX:er,rotateY:er,rotateZ:er,scale:ih,scaleX:ih,scaleY:ih,scaleZ:ih,skew:er,skewX:er,skewY:er,distance:Ot,translateX:Ot,translateY:Ot,translateZ:Ot,x:Ot,y:Ot,z:Ot,perspective:Ot,transformPerspective:Ot,opacity:du,originX:zT,originY:zT,originZ:Ot},Gg={borderWidth:Ot,borderTopWidth:Ot,borderRightWidth:Ot,borderBottomWidth:Ot,borderLeftWidth:Ot,borderRadius:Ot,radius:Ot,borderTopLeftRadius:Ot,borderTopRightRadius:Ot,borderBottomRightRadius:Ot,borderBottomLeftRadius:Ot,width:Ot,maxWidth:Ot,height:Ot,maxHeight:Ot,top:Ot,right:Ot,bottom:Ot,left:Ot,padding:Ot,paddingTop:Ot,paddingRight:Ot,paddingBottom:Ot,paddingLeft:Ot,margin:Ot,marginTop:Ot,marginRight:Ot,marginBottom:Ot,marginLeft:Ot,backgroundPositionX:Ot,backgroundPositionY:Ot,...VN,zIndex:tb,fillOpacity:du,strokeOpacity:du,numOctaves:tb},MN={...Gg,color:An,backgroundColor:An,outlineColor:An,fill:An,stroke:An,borderColor:An,borderTopColor:An,borderRightColor:An,borderBottomColor:An,borderLeftColor:An,filter:wp,WebkitFilter:wp},KS=e=>MN[e];function QS(e,t){let i=KS(e);return i!==wp&&(i=yr),i.getAnimatableNone?i.getAnimatableNone(t):void 0}const NN=new Set(["auto","none","0"]);function IN(e,t,i){let r=0,o;for(;r<e.length&&!o;){const u=e[r];typeof u=="string"&&!NN.has(u)&&mu(u).values.length&&(o=e[r]),r++}if(o&&i)for(const u of t)e[u]=QS(i,o)}class ON extends Hg{constructor(t,i,r,o,u){super(t,i,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:i,name:r}=this;if(!i||!i.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let g=t[m];if(typeof g=="string"&&(g=g.trim(),Og(g))){const y=FS(g,i.current);y!==void 0&&(t[m]=y),m===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!qS.has(r)||t.length!==2)return;const[o,u]=t,c=JT(o),d=JT(u);if(c!==d)if(XT(c)&&XT(d))for(let m=0;m<t.length;m++){const g=t[m];typeof g=="string"&&(t[m]=parseFloat(g))}else ra[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:i}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||wN(t[o]))&&r.push(o);r.length&&IN(t,r,i)}measureInitialState(){const{element:t,unresolvedKeyframes:i,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ra[r](t.measureViewportBox(),window.getComputedStyle(t.current)),i[0]=this.measuredOrigin;const o=i[i.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){var d;const{element:t,name:i,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(i);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=ra[i](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([m,g])=>{t.getValue(m).set(g)}),this.resolveNoneKeyframes()}}function PN(e,t,i){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const o=(i==null?void 0:i[e])??r.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const XS=(e,t)=>t&&typeof e=="number"?t.transform(e):e,eb=30,kN=e=>!isNaN(parseFloat(e));class LN{constructor(t,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{var c,d;const u=Bn.now();if(this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current),this.dependents))for(const m of this.dependents)m.dirty();o&&((d=this.events.renderRequest)==null||d.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=i.owner}setCurrent(t){this.current=t,this.updatedAt=Bn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=kN(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,i){this.events[t]||(this.events[t]=new Vg);const r=this.events[t].add(i);return t==="change"?()=>{r(),Ve.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,i){this.passiveEffect=t,this.stopPassiveEffect=i}set(t,i=!0){!i||!this.passiveEffect?this.updateAndNotify(t,i):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,i,r){this.set(i),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,i=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Bn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>eb)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,eb);return mS(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(t){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=t(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,i;(t=this.dependents)==null||t.clear(),(i=this.events.destroy)==null||i.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Eo(e,t){return new LN(e,t)}const{schedule:Yg}=xS(queueMicrotask,!1),bi={x:!1,y:!1};function $S(){return bi.x||bi.y}function jN(e){return e==="x"||e==="y"?bi[e]?null:(bi[e]=!0,()=>{bi[e]=!1}):bi.x||bi.y?null:(bi.x=bi.y=!0,()=>{bi.x=bi.y=!1})}function ZS(e,t){const i=PN(e),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[i,o,()=>r.abort()]}function nb(e){return!(e.pointerType==="touch"||$S())}function BN(e,t,i={}){const[r,o,u]=ZS(e,i),c=d=>{if(!nb(d))return;const{target:m}=d,g=t(m,d);if(typeof g!="function"||!m)return;const y=_=>{nb(_)&&(g(_),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,o)};return r.forEach(d=>{d.addEventListener("pointerenter",c,o)}),u}const WS=(e,t)=>t?e===t?!0:WS(e,t.parentElement):!1,Kg=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,UN=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function zN(e){return UN.has(e.tagName)||e.tabIndex!==-1}const Th=new WeakSet;function ib(e){return t=>{t.key==="Enter"&&e(t)}}function km(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const HN=(e,t)=>{const i=e.currentTarget;if(!i)return;const r=ib(()=>{if(Th.has(i))return;km(i,"down");const o=ib(()=>{km(i,"up")}),u=()=>km(i,"cancel");i.addEventListener("keyup",o,t),i.addEventListener("blur",u,t)});i.addEventListener("keydown",r,t),i.addEventListener("blur",()=>i.removeEventListener("keydown",r),t)};function sb(e){return Kg(e)&&!$S()}function FN(e,t,i={}){const[r,o,u]=ZS(e,i),c=d=>{const m=d.currentTarget;if(!sb(d))return;Th.add(m);const g=t(m,d),y=(w,C)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",b),Th.has(m)&&Th.delete(m),sb(w)&&typeof g=="function"&&g(w,{success:C})},_=w=>{y(w,m===window||m===document||i.useGlobalTarget||WS(m,w.target))},b=w=>{y(w,!1)};window.addEventListener("pointerup",_,o),window.addEventListener("pointercancel",b,o)};return r.forEach(d=>{(i.useGlobalTarget?window:d).addEventListener("pointerdown",c,o),Fg(d)&&(d.addEventListener("focus",g=>HN(g,o)),!zN(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),u}function JS(e){return fS(e)&&"ownerSVGElement"in e}function qN(e){return JS(e)&&e.tagName==="svg"}const Rn=e=>!!(e&&e.getVelocity),GN=[...YS,An,yr],YN=e=>GN.find(GS(e)),Qg=k.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class KN extends k.Component{getSnapshotBeforeUpdate(t){const i=this.props.childRef.current;if(i&&t.isPresent&&!this.props.isPresent){const r=i.offsetParent,o=Fg(r)&&r.offsetWidth||0,u=this.props.sizeRef.current;u.height=i.offsetHeight||0,u.width=i.offsetWidth||0,u.top=i.offsetTop,u.left=i.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function QN({children:e,isPresent:t,anchorX:i}){const r=k.useId(),o=k.useRef(null),u=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=k.useContext(Qg);return k.useInsertionEffect(()=>{const{width:d,height:m,top:g,left:y,right:_}=u.current;if(t||!o.current||!d||!m)return;const b=i==="left"?`left: ${y}`:`right: ${_}`;o.current.dataset.motionPopId=r;const w=document.createElement("style");return c&&(w.nonce=c),document.head.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${m}px !important;
            ${b}px !important;
            top: ${g}px !important;
          }
        `),()=>{document.head.contains(w)&&document.head.removeChild(w)}},[t]),x.jsx(KN,{isPresent:t,childRef:o,sizeRef:u,children:k.cloneElement(e,{ref:o})})}const XN=({children:e,initial:t,isPresent:i,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:c,anchorX:d})=>{const m=Ag($N),g=k.useId();let y=!0,_=k.useMemo(()=>(y=!1,{id:g,initial:t,isPresent:i,custom:o,onExitComplete:b=>{m.set(b,!0);for(const w of m.values())if(!w)return;r&&r()},register:b=>(m.set(b,!1),()=>m.delete(b))}),[i,m,r]);return u&&y&&(_={..._}),k.useMemo(()=>{m.forEach((b,w)=>m.set(w,!1))},[i]),k.useEffect(()=>{!i&&!m.size&&r&&r()},[i]),c==="popLayout"&&(e=x.jsx(QN,{isPresent:i,anchorX:d,children:e})),x.jsx(df.Provider,{value:_,children:e})};function $N(){return new Map}function tA(e=!0){const t=k.useContext(df);if(t===null)return[!0,null];const{isPresent:i,onExitComplete:r,register:o}=t,u=k.useId();k.useEffect(()=>{if(e)return o(u)},[e]);const c=k.useCallback(()=>e&&r&&r(u),[u,r,e]);return!i&&r?[!1,c]:[!0]}const sh=e=>e.key||"";function rb(e){const t=[];return k.Children.forEach(e,i=>{k.isValidElement(i)&&t.push(i)}),t}const eA=({children:e,custom:t,initial:i=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:d="left"})=>{const[m,g]=tA(c),y=k.useMemo(()=>rb(e),[e]),_=c&&!m?[]:y.map(sh),b=k.useRef(!0),w=k.useRef(y),C=Ag(()=>new Map),[L,j]=k.useState(y),[U,K]=k.useState(y);cS(()=>{b.current=!1,w.current=y;for(let q=0;q<U.length;q++){const st=sh(U[q]);_.includes(st)?C.delete(st):C.get(st)!==!0&&C.set(st,!1)}},[U,_.length,_.join("-")]);const Q=[];if(y!==L){let q=[...y];for(let st=0;st<U.length;st++){const V=U[st],R=sh(V);_.includes(R)||(q.splice(st,0,V),Q.push(V))}return u==="wait"&&Q.length&&(q=Q),K(rb(q)),j(y),null}const{forceRender:lt}=k.useContext(Sg);return x.jsx(x.Fragment,{children:U.map(q=>{const st=sh(q),V=c&&!m?!1:y===U||_.includes(st),R=()=>{if(C.has(st))C.set(st,!0);else return;let D=!0;C.forEach(O=>{O||(D=!1)}),D&&(lt==null||lt(),K(w.current),c&&(g==null||g()),r&&r())};return x.jsx(XN,{isPresent:V,initial:!b.current||i?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,onExitComplete:V?void 0:R,anchorX:d,children:q},st)})})},nA=k.createContext({strict:!1}),ab={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},So={};for(const e in ab)So[e]={isEnabled:t=>ab[e].some(i=>!!t[i])};function ZN(e){for(const t in e)So[t]={...So[t],...e[t]}}const WN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Hh(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||WN.has(e)}let iA=e=>!Hh(e);function JN(e){e&&(iA=t=>t.startsWith("on")?!Hh(t):e(t))}try{JN(require("@emotion/is-prop-valid").default)}catch{}function t3(e,t,i){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(iA(o)||i===!0&&Hh(o)||!t&&!Hh(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}function e3(e){if(typeof Proxy>"u")return e;const t=new Map,i=(...r)=>e(...r);return new Proxy(i,{get:(r,o)=>o==="create"?e:(t.has(o)||t.set(o,e(o)),t.get(o))})}const mf=k.createContext({});function pf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function pu(e){return typeof e=="string"||Array.isArray(e)}const Xg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$g=["initial",...Xg];function gf(e){return pf(e.animate)||$g.some(t=>pu(e[t]))}function sA(e){return!!(gf(e)||e.variants)}function n3(e,t){if(gf(e)){const{initial:i,animate:r}=e;return{initial:i===!1||pu(i)?i:void 0,animate:pu(r)?r:void 0}}return e.inherit!==!1?t:{}}function i3(e){const{initial:t,animate:i}=n3(e,k.useContext(mf));return k.useMemo(()=>({initial:t,animate:i}),[ob(t),ob(i)])}function ob(e){return Array.isArray(e)?e.join(" "):e}const s3=Symbol.for("motionComponentSymbol");function ao(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function r3(e,t,i){return k.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),i&&(typeof i=="function"?i(r):ao(i)&&(i.current=r))},[t])}const Zg=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),a3="framerAppearId",rA="data-"+Zg(a3),aA=k.createContext({});function o3(e,t,i,r,o){var L,j;const{visualElement:u}=k.useContext(mf),c=k.useContext(nA),d=k.useContext(df),m=k.useContext(Qg).reducedMotion,g=k.useRef(null);r=r||c.renderer,!g.current&&r&&(g.current=r(e,{visualState:t,parent:u,props:i,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const y=g.current,_=k.useContext(aA);y&&!y.projection&&o&&(y.type==="html"||y.type==="svg")&&l3(g.current,i,o,_);const b=k.useRef(!1);k.useInsertionEffect(()=>{y&&b.current&&y.update(i,d)});const w=i[rA],C=k.useRef(!!w&&!((L=window.MotionHandoffIsComplete)!=null&&L.call(window,w))&&((j=window.MotionHasOptimisedAnimation)==null?void 0:j.call(window,w)));return cS(()=>{y&&(b.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),Yg.render(y.render),C.current&&y.animationState&&y.animationState.animateChanges())}),k.useEffect(()=>{y&&(!C.current&&y.animationState&&y.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var U;(U=window.MotionHandoffMarkAsComplete)==null||U.call(window,w)}),C.current=!1))}),y}function l3(e,t,i,r){const{layoutId:o,layout:u,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:g,layoutCrossfade:y}=t;e.projection=new i(e.latestValues,t["data-framer-portal-id"]?void 0:oA(e.parent)),e.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||d&&ao(d),visualElement:e,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:m,layoutRoot:g})}function oA(e){if(e)return e.options.allowProjection!==!1?e.projection:oA(e.parent)}function u3({preloadedFeatures:e,createVisualElement:t,useRender:i,useVisualState:r,Component:o}){e&&ZN(e);function u(d,m){let g;const y={...k.useContext(Qg),...d,layoutId:c3(d)},{isStatic:_}=y,b=i3(d),w=r(d,_);if(!_&&xg){h3();const C=f3(y);g=C.MeasureLayout,b.visualElement=o3(o,w,y,t,C.ProjectionNode)}return x.jsxs(mf.Provider,{value:b,children:[g&&b.visualElement?x.jsx(g,{visualElement:b.visualElement,...y}):null,i(o,d,r3(w,b.visualElement,m),w,_,b.visualElement)]})}u.displayName=`motion.${typeof o=="string"?o:`create(${o.displayName??o.name??""})`}`;const c=k.forwardRef(u);return c[s3]=o,c}function c3({layoutId:e}){const t=k.useContext(Sg).id;return t&&e!==void 0?t+"-"+e:e}function h3(e,t){k.useContext(nA).strict}function f3(e){const{drag:t,layout:i}=So;if(!t&&!i)return{};const r={...t,...i};return{MeasureLayout:t!=null&&t.isEnabled(e)||i!=null&&i.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const gu={};function d3(e){for(const t in e)gu[t]=e[t],Ig(t)&&(gu[t].isCSSVariable=!0)}function lA(e,{layout:t,layoutId:i}){return Io.has(e)||e.startsWith("origin")||(t||i!==void 0)&&(!!gu[e]||e==="opacity")}const m3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},p3=No.length;function g3(e,t,i){let r="",o=!0;for(let u=0;u<p3;u++){const c=No[u],d=e[c];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(c.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||i){const g=XS(d,Gg[c]);if(!m){o=!1;const y=m3[c]||c;r+=`${y}(${g}) `}i&&(t[c]=g)}}return r=r.trim(),i?r=i(t,o?"":r):o&&(r="none"),r}function Wg(e,t,i){const{style:r,vars:o,transformOrigin:u}=e;let c=!1,d=!1;for(const m in t){const g=t[m];if(Io.has(m)){c=!0;continue}else if(Ig(m)){o[m]=g;continue}else{const y=XS(g,Gg[m]);m.startsWith("origin")?(d=!0,u[m]=y):r[m]=y}}if(t.transform||(c||i?r.transform=g3(t,e.transform,i):r.transform&&(r.transform="none")),d){const{originX:m="50%",originY:g="50%",originZ:y=0}=u;r.transformOrigin=`${m} ${g} ${y}`}}const Jg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function uA(e,t,i){for(const r in t)!Rn(t[r])&&!lA(r,i)&&(e[r]=t[r])}function y3({transformTemplate:e},t){return k.useMemo(()=>{const i=Jg();return Wg(i,t,e),Object.assign({},i.vars,i.style)},[t])}function v3(e,t){const i=e.style||{},r={};return uA(r,i,e),Object.assign(r,y3(e,t)),r}function _3(e,t){const i={},r=v3(e,t);return e.drag&&e.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(i.tabIndex=0),i.style=r,i}const T3={offset:"stroke-dashoffset",array:"stroke-dasharray"},b3={offset:"strokeDashoffset",array:"strokeDasharray"};function E3(e,t,i=1,r=0,o=!0){e.pathLength=1;const u=o?T3:b3;e[u.offset]=Ot.transform(-r);const c=Ot.transform(t),d=Ot.transform(i);e[u.array]=`${c} ${d}`}function cA(e,{attrX:t,attrY:i,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...d},m,g,y){if(Wg(e,d,g),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:_,style:b}=e;_.transform&&(b.transform=_.transform,delete _.transform),(b.transform||_.transformOrigin)&&(b.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),b.transform&&(b.transformBox=(y==null?void 0:y.transformBox)??"fill-box",delete _.transformBox),t!==void 0&&(_.x=t),i!==void 0&&(_.y=i),r!==void 0&&(_.scale=r),o!==void 0&&E3(_,o,u,c,!1)}const hA=()=>({...Jg(),attrs:{}}),fA=e=>typeof e=="string"&&e.toLowerCase()==="svg";function S3(e,t,i,r){const o=k.useMemo(()=>{const u=hA();return cA(u,t,fA(r),e.transformTemplate,e.style),{...u.attrs,style:{...u.style}}},[t]);if(e.style){const u={};uA(u,e.style,e),o.style={...u,...o.style}}return o}const A3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ty(e){return typeof e!="string"||e.includes("-")?!1:!!(A3.indexOf(e)>-1||/[A-Z]/u.test(e))}function x3(e=!1){return(i,r,o,{latestValues:u},c)=>{const m=(ty(i)?S3:_3)(r,u,c,i),g=t3(r,typeof i=="string",e),y=i!==k.Fragment?{...g,...m,ref:o}:{},{children:_}=r,b=k.useMemo(()=>Rn(_)?_.get():_,[_]);return k.createElement(i,{...y,children:b})}}function lb(e){const t=[{},{}];return e==null||e.values.forEach((i,r)=>{t[0][r]=i.get(),t[1][r]=i.getVelocity()}),t}function ey(e,t,i,r){if(typeof t=="function"){const[o,u]=lb(r);t=t(i!==void 0?i:e.custom,o,u)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,u]=lb(r);t=t(i!==void 0?i:e.custom,o,u)}return t}function bh(e){return Rn(e)?e.get():e}function w3({scrapeMotionValuesFromProps:e,createRenderState:t},i,r,o){return{latestValues:R3(i,r,o,e),renderState:t()}}const dA=e=>(t,i)=>{const r=k.useContext(mf),o=k.useContext(df),u=()=>w3(e,t,r,o);return i?u():Ag(u)};function R3(e,t,i,r){const o={},u=r(e,{});for(const b in u)o[b]=bh(u[b]);let{initial:c,animate:d}=e;const m=gf(e),g=sA(e);t&&g&&!m&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let y=i?i.initial===!1:!1;y=y||c===!1;const _=y?d:c;if(_&&typeof _!="boolean"&&!pf(_)){const b=Array.isArray(_)?_:[_];for(let w=0;w<b.length;w++){const C=ey(e,b[w]);if(C){const{transitionEnd:L,transition:j,...U}=C;for(const K in U){let Q=U[K];if(Array.isArray(Q)){const lt=y?Q.length-1:0;Q=Q[lt]}Q!==null&&(o[K]=Q)}for(const K in L)o[K]=L[K]}}}return o}function ny(e,t,i){var u;const{style:r}=e,o={};for(const c in r)(Rn(r[c])||t.style&&Rn(t.style[c])||lA(c,e)||((u=i==null?void 0:i.getValue(c))==null?void 0:u.liveStyle)!==void 0)&&(o[c]=r[c]);return o}const C3={useVisualState:dA({scrapeMotionValuesFromProps:ny,createRenderState:Jg})};function mA(e,t,i){const r=ny(e,t,i);for(const o in e)if(Rn(e[o])||Rn(t[o])){const u=No.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=e[o]}return r}const D3={useVisualState:dA({scrapeMotionValuesFromProps:mA,createRenderState:hA})};function V3(e,t){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const c={...ty(r)?D3:C3,preloadedFeatures:e,useRender:x3(o),createVisualElement:t,Component:r};return u3(c)}}function yu(e,t,i){const r=e.getProps();return ey(r,t,i!==void 0?i:r.custom,e)}const Rp=e=>Array.isArray(e);function M3(e,t,i){e.hasValue(t)?e.getValue(t).set(i):e.addValue(t,Eo(i))}function N3(e){return Rp(e)?e[e.length-1]||0:e}function I3(e,t){const i=yu(e,t);let{transitionEnd:r={},transition:o={},...u}=i||{};u={...u,...r};for(const c in u){const d=N3(u[c]);M3(e,c,d)}}function O3(e){return!!(Rn(e)&&e.add)}function Cp(e,t){const i=e.getValue("willChange");if(O3(i))return i.add(t);if(!i&&Cs.WillChange){const r=new Cs.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function pA(e){return e.props[rA]}const P3=e=>e!==null;function k3(e,{repeat:t,repeatType:i="loop"},r){const o=e.filter(P3),u=t&&i!=="loop"&&t%2===1?0:o.length-1;return o[u]}const L3={type:"spring",stiffness:500,damping:25,restSpeed:10},j3=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),B3={type:"keyframes",duration:.8},U3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},z3=(e,{keyframes:t})=>t.length>2?B3:Io.has(e)?e.startsWith("scale")?j3(t[1]):L3:U3;function H3({when:e,delay:t,delayChildren:i,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:d,from:m,elapsed:g,...y}){return!!Object.keys(y).length}const iy=(e,t,i,r={},o,u)=>c=>{const d=qg(r,e)||{},m=d.delay||r.delay||0;let{elapsed:g=0}=r;g=g-Fi(m);const y={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:b=>{t.set(b),d.onUpdate&&d.onUpdate(b)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:u?void 0:o};H3(d)||Object.assign(y,z3(e,y)),y.duration&&(y.duration=Fi(y.duration)),y.repeatDelay&&(y.repeatDelay=Fi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(_=!0)),(Cs.instantAnimations||Cs.skipAnimations)&&(_=!0,y.duration=0,y.delay=0),y.allowFlatten=!d.type&&!d.ease,_&&!u&&t.get()!==void 0){const b=k3(y.keyframes,d);if(b!==void 0){Ve.update(()=>{y.onUpdate(b),y.onComplete()});return}}return d.isSync?new zg(y):new EN(y)};function F3({protectedKeys:e,needsAnimating:t},i){const r=e.hasOwnProperty(i)&&t[i]!==!0;return t[i]=!1,r}function gA(e,t,{delay:i=0,transitionOverride:r,type:o}={}){let{transition:u=e.getDefaultTransition(),transitionEnd:c,...d}=t;r&&(u=r);const m=[],g=o&&e.animationState&&e.animationState.getState()[o];for(const y in d){const _=e.getValue(y,e.latestValues[y]??null),b=d[y];if(b===void 0||g&&F3(g,y))continue;const w={delay:i,...qg(u||{},y)},C=_.get();if(C!==void 0&&!_.isAnimating&&!Array.isArray(b)&&b===C&&!w.velocity)continue;let L=!1;if(window.MotionHandoffAnimation){const U=pA(e);if(U){const K=window.MotionHandoffAnimation(U,y,Ve);K!==null&&(w.startTime=K,L=!0)}}Cp(e,y),_.start(iy(y,_,b,e.shouldReduceMotion&&qS.has(y)?{type:!1}:w,e,L));const j=_.animation;j&&m.push(j)}return c&&Promise.all(m).then(()=>{Ve.update(()=>{c&&I3(e,c)})}),m}function Dp(e,t,i={}){var m;const r=yu(e,t,i.type==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=r||{};i.transitionOverride&&(o=i.transitionOverride);const u=r?()=>Promise.all(gA(e,r,i)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(g=0)=>{const{delayChildren:y=0,staggerChildren:_,staggerDirection:b}=o;return q3(e,t,y+g,_,b,i)}:()=>Promise.resolve(),{when:d}=o;if(d){const[g,y]=d==="beforeChildren"?[u,c]:[c,u];return g().then(()=>y())}else return Promise.all([u(),c(i.delay)])}function q3(e,t,i=0,r=0,o=1,u){const c=[],d=(e.variantChildren.size-1)*r,m=o===1?(g=0)=>g*r:(g=0)=>d-g*r;return Array.from(e.variantChildren).sort(G3).forEach((g,y)=>{g.notify("AnimationStart",t),c.push(Dp(g,t,{...u,delay:i+m(y)}).then(()=>g.notify("AnimationComplete",t)))}),Promise.all(c)}function G3(e,t){return e.sortNodePosition(t)}function Y3(e,t,i={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>Dp(e,u,i));r=Promise.all(o)}else if(typeof t=="string")r=Dp(e,t,i);else{const o=typeof t=="function"?yu(e,t,i.custom):t;r=Promise.all(gA(e,o,i))}return r.then(()=>{e.notify("AnimationComplete",t)})}function yA(e,t){if(!Array.isArray(t))return!1;const i=t.length;if(i!==e.length)return!1;for(let r=0;r<i;r++)if(t[r]!==e[r])return!1;return!0}const K3=$g.length;function vA(e){if(!e)return;if(!e.isControllingVariants){const i=e.parent?vA(e.parent)||{}:{};return e.props.initial!==void 0&&(i.initial=e.props.initial),i}const t={};for(let i=0;i<K3;i++){const r=$g[i],o=e.props[r];(pu(o)||o===!1)&&(t[r]=o)}return t}const Q3=[...Xg].reverse(),X3=Xg.length;function $3(e){return t=>Promise.all(t.map(({animation:i,options:r})=>Y3(e,i,r)))}function Z3(e){let t=$3(e),i=ub(),r=!0;const o=m=>(g,y)=>{var b;const _=yu(e,y,m==="exit"?(b=e.presenceContext)==null?void 0:b.custom:void 0);if(_){const{transition:w,transitionEnd:C,...L}=_;g={...g,...L,...C}}return g};function u(m){t=m(e)}function c(m){const{props:g}=e,y=vA(e.parent)||{},_=[],b=new Set;let w={},C=1/0;for(let j=0;j<X3;j++){const U=Q3[j],K=i[U],Q=g[U]!==void 0?g[U]:y[U],lt=pu(Q),q=U===m?K.isActive:null;q===!1&&(C=j);let st=Q===y[U]&&Q!==g[U]&&lt;if(st&&r&&e.manuallyAnimateOnMount&&(st=!1),K.protectedKeys={...w},!K.isActive&&q===null||!Q&&!K.prevProp||pf(Q)||typeof Q=="boolean")continue;const V=W3(K.prevProp,Q);let R=V||U===m&&K.isActive&&!st&&lt||j>C&&lt,D=!1;const O=Array.isArray(Q)?Q:[Q];let P=O.reduce(o(U),{});q===!1&&(P={});const{prevResolvedValues:z={}}=K,N={...z,...P},he=at=>{R=!0,b.has(at)&&(D=!0,b.delete(at)),K.needsAnimating[at]=!0;const ft=e.getValue(at);ft&&(ft.liveStyle=!1)};for(const at in N){const ft=P[at],zt=z[at];if(w.hasOwnProperty(at))continue;let I=!1;Rp(ft)&&Rp(zt)?I=!yA(ft,zt):I=ft!==zt,I?ft!=null?he(at):b.add(at):ft!==void 0&&b.has(at)?he(at):K.protectedKeys[at]=!0}K.prevProp=Q,K.prevResolvedValues=P,K.isActive&&(w={...w,...P}),r&&e.blockInitialAnimation&&(R=!1),R&&(!(st&&V)||D)&&_.push(...O.map(at=>({animation:at,options:{type:U}})))}if(b.size){const j={};if(typeof g.initial!="boolean"){const U=yu(e,Array.isArray(g.initial)?g.initial[0]:g.initial);U&&U.transition&&(j.transition=U.transition)}b.forEach(U=>{const K=e.getBaseTarget(U),Q=e.getValue(U);Q&&(Q.liveStyle=!0),j[U]=K??null}),_.push({animation:j})}let L=!!_.length;return r&&(g.initial===!1||g.initial===g.animate)&&!e.manuallyAnimateOnMount&&(L=!1),r=!1,L?t(_):Promise.resolve()}function d(m,g){var _;if(i[m].isActive===g)return Promise.resolve();(_=e.variantChildren)==null||_.forEach(b=>{var w;return(w=b.animationState)==null?void 0:w.setActive(m,g)}),i[m].isActive=g;const y=c(m);for(const b in i)i[b].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:u,getState:()=>i,reset:()=>{i=ub(),r=!0}}}function W3(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!yA(t,e):!1}function Wr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ub(){return{animate:Wr(!0),whileInView:Wr(),whileHover:Wr(),whileTap:Wr(),whileDrag:Wr(),whileFocus:Wr(),exit:Wr()}}class Tr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class J3 extends Tr{constructor(t){super(t),t.animationState||(t.animationState=Z3(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();pf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:i}=this.node.prevProps||{};t!==i&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let tI=0;class eI extends Tr{constructor(){super(...arguments),this.id=tI++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);i&&!t&&o.then(()=>{i(this.id)})}mount(){const{register:t,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const nI={animation:{Feature:J3},exit:{Feature:eI}};function vu(e,t,i,r={passive:!0}){return e.addEventListener(t,i,r),()=>e.removeEventListener(t,i)}function Du(e){return{point:{x:e.pageX,y:e.pageY}}}const iI=e=>t=>Kg(t)&&e(t,Du(t));function Wl(e,t,i,r){return vu(e,t,iI(i),r)}function _A({top:e,left:t,right:i,bottom:r}){return{x:{min:t,max:i},y:{min:e,max:r}}}function sI({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function rI(e,t){if(!t)return e;const i=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:i.y,left:i.x,bottom:r.y,right:r.x}}const TA=1e-4,aI=1-TA,oI=1+TA,bA=.01,lI=0-bA,uI=0+bA;function Nn(e){return e.max-e.min}function cI(e,t,i){return Math.abs(e-t)<=i}function cb(e,t,i,r=.5){e.origin=r,e.originPoint=Ce(t.min,t.max,e.origin),e.scale=Nn(i)/Nn(t),e.translate=Ce(i.min,i.max,e.origin)-e.originPoint,(e.scale>=aI&&e.scale<=oI||isNaN(e.scale))&&(e.scale=1),(e.translate>=lI&&e.translate<=uI||isNaN(e.translate))&&(e.translate=0)}function Jl(e,t,i,r){cb(e.x,t.x,i.x,r?r.originX:void 0),cb(e.y,t.y,i.y,r?r.originY:void 0)}function hb(e,t,i){e.min=i.min+t.min,e.max=e.min+Nn(t)}function hI(e,t,i){hb(e.x,t.x,i.x),hb(e.y,t.y,i.y)}function fb(e,t,i){e.min=t.min-i.min,e.max=e.min+Nn(t)}function tu(e,t,i){fb(e.x,t.x,i.x),fb(e.y,t.y,i.y)}const db=()=>({translate:0,scale:1,origin:0,originPoint:0}),oo=()=>({x:db(),y:db()}),mb=()=>({min:0,max:0}),Ue=()=>({x:mb(),y:mb()});function fi(e){return[e("x"),e("y")]}function Lm(e){return e===void 0||e===1}function Vp({scale:e,scaleX:t,scaleY:i}){return!Lm(e)||!Lm(t)||!Lm(i)}function ta(e){return Vp(e)||EA(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function EA(e){return pb(e.x)||pb(e.y)}function pb(e){return e&&e!=="0%"}function Fh(e,t,i){const r=e-i,o=t*r;return i+o}function gb(e,t,i,r,o){return o!==void 0&&(e=Fh(e,o,r)),Fh(e,i,r)+t}function Mp(e,t=0,i=1,r,o){e.min=gb(e.min,t,i,r,o),e.max=gb(e.max,t,i,r,o)}function SA(e,{x:t,y:i}){Mp(e.x,t.translate,t.scale,t.originPoint),Mp(e.y,i.translate,i.scale,i.originPoint)}const yb=.999999999999,vb=1.0000000000001;function fI(e,t,i,r=!1){const o=i.length;if(!o)return;t.x=t.y=1;let u,c;for(let d=0;d<o;d++){u=i[d],c=u.projectionDelta;const{visualElement:m}=u.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&uo(e,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,SA(e,c)),r&&ta(u.latestValues)&&uo(e,u.latestValues))}t.x<vb&&t.x>yb&&(t.x=1),t.y<vb&&t.y>yb&&(t.y=1)}function lo(e,t){e.min=e.min+t,e.max=e.max+t}function _b(e,t,i,r,o=.5){const u=Ce(e.min,e.max,o);Mp(e,t,i,u,r)}function uo(e,t){_b(e.x,t.x,t.scaleX,t.scale,t.originX),_b(e.y,t.y,t.scaleY,t.scale,t.originY)}function AA(e,t){return _A(rI(e.getBoundingClientRect(),t))}function dI(e,t,i){const r=AA(e,i),{scroll:o}=t;return o&&(lo(r.x,o.offset.x),lo(r.y,o.offset.y)),r}const xA=({current:e})=>e?e.ownerDocument.defaultView:null,Tb=(e,t)=>Math.abs(e-t);function mI(e,t){const i=Tb(e.x,t.x),r=Tb(e.y,t.y);return Math.sqrt(i**2+r**2)}class wA{constructor(t,i,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:u=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Bm(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,w=mI(_.offset,{x:0,y:0})>=3;if(!b&&!w)return;const{point:C}=_,{timestamp:L}=pn;this.history.push({...C,timestamp:L});const{onStart:j,onMove:U}=this.handlers;b||(j&&j(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),U&&U(this.lastMoveEvent,_)},this.handlePointerMove=(_,b)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=jm(b,this.transformPagePoint),Ve.update(this.updatePoint,!0)},this.handlePointerUp=(_,b)=>{this.end();const{onEnd:w,onSessionEnd:C,resumeAnimation:L}=this.handlers;if(this.dragSnapToOrigin&&L&&L(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=Bm(_.type==="pointercancel"?this.lastMoveEventInfo:jm(b,this.transformPagePoint),this.history);this.startEvent&&w&&w(_,j),C&&C(_,j)},!Kg(t))return;this.dragSnapToOrigin=u,this.handlers=i,this.transformPagePoint=r,this.contextWindow=o||window;const c=Du(t),d=jm(c,this.transformPagePoint),{point:m}=d,{timestamp:g}=pn;this.history=[{...m,timestamp:g}];const{onSessionStart:y}=i;y&&y(t,Bm(d,this.history)),this.removeListeners=wu(Wl(this.contextWindow,"pointermove",this.handlePointerMove),Wl(this.contextWindow,"pointerup",this.handlePointerUp),Wl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),gr(this.updatePoint)}}function jm(e,t){return t?{point:t(e.point)}:e}function bb(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Bm({point:e},t){return{point:e,delta:bb(e,RA(t)),offset:bb(e,pI(t)),velocity:gI(t,.1)}}function pI(e){return e[0]}function RA(e){return e[e.length-1]}function gI(e,t){if(e.length<2)return{x:0,y:0};let i=e.length-1,r=null;const o=RA(e);for(;i>=0&&(r=e[i],!(o.timestamp-r.timestamp>Fi(t)));)i--;if(!r)return{x:0,y:0};const u=qi(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function yI(e,{min:t,max:i},r){return t!==void 0&&e<t?e=r?Ce(t,e,r.min):Math.max(e,t):i!==void 0&&e>i&&(e=r?Ce(i,e,r.max):Math.min(e,i)),e}function Eb(e,t,i){return{min:t!==void 0?e.min+t:void 0,max:i!==void 0?e.max+i-(e.max-e.min):void 0}}function vI(e,{top:t,left:i,bottom:r,right:o}){return{x:Eb(e.x,i,o),y:Eb(e.y,t,r)}}function Sb(e,t){let i=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([i,r]=[r,i]),{min:i,max:r}}function _I(e,t){return{x:Sb(e.x,t.x),y:Sb(e.y,t.y)}}function TI(e,t){let i=.5;const r=Nn(e),o=Nn(t);return o>r?i=fu(t.min,t.max-r,e.min):r>o&&(i=fu(e.min,e.max-o,t.min)),Rs(0,1,i)}function bI(e,t){const i={};return t.min!==void 0&&(i.min=t.min-e.min),t.max!==void 0&&(i.max=t.max-e.min),i}const Np=.35;function EI(e=Np){return e===!1?e=0:e===!0&&(e=Np),{x:Ab(e,"left","right"),y:Ab(e,"top","bottom")}}function Ab(e,t,i){return{min:xb(e,t),max:xb(e,i)}}function xb(e,t){return typeof e=="number"?e:e[t]||0}const SI=new WeakMap;class AI{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ue(),this.visualElement=t}start(t,{snapToCursor:i=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=y=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(Du(y).point)},u=(y,_)=>{const{drag:b,dragPropagation:w,onDragStart:C}=this.getProps();if(b&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=jN(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fi(j=>{let U=this.getAxisMotionValue(j).get()||0;if(Gi.test(U)){const{projection:K}=this.visualElement;if(K&&K.layout){const Q=K.layout.layoutBox[j];Q&&(U=Nn(Q)*(parseFloat(U)/100))}}this.originPoint[j]=U}),C&&Ve.postRender(()=>C(y,_)),Cp(this.visualElement,"transform");const{animationState:L}=this.visualElement;L&&L.setActive("whileDrag",!0)},c=(y,_)=>{const{dragPropagation:b,dragDirectionLock:w,onDirectionLock:C,onDrag:L}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:j}=_;if(w&&this.currentDirection===null){this.currentDirection=xI(j),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",_.point,j),this.updateAxis("y",_.point,j),this.visualElement.render(),L&&L(y,_)},d=(y,_)=>this.stop(y,_),m=()=>fi(y=>{var _;return this.getAnimationState(y)==="paused"&&((_=this.getAxisMotionValue(y).animation)==null?void 0:_.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new wA(t,{onSessionStart:o,onStart:u,onMove:c,onSessionEnd:d,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,contextWindow:xA(this.visualElement)})}stop(t,i){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:u}=this.getProps();u&&Ve.postRender(()=>u(t,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:i}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(t,i,r){const{drag:o}=this.getProps();if(!r||!rh(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=yI(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){var u;const{dragConstraints:t,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(u=this.visualElement.projection)==null?void 0:u.layout,o=this.constraints;t&&ao(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=vI(r.layoutBox,t):this.constraints=!1,this.elastic=EI(i),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&fi(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=bI(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!ao(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=dI(r,o.root,this.visualElement.getTransformPagePoint());let c=_I(o.layout.layoutBox,u);if(i){const d=i(sI(c));this.hasMutatedConstraints=!!d,d&&(c=_A(d))}return c}startAnimation(t){const{drag:i,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},g=fi(y=>{if(!rh(y,i,this.currentDirection))return;let _=m&&m[y]||{};c&&(_={min:0,max:0});const b=o?200:1e6,w=o?40:1e7,C={type:"inertia",velocity:r?t[y]:0,bounceStiffness:b,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...u,..._};return this.startAxisValueAnimation(y,C)});return Promise.all(g).then(d)}startAxisValueAnimation(t,i){const r=this.getAxisMotionValue(t);return Cp(this.visualElement,t),r.start(iy(t,r,0,i,this.visualElement,!1))}stopAnimation(){fi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){fi(t=>{var i;return(i=this.getAxisMotionValue(t).animation)==null?void 0:i.pause()})}getAnimationState(t){var i;return(i=this.getAxisMotionValue(t).animation)==null?void 0:i.state}getAxisMotionValue(t){const i=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[i];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){fi(i=>{const{drag:r}=this.getProps();if(!rh(i,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(i);if(o&&o.layout){const{min:c,max:d}=o.layout.layoutBox[i];u.set(t[i]-Ce(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:i}=this.getProps(),{projection:r}=this.visualElement;if(!ao(i)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};fi(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();o[c]=TI({min:m,max:m},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),fi(c=>{if(!rh(c,t,null))return;const d=this.getAxisMotionValue(c),{min:m,max:g}=this.constraints[c];d.set(Ce(m,g,o[c]))})}addListeners(){if(!this.visualElement.current)return;SI.set(this.visualElement,this);const t=this.visualElement.current,i=Wl(t,"pointerdown",m=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();ao(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Ve.read(r);const c=vu(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(fi(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=m[y].translate,_.set(_.get()+m[y].translate))}),this.visualElement.render())});return()=>{c(),i(),u(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=Np,dragMomentum:d=!0}=t;return{...t,drag:i,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:d}}}function rh(e,t,i){return(t===!0||t===e)&&(i===null||i===e)}function xI(e,t=10){let i=null;return Math.abs(e.y)>t?i="y":Math.abs(e.x)>t&&(i="x"),i}class wI extends Tr{constructor(t){super(t),this.removeGroupControls=di,this.removeListeners=di,this.controls=new AI(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||di}unmount(){this.removeGroupControls(),this.removeListeners()}}const wb=e=>(t,i)=>{e&&Ve.postRender(()=>e(t,i))};class RI extends Tr{constructor(){super(...arguments),this.removePointerDownListener=di}onPointerDown(t){this.session=new wA(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:xA(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:i,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:wb(t),onStart:wb(i),onMove:r,onEnd:(u,c)=>{delete this.session,o&&Ve.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=Wl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Eh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Rb(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Bl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ot.test(e))e=parseFloat(e);else return e;const i=Rb(e,t.target.x),r=Rb(e,t.target.y);return`${i}% ${r}%`}},CI={correct:(e,{treeScale:t,projectionDelta:i})=>{const r=e,o=yr.parse(e);if(o.length>5)return r;const u=yr.createTransformer(e),c=typeof o[0]!="number"?1:0,d=i.x.scale*t.x,m=i.y.scale*t.y;o[0+c]/=d,o[1+c]/=m;const g=Ce(d,m,.5);return typeof o[2+c]=="number"&&(o[2+c]/=g),typeof o[3+c]=="number"&&(o[3+c]/=g),u(o)}};class DI extends k.Component{componentDidMount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;d3(VI),u&&(i.group&&i.group.add(u),r&&r.register&&o&&r.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Eh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:i,visualElement:r,drag:o,isPresent:u}=this.props,{projection:c}=r;return c&&(c.isPresent=u,o||t.layoutDependency!==i||i===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||Ve.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Yg.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function CA(e){const[t,i]=tA(),r=k.useContext(Sg);return x.jsx(DI,{...e,layoutGroup:r,switchLayoutGroup:k.useContext(aA),isPresent:t,safeToRemove:i})}const VI={borderRadius:{...Bl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bl,borderTopRightRadius:Bl,borderBottomLeftRadius:Bl,borderBottomRightRadius:Bl,boxShadow:CI};function MI(e,t,i){const r=Rn(e)?e:Eo(e);return r.start(iy("",r,t,i)),r.animation}const NI=(e,t)=>e.depth-t.depth;class II{constructor(){this.children=[],this.isDirty=!1}add(t){wg(this.children,t),this.isDirty=!0}remove(t){Rg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(NI),this.isDirty=!1,this.children.forEach(t)}}function OI(e,t){const i=Bn.now(),r=({timestamp:o})=>{const u=o-i;u>=t&&(gr(r),e(u-t))};return Ve.setup(r,!0),()=>gr(r)}const DA=["TopLeft","TopRight","BottomLeft","BottomRight"],PI=DA.length,Cb=e=>typeof e=="string"?parseFloat(e):e,Db=e=>typeof e=="number"||Ot.test(e);function kI(e,t,i,r,o,u){o?(e.opacity=Ce(0,i.opacity??1,LI(r)),e.opacityExit=Ce(t.opacity??1,0,jI(r))):u&&(e.opacity=Ce(t.opacity??1,i.opacity??1,r));for(let c=0;c<PI;c++){const d=`border${DA[c]}Radius`;let m=Vb(t,d),g=Vb(i,d);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||Db(m)===Db(g)?(e[d]=Math.max(Ce(Cb(m),Cb(g),r),0),(Gi.test(g)||Gi.test(m))&&(e[d]+="%")):e[d]=g}(t.rotate||i.rotate)&&(e.rotate=Ce(t.rotate||0,i.rotate||0,r))}function Vb(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const LI=VA(0,.5,bS),jI=VA(.5,.95,di);function VA(e,t,i){return r=>r<e?0:r>t?1:i(fu(e,t,r))}function Mb(e,t){e.min=t.min,e.max=t.max}function hi(e,t){Mb(e.x,t.x),Mb(e.y,t.y)}function Nb(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Ib(e,t,i,r,o){return e-=t,e=Fh(e,1/i,r),o!==void 0&&(e=Fh(e,1/o,r)),e}function BI(e,t=0,i=1,r=.5,o,u=e,c=e){if(Gi.test(t)&&(t=parseFloat(t),t=Ce(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=Ce(u.min,u.max,r);e===u&&(d-=t),e.min=Ib(e.min,t,i,d,o),e.max=Ib(e.max,t,i,d,o)}function Ob(e,t,[i,r,o],u,c){BI(e,t[i],t[r],t[o],t.scale,u,c)}const UI=["x","scaleX","originX"],zI=["y","scaleY","originY"];function Pb(e,t,i,r){Ob(e.x,t,UI,i?i.x:void 0,r?r.x:void 0),Ob(e.y,t,zI,i?i.y:void 0,r?r.y:void 0)}function kb(e){return e.translate===0&&e.scale===1}function MA(e){return kb(e.x)&&kb(e.y)}function Lb(e,t){return e.min===t.min&&e.max===t.max}function HI(e,t){return Lb(e.x,t.x)&&Lb(e.y,t.y)}function jb(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function NA(e,t){return jb(e.x,t.x)&&jb(e.y,t.y)}function Bb(e){return Nn(e.x)/Nn(e.y)}function Ub(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class FI{constructor(){this.members=[]}add(t){wg(this.members,t),t.scheduleRender()}remove(t){if(Rg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(t){const i=this.members.findIndex(o=>t===o);if(i===0)return!1;let r;for(let o=i;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,i){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,i&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:i,resumingFrom:r}=t;i.onExitComplete&&i.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function qI(e,t,i){let r="";const o=e.x.translate/t.x,u=e.y.translate/t.y,c=(i==null?void 0:i.z)||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),i){const{transformPerspective:g,rotate:y,rotateX:_,rotateY:b,skewX:w,skewY:C}=i;g&&(r=`perspective(${g}px) ${r}`),y&&(r+=`rotate(${y}deg) `),_&&(r+=`rotateX(${_}deg) `),b&&(r+=`rotateY(${b}deg) `),w&&(r+=`skewX(${w}deg) `),C&&(r+=`skewY(${C}deg) `)}const d=e.x.scale*t.x,m=e.y.scale*t.y;return(d!==1||m!==1)&&(r+=`scale(${d}, ${m})`),r||"none"}const Um=["","X","Y","Z"],GI={visibility:"hidden"},YI=1e3;let KI=0;function zm(e,t,i,r){const{latestValues:o}=t;o[e]&&(i[e]=o[e],t.setStaticValue(e,0),r&&(r[e]=0))}function IA(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const i=pA(t);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:o,layoutId:u}=e.options;window.MotionCancelOptimisedAnimation(i,"transform",Ve,!(o||u))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&IA(r)}function OA({attachResizeListener:e,defaultParent:t,measureScroll:i,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},d=t==null?void 0:t()){this.id=KI++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach($I),this.nodes.forEach(e6),this.nodes.forEach(n6),this.nodes.forEach(ZI)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new II)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Vg),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=JS(c)&&!qN(c),this.instance=c;const{layoutId:d,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),e){let y;const _=()=>this.root.updateBlockedByResize=!1;e(c,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=OI(_,250),Eh.hasAnimatedSinceResize&&(Eh.hasAnimatedSinceResize=!1,this.nodes.forEach(Hb))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:b,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||g.getDefaultTransition()||o6,{onLayoutAnimationStart:L,onLayoutAnimationComplete:j}=g.getProps(),U=!this.targetLayout||!NA(this.targetLayout,w),K=!_&&b;if(this.options.layoutRoot||this.resumeFrom||K||_&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Q={...qg(C,"layout"),onPlay:L,onComplete:j};(g.shouldReduceMotion||this.options.layoutRoot)&&(Q.delay=0,Q.type=!1),this.startAnimation(Q),this.setAnimationOrigin(y,K)}else _||Hb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),gr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(i6),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&IA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(zb);return}this.isUpdating||this.nodes.forEach(JI),this.isUpdating=!1,this.nodes.forEach(t6),this.nodes.forEach(QI),this.nodes.forEach(XI),this.clearAllSnapshots();const d=Bn.now();pn.delta=Rs(0,1e3/60,d-pn.timestamp),pn.timestamp=d,pn.isProcessing=!0,Mm.update.process(pn),Mm.preRender.process(pn),Mm.render.process(pn),pn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Yg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(WI),this.sharedNodes.forEach(s6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ve.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ve.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Nn(this.snapshot.measuredBox.x)&&!Nn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ue(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!MA(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;c&&this.instance&&(d||ta(this.latestValues)||y)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),l6(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var g;const{visualElement:c}=this.options;if(!c)return Ue();const d=c.measureViewportBox();if(!(((g=this.scroll)==null?void 0:g.wasRoot)||this.path.some(u6))){const{scroll:y}=this.root;y&&(lo(d.x,y.offset.x),lo(d.y,y.offset.y))}return d}removeElementScroll(c){var m;const d=Ue();if(hi(d,c),(m=this.scroll)!=null&&m.wasRoot)return d;for(let g=0;g<this.path.length;g++){const y=this.path[g],{scroll:_,options:b}=y;y!==this.root&&_&&b.layoutScroll&&(_.wasRoot&&hi(d,c),lo(d.x,_.offset.x),lo(d.y,_.offset.y))}return d}applyTransform(c,d=!1){const m=Ue();hi(m,c);for(let g=0;g<this.path.length;g++){const y=this.path[g];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&uo(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),ta(y.latestValues)&&uo(m,y.latestValues)}return ta(this.latestValues)&&uo(m,this.latestValues),m}removeTransform(c){const d=Ue();hi(d,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!ta(g.latestValues))continue;Vp(g.latestValues)&&g.updateSnapshot();const y=Ue(),_=g.measurePageBox();hi(y,_),Pb(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return ta(this.latestValues)&&Pb(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==pn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var b;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!(!this.layout||!(y||_))){if(this.resolvedRelativeTargetAt=pn.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ue(),this.relativeTargetOrigin=Ue(),tu(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),hi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ue(),this.targetWithTransforms=Ue()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),hI(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):hi(this.target,this.layout.layoutBox),SA(this.target,this.targetDelta)):hi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ue(),this.relativeTargetOrigin=Ue(),tu(this.relativeTargetOrigin,this.target,w.target),hi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Vp(this.parent.latestValues)||EA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var C;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||(C=this.parent)!=null&&C.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===pn.timestamp&&(m=!1),m)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;hi(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,b=this.treeScale.y;fI(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ue());const{target:w}=c;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Nb(this.prevProjectionDelta.x,this.projectionDelta.x),Nb(this.prevProjectionDelta.y,this.projectionDelta.y)),Jl(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==b||!Ub(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ub(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=oo(),this.projectionDelta=oo(),this.projectionDeltaWithTransform=oo()}setAnimationOrigin(c,d=!1){const m=this.snapshot,g=m?m.latestValues:{},y={...this.latestValues},_=oo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const b=Ue(),w=m?m.source:void 0,C=this.layout?this.layout.source:void 0,L=w!==C,j=this.getStack(),U=!j||j.members.length<=1,K=!!(L&&!U&&this.options.crossfade===!0&&!this.path.some(a6));this.animationProgress=0;let Q;this.mixTargetDelta=lt=>{const q=lt/1e3;Fb(_.x,c.x,q),Fb(_.y,c.y,q),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(tu(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),r6(this.relativeTarget,this.relativeTargetOrigin,b,q),Q&&HI(this.relativeTarget,Q)&&(this.isProjectionDirty=!1),Q||(Q=Ue()),hi(Q,this.relativeTarget)),L&&(this.animationValues=y,kI(y,g,this.latestValues,q,K,U)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var d,m,g;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(g=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||g.stop(),this.pendingAnimation&&(gr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ve.update(()=>{Eh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Eo(0)),this.currentAnimation=MI(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:y=>{this.mixTargetDelta(y),c.onUpdate&&c.onUpdate(y)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(YI),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:g,latestValues:y}=c;if(!(!d||!m||!g)){if(this!==c&&this.layout&&g&&PA(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||Ue();const _=Nn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+_;const b=Nn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+b}hi(d,m),uo(d,y),Jl(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new FI),this.sharedNodes.get(c).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var d;const{layoutId:c}=this.options;return c?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:c}=this.options;return c?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const g={};m.z&&zm("z",c,g,this.animationValues);for(let y=0;y<Um.length;y++)zm(`rotate${Um[y]}`,c,g,this.animationValues),zm(`skew${Um[y]}`,c,g,this.animationValues);c.render();for(const y in g)c.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return GI;const d={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=bh(c==null?void 0:c.pointerEvents)||"",d.transform=m?m(this.latestValues,""):"none",d;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=bh(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!ta(this.latestValues)&&(w.transform=m?m({},""):"none",this.hasProjected=!1),w}const y=g.animationValues||g.latestValues;this.applyTransformsToTarget(),d.transform=qI(this.projectionDeltaWithTransform,this.treeScale,y),m&&(d.transform=m(y,d.transform));const{x:_,y:b}=this.projectionDelta;d.transformOrigin=`${_.origin*100}% ${b.origin*100}% 0`,g.animationValues?d.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:d.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const w in gu){if(y[w]===void 0)continue;const{correct:C,applyTo:L,isCSSVariable:j}=gu[w],U=d.transform==="none"?y[w]:C(y[w],g);if(L){const K=L.length;for(let Q=0;Q<K;Q++)d[L[Q]]=U}else j?this.options.visualElement.renderState.vars[w]=U:d[w]=U}return this.options.layoutId&&(d.pointerEvents=g===this?bh(c==null?void 0:c.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(zb),this.root.sharedNodes.clear()}}}function QI(e){e.updateLayout()}function XI(e){var i;const t=((i=e.resumeFrom)==null?void 0:i.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=e.layout,{animationType:u}=e.options,c=t.source!==e.layout.source;u==="size"?fi(_=>{const b=c?t.measuredBox[_]:t.layoutBox[_],w=Nn(b);b.min=r[_].min,b.max=b.min+w}):PA(u,t.layoutBox,r)&&fi(_=>{const b=c?t.measuredBox[_]:t.layoutBox[_],w=Nn(r[_]);b.max=b.min+w,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[_].max=e.relativeTarget[_].min+w)});const d=oo();Jl(d,r,t.layoutBox);const m=oo();c?Jl(m,e.applyTransform(o,!0),t.measuredBox):Jl(m,r,t.layoutBox);const g=!MA(d);let y=!1;if(!e.resumeFrom){const _=e.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:b,layout:w}=_;if(b&&w){const C=Ue();tu(C,t.layoutBox,b.layoutBox);const L=Ue();tu(L,r,w.layoutBox),NA(C,L)||(y=!0),_.options.layoutRoot&&(e.relativeTarget=L,e.relativeTargetOrigin=C,e.relativeParent=_)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:m,layoutDelta:d,hasLayoutChanged:g,hasRelativeLayoutChanged:y})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function $I(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function ZI(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function WI(e){e.clearSnapshot()}function zb(e){e.clearMeasurements()}function JI(e){e.isLayoutDirty=!1}function t6(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Hb(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function e6(e){e.resolveTargetDelta()}function n6(e){e.calcProjection()}function i6(e){e.resetSkewAndRotation()}function s6(e){e.removeLeadSnapshot()}function Fb(e,t,i){e.translate=Ce(t.translate,0,i),e.scale=Ce(t.scale,1,i),e.origin=t.origin,e.originPoint=t.originPoint}function qb(e,t,i,r){e.min=Ce(t.min,i.min,r),e.max=Ce(t.max,i.max,r)}function r6(e,t,i,r){qb(e.x,t.x,i.x,r),qb(e.y,t.y,i.y,r)}function a6(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const o6={duration:.45,ease:[.4,0,.1,1]},Gb=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Yb=Gb("applewebkit/")&&!Gb("chrome/")?Math.round:di;function Kb(e){e.min=Yb(e.min),e.max=Yb(e.max)}function l6(e){Kb(e.x),Kb(e.y)}function PA(e,t,i){return e==="position"||e==="preserve-aspect"&&!cI(Bb(t),Bb(i),.2)}function u6(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const c6=OA({attachResizeListener:(e,t)=>vu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Hm={current:void 0},kA=OA({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Hm.current){const e=new c6({});e.mount(window),e.setOptions({layoutScroll:!0}),Hm.current=e}return Hm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),h6={pan:{Feature:RI},drag:{Feature:wI,ProjectionNode:kA,MeasureLayout:CA}};function Qb(e,t,i){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",i==="Start");const o="onHover"+i,u=r[o];u&&Ve.postRender(()=>u(t,Du(t)))}class f6 extends Tr{mount(){const{current:t}=this.node;t&&(this.unmount=BN(t,(i,r)=>(Qb(this.node,r,"Start"),o=>Qb(this.node,o,"End"))))}unmount(){}}class d6 extends Tr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wu(vu(this.node.current,"focus",()=>this.onFocus()),vu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Xb(e,t,i){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",i==="Start");const o="onTap"+(i==="End"?"":i),u=r[o];u&&Ve.postRender(()=>u(t,Du(t)))}class m6 extends Tr{mount(){const{current:t}=this.node;t&&(this.unmount=FN(t,(i,r)=>(Xb(this.node,r,"Start"),(o,{success:u})=>Xb(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ip=new WeakMap,Fm=new WeakMap,p6=e=>{const t=Ip.get(e.target);t&&t(e)},g6=e=>{e.forEach(p6)};function y6({root:e,...t}){const i=e||document;Fm.has(i)||Fm.set(i,{});const r=Fm.get(i),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(g6,{root:e,...t})),r[o]}function v6(e,t,i){const r=y6(t);return Ip.set(e,i),r.observe(e),()=>{Ip.delete(e),r.unobserve(e)}}const _6={some:0,all:1};class T6 extends Tr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:i,margin:r,amount:o="some",once:u}=t,c={root:i?i.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:_6[o]},d=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),b=g?y:_;b&&b(m)};return v6(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:i}=this.node;["amount","margin","root"].some(b6(t,i))&&this.startObserver()}unmount(){}}function b6({viewport:e={}},{viewport:t={}}={}){return i=>e[i]!==t[i]}const E6={inView:{Feature:T6},tap:{Feature:m6},focus:{Feature:d6},hover:{Feature:f6}},S6={layout:{ProjectionNode:kA,MeasureLayout:CA}},Op={current:null},LA={current:!1};function A6(){if(LA.current=!0,!!xg)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Op.current=e.matches;e.addListener(t),t()}else Op.current=!1}const x6=new WeakMap;function w6(e,t,i){for(const r in t){const o=t[r],u=i[r];if(Rn(o))e.addValue(r,o);else if(Rn(u))e.addValue(r,Eo(o,{owner:e}));else if(u!==o)if(e.hasValue(r)){const c=e.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=e.getStaticValue(r);e.addValue(r,Eo(c!==void 0?c:o,{owner:e}))}}for(const r in i)t[r]===void 0&&e.removeValue(r);return t}const $b=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class R6{scrapeMotionValuesFromProps(t,i,r){return{}}constructor({parent:t,props:i,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Hg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Bn.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Ve.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=i.initial?{...m}:{},this.renderState=g,this.parent=t,this.props=i,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!u,this.isControllingVariants=gf(i),this.isVariantNode=sA(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(i,{},this);for(const b in _){const w=_[b];m[b]!==void 0&&Rn(w)&&w.set(m[b],!1)}}mount(t){this.current=t,x6.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,r)=>this.bindToMotionValue(r,i)),LA.current||A6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Op.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),gr(this.notifyUpdate),gr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const i=this.features[t];i&&(i.unmount(),i.isMounted=!1)}this.current=null}bindToMotionValue(t,i){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Io.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=i.on("change",d=>{this.latestValues[t]=d,this.props.onUpdate&&Ve.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),u=i.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,i)),this.valueSubscriptions.set(t,()=>{o(),u(),c&&c(),i.owner&&i.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in So){const i=So[t];if(!i)continue;const{isEnabled:r,Feature:o}=i;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ue()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,i){this.latestValues[t]=i}update(t,i){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let r=0;r<$b.length;r++){const o=$b[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=w6(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(t),()=>i.variantChildren.delete(t)}addValue(t,i){const r=this.values.get(t);i!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,i),this.values.set(t,i),this.latestValues[t]=i.get())}removeValue(t){this.values.delete(t);const i=this.valueSubscriptions.get(t);i&&(i(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,i){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&i!==void 0&&(r=Eo(i===null?void 0:i,{owner:this}),this.addValue(t,r)),r}readValue(t,i){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(hS(r)||dS(r))?r=parseFloat(r):!YN(r)&&yr.test(i)&&(r=QS(t,i)),this.setBaseTarget(t,Rn(r)?r.get():r)),Rn(r)?r.get():r}setBaseTarget(t,i){this.baseTarget[t]=i}getBaseTarget(t){var u;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const c=ey(this.props,i,(u=this.presenceContext)==null?void 0:u.custom);c&&(r=c[t])}if(i&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Rn(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,i){return this.events[t]||(this.events[t]=new Vg),this.events[t].add(i)}notify(t,...i){this.events[t]&&this.events[t].notify(...i)}}class jA extends R6{constructor(){super(...arguments),this.KeyframeResolver=ON}sortInstanceNodePosition(t,i){return t.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(t,i){return t.style?t.style[i]:void 0}removeValueFromRenderState(t,{vars:i,style:r}){delete i[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Rn(t)&&(this.childSubscription=t.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function BA(e,{style:t,vars:i},r,o){Object.assign(e.style,t,o&&o.getProjectionStyles(r));for(const u in i)e.style.setProperty(u,i[u])}function C6(e){return window.getComputedStyle(e)}class D6 extends jA{constructor(){super(...arguments),this.type="html",this.renderInstance=BA}readValueFromInstance(t,i){var r;if(Io.has(i))return(r=this.projection)!=null&&r.isProjecting?bp(i):JM(t,i);{const o=C6(t),u=(Ig(i)?o.getPropertyValue(i):o[i])||0;return typeof u=="string"?u.trim():u}}measureInstanceViewportBox(t,{transformPagePoint:i}){return AA(t,i)}build(t,i,r){Wg(t,i,r.transformTemplate)}scrapeMotionValuesFromProps(t,i,r){return ny(t,i,r)}}const UA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function V6(e,t,i,r){BA(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(UA.has(o)?o:Zg(o),t.attrs[o])}class M6 extends jA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ue}getBaseTargetFromProps(t,i){return t[i]}readValueFromInstance(t,i){if(Io.has(i)){const r=KS(i);return r&&r.default||0}return i=UA.has(i)?i:Zg(i),t.getAttribute(i)}scrapeMotionValuesFromProps(t,i,r){return mA(t,i,r)}build(t,i,r){cA(t,i,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,i,r,o){V6(t,i,r,o)}mount(t){this.isSVGTag=fA(t.tagName),super.mount(t)}}const N6=(e,t)=>ty(e)?new M6(t):new D6(t,{allowProjection:e!==k.Fragment}),I6=V3({...nI,...E6,...h6,...S6},N6),ir=e3(I6);var zA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Zb=sr.createContext&&sr.createContext(zA),O6=["attr","size","title"];function P6(e,t){if(e==null)return{};var i=k6(e,t),r,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)r=u[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function k6(e,t){if(e==null)return{};var i={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;i[r]=e[r]}return i}function qh(){return qh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},qh.apply(this,arguments)}function Wb(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),i.push.apply(i,r)}return i}function Gh(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?Wb(Object(i),!0).forEach(function(r){L6(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Wb(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})}return e}function L6(e,t,i){return t=j6(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function j6(e){var t=B6(e,"string");return typeof t=="symbol"?t:t+""}function B6(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HA(e){return e&&e.map((t,i)=>sr.createElement(t.tag,Gh({key:i},t.attr),HA(t.child)))}function yf(e){return t=>sr.createElement(U6,qh({attr:Gh({},e.attr)},t),HA(e.child))}function U6(e){var t=i=>{var{attr:r,size:o,title:u}=e,c=P6(e,O6),d=o||i.size||"1em",m;return i.className&&(m=i.className),e.className&&(m=(m?m+" ":"")+e.className),sr.createElement("svg",qh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,r,c,{className:m,style:Gh(Gh({color:e.color||i.color},i.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),u&&sr.createElement("title",null,u),e.children)};return Zb!==void 0?sr.createElement(Zb.Consumer,null,i=>t(i)):t(zA)}function Jb(e){return yf({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(e)}function t1(e){return yf({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function z6(e){return yf({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(e)}function H6(e){return yf({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(e)}function ea(){const[e,t]=k.useState(()=>localStorage.getItem("theme")||"dark");k.useEffect(()=>{localStorage.setItem("theme",e),document.documentElement.classList.toggle("dark",e==="dark")},[e]);const i=()=>{t(r=>r==="light"?"dark":"light")};return x.jsx("div",{className:"absolute top-4 right-4 z-50",children:x.jsx("button",{onClick:i,"aria-label":"Toggle Theme",className:"p-2 rounded-full bg-white dark:bg-gray-700 shadow-md hover:scale-110 transition duration-300",children:x.jsx(eA,{mode:"wait",initial:!1,children:x.jsx(ir.div,{initial:{rotate:-90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:90,opacity:0},transition:{duration:.3},children:e==="light"?x.jsx(z6,{className:"text-gray-800"}):x.jsx(H6,{className:"text-yellow-300"})},e)})})})}const ah=["#e53e3e","#3182ce","#38a169","#d69e2e","#805ad5","#dd6b20"],F6=(e,t,i)=>Math.abs(e-i)+Math.abs(t-i),oh=e=>{const t=[...e];for(let i=t.length-1;i>0;i--){const r=Math.floor(Math.random()*(i+1));[t[i],t[r]]=[t[r],t[i]]}return t};function q6({tasksPool:e,setTasksPool:t}){const i=Lp(),[r,o]=k.useState("solo"),[u,c]=k.useState(5),[d,m]=k.useState("distance"),[g,y]=k.useState("auto"),[_,b]=k.useState("8"),[w,C]=k.useState(""),[L,j]=k.useState(!0),[U,K]=k.useState(1),[Q,lt]=k.useState(2),[q,st]=k.useState(!1),[V,R]=k.useState(3),[D,O]=k.useState(10),[P,z]=k.useState(!0),[N,he]=k.useState([{name:"Red",color:ah[0],password:"",memberPassword:""},{name:"Blue",color:ah[1],password:"",memberPassword:""}]),[Xt,W]=k.useState([{captain:!1,member:!1},{captain:!1,member:!1}]),[at,ft]=k.useState(null),[zt,I]=k.useState(!1),rt=()=>{he(dt=>[...dt,{name:"",color:ah[dt.length%ah.length],password:"",memberPassword:""}]),W(dt=>[...dt,{captain:!1,member:!1}])},ht=dt=>{he(mt=>mt.filter((fe,we)=>we!==dt)),W(mt=>mt.filter((fe,we)=>we!==dt))},ut=(dt,mt,fe)=>{he(we=>we.map((ae,He)=>He===dt?{...ae,[mt]:fe}:ae))},bt=dt=>{let mt=parseInt(dt,10)||3;mt<3&&(mt=3),mt>15&&(mt=15),mt%2===0&&(mt+=1),c(mt),q&&V>mt*mt-1&&R(mt*mt-1)},Ct=dt=>{let mt=u*u-1,fe=parseInt(dt,10)||1;fe>mt&&(fe=mt),fe<1&&(fe=1),R(fe)},wt=async()=>{ft(null),I(!0);const dt=u*u,mt=e.length,fe=Math.max(0,dt-mt);if(u%2===0){ft("Board size must be an odd number (e.g., 3, 5, 7, etc)."),I(!1);return}if(q&&V>dt-1){ft(`Number of mines cannot exceed total tiles minus one (${dt-1}).`),I(!1);return}if(P){if(mt<dt&&!q){ft("Not enough tasks to fill the board. Please add more tasks or enable bombs/duplicates."),I(!1);return}}else{if(mt+(q?V:0)<dt){ft(`Not enough tasks and bombs to fill the board. You need at least ${fe} bombs for missing tasks, or add more tasks.`),I(!1);return}if(q&&V<fe){ft(`You must have at least ${fe} bombs for missing tasks.`),I(!1);return}}if(!w||!w.trim()){ft("Please set a board password (for editing/sharing)."),I(!1);return}if(r==="team"){if(N.length<2){ft("At least 2 teams required."),I(!1);return}for(const Bt of N){if(!Bt.name.trim()||!Bt.password.trim()||!Bt.memberPassword.trim()){ft("Each team needs a name and both passwords."),I(!1);return}if(Bt.password.trim()===Bt.memberPassword.trim()){ft(`Captain and Team Member passwords must be different for team "${Bt.name||"(unnamed)"}".`),I(!1);return}}}let we=[];r==="team"&&(we=await Promise.all(N.map(async Bt=>({name:Bt.name.trim(),color:Bt.color,passwordHash:await fo(Bt.password),memberPasswordHash:await fo(Bt.memberPassword)}))));let ae=[],He=[];if(P){for(ae=oh([...e]);ae.length<dt-(q?V:0);)ae=[...ae,...oh(e)];ae=ae.slice(0,dt-(q?V:0))}else{const Bt=dt-(q?V:0);if(e.length<Bt){ft(`Not enough tasks to fill the board (need ${Bt}, have ${e.length}). Please add more tasks or enable duplicates.`),I(!1);return}ae=oh([...e]).slice(0,Bt)}const qt=Math.floor(u/2),_n=[];for(let Bt=0;Bt<u;Bt++)for(let ke=0;ke<u;ke++)Bt===qt&&ke===qt||_n.push(Bt*u+ke);He=q?oh(_n).slice(0,V):[];let Se=[],Fe=0;for(let Bt=0;Bt<u;Bt++)for(let ke=0;ke<u;ke++){const Er=Bt*u+ke,Wn=He.includes(Er);let mi=null;if(!Wn&&Fe<ae.length&&(mi=ae[Fe++],d==="distance")){const pe=F6(Bt,ke,qt),$t=e.filter(qe=>(qe.difficulty||0)===Math.min(pe,4));$t.length>0&&(mi=$t[Math.floor(Math.random()*$t.length)])}const pi={row:Bt,col:ke,task:mi,completed:!1,visible:Bt===qt&&ke===qt,isMine:Wn};r==="team"&&(pi.claimedBy=null,L&&(Bt===qt&&ke===qt?pi.visibleTeams=we.map(pe=>pe.name):pi.visibleTeams=[])),Se.push(pi)}const Te=Math.random().toString(36).substr(2,9),br=await fo(w.trim()),Zn={cardId:Te,boardPasswordHash:br,mode:r==="team"?"teams":"individual",boardSize:u,gridSize:u,unlockMode:g,manualUnlockCount:g==="manual"?Q:null,mineCount:q?V:0,mineDamage:q?D:0,neighborMode:_,difficultyMode:d,teams:r==="team"?we:[],tiles:Se,score:0,lastUpdated:new Date().toISOString(),createdAt:YV(),perTeamUnlocks:r==="team"?L:!1,firstClaimBonus:r==="team"?U:0,allowDuplicates:P};try{await qV(gh(vh,"bingoCards",Te),Zn),I(!1),i(`/shared/${Te}`)}catch(Bt){ft("Error sharing board: "+Bt.message),I(!1)}};return x.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center gap-6 bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100 p-4",children:[x.jsx(ea,{}),x.jsxs("div",{className:"w-full max-w-xl bg-white dark:bg-gray-800 rounded-lg shadow p-6 flex flex-col gap-6",children:[x.jsx("h1",{className:"text-3xl font-bold text-center mb-2",children:"Create a Board"}),x.jsxs("div",{className:"flex flex-col gap-3",children:[x.jsxs("label",{className:"flex flex-col gap-1",children:[x.jsx("span",{className:"font-medium",children:"Board Type:"}),x.jsxs("select",{value:r,onChange:dt=>o(dt.target.value),className:"p-2 border rounded bg-white text-black",children:[x.jsx("option",{value:"solo",children:"Solo (individual)"}),x.jsx("option",{value:"team",children:"Team (multiplayer)"})]})]}),x.jsxs("label",{className:"flex flex-col gap-1",children:[x.jsx("span",{className:"font-medium",children:"Board Size:"}),x.jsx("input",{type:"number",min:3,max:15,step:2,value:u,onChange:dt=>bt(dt.target.value),className:"p-2 border rounded bg-white text-black"}),x.jsx("span",{className:"text-xs text-gray-500",children:"Must be odd (3, 5, 7, ...). No even sizes allowed."})]}),x.jsxs("label",{className:"flex items-center gap-2",children:[x.jsx("input",{type:"checkbox",checked:P,onChange:dt=>z(dt.target.checked)}),x.jsx("span",{className:"font-medium",children:"Allow duplicate tasks (fill with repeats if needed)"})]}),x.jsxs("label",{className:"flex flex-col gap-1",children:[x.jsx("span",{className:"font-medium",children:"Difficulty Mode:"}),x.jsxs("select",{value:d,onChange:dt=>m(dt.target.value),className:"p-2 border rounded bg-white text-black",children:[x.jsx("option",{value:"distance",children:"Distance-based (harder farther)"}),x.jsx("option",{value:"random",children:"Random"})]})]}),x.jsxs("label",{className:"flex flex-col gap-1",children:[x.jsx("span",{className:"font-medium",children:"Unlock Mode:"}),x.jsxs("select",{value:g,onChange:dt=>y(dt.target.value),className:"p-2 border rounded bg-white text-black",children:[x.jsx("option",{value:"auto",children:"Auto-unlock neighbors (classic)"}),x.jsx("option",{value:"manual",children:"Manual: pick one tile to unlock after claim"})]})]}),g==="manual"&&x.jsxs(x.Fragment,{children:[x.jsxs("label",{className:"flex flex-col gap-1",children:[x.jsx("span",{className:"font-medium",children:"Manual Unlocks per Completion:"}),x.jsx("input",{type:"number",min:1,max:8,value:Q,onChange:dt=>lt(Math.max(1,Math.min(8,Number(dt.target.value)||2))),className:"p-2 border rounded bg-white text-black dark:bg-gray-800 dark:text-white w-24"}),x.jsx("span",{className:"text-xs text-gray-500",children:"How many tiles to unlock after completing a tile (default 2)"})]}),x.jsxs("label",{className:"flex items-center gap-2 mt-2",children:[x.jsx("input",{type:"checkbox",checked:q,onChange:dt=>st(dt.target.checked)}),x.jsx("span",{className:"font-medium",children:"Enable Mines (bombs)"})]}),q&&x.jsxs("div",{className:"flex flex-col gap-2 pl-6",children:[x.jsxs("label",{children:[x.jsx("span",{className:"font-medium",children:"Number of Mines:"}),x.jsx("input",{type:"number",min:1,max:u*u-1,value:V,onChange:dt=>Ct(dt.target.value),className:"p-2 border rounded bg-white text-black dark:bg-gray-800 dark:text-white w-24"}),x.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["Max: ",u*u-1]})]}),x.jsxs("label",{children:[x.jsx("span",{className:"font-medium",children:"Bomb Damage (points lost):"}),x.jsx("input",{type:"number",min:1,max:100,value:D,onChange:dt=>O(Math.max(1,Math.min(100,Number(dt.target.value)||10))),className:"p-2 border rounded bg-white text-black dark:bg-gray-800 dark:text-white w-24"})]})]})]}),x.jsxs("label",{className:"flex flex-col gap-1",children:[x.jsx("span",{className:"font-medium",children:"Neighbor Mode for Unlock:"}),x.jsxs("select",{value:_,onChange:dt=>b(dt.target.value),className:"p-2 border rounded bg-white text-black",children:[x.jsx("option",{value:"8",children:"8-direction (N, NE, E, SE, S, SW, W, NW)"}),x.jsx("option",{value:"4",children:"4-direction (N, E, S, W only)"})]})]}),x.jsxs("label",{className:"flex flex-col gap-1",children:[x.jsx("span",{className:"font-medium",children:"Board Password (for board editing and sharing):"}),x.jsx("input",{type:"password",value:w,onChange:dt=>C(dt.target.value),placeholder:"Enter a board password",className:"p-2 border rounded bg-white text-black"})]}),r==="team"&&x.jsxs("label",{className:"flex items-center gap-2",children:[x.jsx("input",{type:"checkbox",checked:L,onChange:dt=>j(dt.target.checked)}),x.jsx("span",{className:"font-medium",children:"Per-team unlocks (each team only unlocks and sees their own tiles)"})]}),r==="team"&&x.jsxs("label",{className:"flex items-center gap-2 mt-2",children:[x.jsx("span",{className:"font-medium",children:"First Claim Bonus:"}),x.jsx("input",{type:"number",min:0,max:100,step:1,value:U,onChange:dt=>K(Number(dt.target.value)),className:"p-2 border rounded bg-white text-black dark:bg-gray-800 dark:text-white w-20"}),x.jsx("span",{className:"text-sm",children:"points for first team to claim a tile (default 1)"})]})]}),r==="team"&&x.jsxs("div",{children:[x.jsx("h2",{className:"text-xl font-semibold mt-4 mb-2",children:"Teams"}),N.map((dt,mt)=>{var fe,we,ae,He,qt,_n;return x.jsxs("div",{className:"flex flex-col md:flex-row gap-2 mb-2 p-2 border rounded",style:{borderColor:dt.color},children:[x.jsx("input",{type:"text",placeholder:"Team Name",value:dt.name,onChange:Se=>ut(mt,"name",Se.target.value),className:"flex-1 p-2 border rounded bg-white text-black dark:bg-gray-800 dark:text-white"}),x.jsx("input",{type:"color",value:dt.color,onChange:Se=>ut(mt,"color",Se.target.value),className:"w-10 h-10",style:{background:dt.color},title:"Team color"}),x.jsxs("div",{className:"relative flex-1",children:[x.jsx("input",{type:(fe=Xt[mt])!=null&&fe.captain?"text":"password",placeholder:"Captain Password",value:dt.password,onChange:Se=>ut(mt,"password",Se.target.value),className:"w-full p-2 border rounded bg-white text-black dark:bg-gray-800 dark:text-white pr-10"}),x.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-300",tabIndex:-1,onClick:()=>W(Se=>Se.map((Fe,Te)=>Te===mt?{...Fe,captain:!Fe.captain}:Fe)),"aria-label":(we=Xt[mt])!=null&&we.captain?"Hide password":"Show password",children:(ae=Xt[mt])!=null&&ae.captain?x.jsx(Jb,{}):x.jsx(t1,{})})]}),x.jsxs("div",{className:"relative flex-1",children:[x.jsx("input",{type:(He=Xt[mt])!=null&&He.member?"text":"password",placeholder:"Team Member Password",value:dt.memberPassword,onChange:Se=>ut(mt,"memberPassword",Se.target.value),className:"w-full p-2 border rounded bg-white text-black dark:bg-gray-800 dark:text-white pr-10"}),x.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-300",tabIndex:-1,onClick:()=>W(Se=>Se.map((Fe,Te)=>Te===mt?{...Fe,member:!Fe.member}:Fe)),"aria-label":(qt=Xt[mt])!=null&&qt.member?"Hide password":"Show password",children:(_n=Xt[mt])!=null&&_n.member?x.jsx(Jb,{}):x.jsx(t1,{})})]}),N.length>2&&x.jsx("button",{type:"button",className:"bg-red-500 text-white px-2 rounded",onClick:()=>ht(mt),title:"Remove team",children:"×"})]},mt)}),x.jsx("button",{type:"button",className:"bg-green-500 hover:bg-green-600 text-white font-semibold rounded p-2 mt-2",onClick:rt,children:"Add Team"})]}),x.jsx("button",{className:"mt-6 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded p-4 text-lg",onClick:wt,disabled:zt,children:zt?"Creating Board...":"Share Board"}),x.jsx("button",{onClick:()=>i("/manage-tasks"),className:"bg-gray-600 hover:bg-gray-700 text-white font-semibold rounded p-3 mt-2",children:"Manage Tasks"}),at&&x.jsx("p",{className:"text-red-500 text-center",children:at})]})]})}const e1={hidden:{opacity:0,scale:.6},visible:{opacity:1,scale:1}},G6=({tile:e,onClick:t,claimedTeams:i=[],canUnlock:r=!1,tileSize:o=64,currentTeam:u,showTeamBadges:c=!0})=>{var _;const d=Math.max(18,Math.round(o*.22)),m=`clamp(0.55rem, ${o*.22}px, 1.1rem)`,g=`clamp(1.3em, ${o*.6}px, 2.2em)`;if(!e.visible&&r)return x.jsx(ir.button,{variants:e1,initial:"hidden",animate:"visible",exit:"hidden",transition:{duration:.2},whileTap:{scale:.92},onClick:()=>t(e),className:"relative rounded-lg border-4 border-yellow-400 bg-yellow-50 flex items-center justify-center text-center select-none shadow font-bold text-yellow-800",style:{width:o,height:o,minWidth:o,minHeight:o,maxWidth:o,maxHeight:o,aspectRatio:"1 / 1",fontSize:"2rem",cursor:"pointer"},"aria-label":"Unlock this tile",children:"?"});if(!e.visible)return x.jsx(ir.div,{className:"aspect-square rounded-lg border bg-gray-800 border-gray-700 cursor-not-allowed",initial:{opacity:1},animate:{opacity:1},style:{width:o,height:o,minWidth:o,minHeight:o,maxWidth:o,maxHeight:o},"aria-label":"Hidden tile"});let y;return u&&Array.isArray(e.claimedBy)&&e.claimedBy.includes(u.name)&&(y=u.color),u&&e.claimedBy===u.name&&(y=u.color),x.jsxs(ir.button,{variants:e1,initial:"hidden",animate:"visible",exit:"hidden",transition:{duration:.25},whileTap:{scale:.95},onClick:()=>t(e),className:`relative rounded-lg border overflow-hidden flex items-center justify-center text-center select-none transition-colors duration-150
                ${e.completed?y?"":"bg-green-500 text-white border-green-600":"bg-white text-black hover:bg-blue-50 border-gray-300"}`,style:{width:o,height:o,minWidth:o,minHeight:o,maxWidth:o,maxHeight:o,aspectRatio:"1 / 1",padding:2,background:e.completed&&y?y:void 0,color:e.completed&&y?"#fff":void 0,borderColor:e.completed&&y?y:void 0},children:[x.jsx("span",{className:"block w-full overflow-hidden text-center leading-tight line-clamp-3 break-words px-1",style:{fontSize:e.completed&&e.isMine?g:m,fontWeight:e.completed&&e.isMine?600:500,paddingTop:`${Math.max(5,o*.1)}px`,paddingBottom:`${Math.max(5,o*.1)}px`},children:e.completed&&e.isMine?x.jsx("span",{style:{fontSize:g},role:"img","aria-label":"Bomb",children:"💣"}):(_=e.task)==null?void 0:_.name}),e.completed&&x.jsx("svg",{className:"absolute top-1 right-1 w-4 h-4 text-white opacity-80 pointer-events-none",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-7.364 7.364a1 1 0 01-1.414 0L3.293 9.293a1 1 0 111.414-1.414l4.364 4.364 6.657-6.657a1 1 0 011.414 0z",clipRule:"evenodd"})}),c&&i.length>0&&x.jsxs("div",{className:"absolute bottom-1 left-1 flex flex-row flex-wrap gap-1 z-10 max-w-full",style:{maxWidth:o-3},children:[i.slice(0,3).map((b,w)=>x.jsx("span",{className:"rounded text-xs px-1 py-0.5",style:{minWidth:d,maxWidth:d*2,fontSize:Math.max(9,d*.55),background:b.color||"#eee",color:"#fff",border:"1px solid #000",fontWeight:600,textShadow:"0 1px 2px rgba(0,0,0,0.25)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:b.name,children:b.name.length>6?b.name.slice(0,6)+"…":b.name},b.name)),i.length>3&&x.jsxs("span",{className:"rounded text-xs px-1 py-0.5 bg-gray-600 border border-black",style:{minWidth:d,fontSize:Math.max(9,d*.55),color:"#fff"},title:i.slice(3).map(b=>b.name).join(", "),children:["+",i.length-3]})]})]})};function Y6({tasksPool:e,setTasksPool:t}){const[i,r]=k.useState("difficulty"),[o,u]=k.useState("asc"),[c,d]=k.useState({name:"",description:"",difficulty:1,value:1}),[m,g]=k.useState(null),[y,_]=k.useState(null),b=Lp(),w=e.map((q,st)=>({...q,originalIndex:st})).sort((q,st)=>{const V=q[i]-st[i];return o==="asc"?V:-V}),C=q=>{t(st=>st.filter((V,R)=>R!==q)),m===q&&(g(null),_(null))},L=(q,st)=>{g(q),_({...st})},j=q=>{const st=[...e];st[q]=y,t(st),g(null),_(null)},U=()=>{g(null),_(null)},K=()=>{c.name.trim()!==""&&(t(q=>[...q,c]),d({name:"",description:"",difficulty:1,value:1}))},Q=q=>{var R;const st=(R=q.target.files)==null?void 0:R[0];if(!st)return;const V=new FileReader;V.onload=D=>{try{const O=JSON.parse(D.target.result);Array.isArray(O)?t(P=>[...P,...O]):alert("Uploaded file must be a JSON array of tasks")}catch{alert("Invalid JSON file")}},V.readAsText(st)},lt=()=>{const q=JSON.stringify(e,null,2),st=new Blob([q],{type:"application/json"}),V=URL.createObjectURL(st),R=document.createElement("a");R.href=V,R.download="tasks.json",document.body.appendChild(R),R.click(),document.body.removeChild(R)};return x.jsxs("div",{className:"min-h-screen p-4 bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:[x.jsx(ea,{}),x.jsx("h1",{className:"text-3xl font-bold mb-4 text-center",children:"Manage Tasks"}),x.jsxs("div",{className:"flex flex-col md:flex-row gap-6 mb-6",children:[x.jsxs("div",{className:"flex-1 p-4 bg-white dark:bg-gray-800 rounded shadow",children:[x.jsx("h2",{className:"font-bold mb-2 text-gray-900 dark:text-gray-100",children:"Import / Export Tasks"}),x.jsxs("div",{className:"flex flex-col gap-4",children:[x.jsxs("div",{className:"flex flex-col gap-2",children:[x.jsx("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Import Tasks"}),x.jsx("input",{type:"file",accept:"application/json",onChange:Q,className:"p-2 border rounded"})]}),x.jsxs("div",{className:"flex flex-col gap-2",children:[x.jsx("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Export Tasks"}),x.jsx("button",{onClick:lt,className:"bg-blue-500 hover:bg-blue-600 text-white p-2 rounded",children:"Export Tasks"})]})]})]}),x.jsxs("div",{className:"flex-1 p-4 bg-white dark:bg-gray-800 rounded shadow",children:[x.jsx("h2",{className:"font-bold mb-2 text-gray-900 dark:text-gray-100",children:"Add New Task"}),x.jsxs("div",{className:"flex flex-col gap-2",children:[x.jsx("input",{type:"text",placeholder:"Task Name",value:c.name,onChange:q=>d({...c,name:q.target.value}),className:"border p-2 rounded text-black"}),x.jsx("textarea",{placeholder:"Task Description",value:c.description,onChange:q=>d({...c,description:q.target.value}),className:"border p-2 rounded text-black"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("div",{className:"flex-1",children:[x.jsx("label",{className:"block font-semibold text-gray-900 dark:text-gray-100 mb-1",children:"Difficulty"}),x.jsx("input",{type:"number",placeholder:"Difficulty",value:c.difficulty,onChange:q=>d({...c,difficulty:parseInt(q.target.value)||0}),className:"border p-2 rounded w-full text-black"})]}),x.jsxs("div",{className:"flex-1",children:[x.jsx("label",{className:"block font-semibold text-gray-900 dark:text-gray-100 mb-1",children:"Value"}),x.jsx("input",{type:"number",placeholder:"Value",value:c.value,onChange:q=>d({...c,value:parseInt(q.target.value)||0}),className:"border p-2 rounded w-full text-black"})]})]}),x.jsx("button",{onClick:K,className:"bg-green-500 hover:bg-green-600 text-white p-2 rounded mt-2",children:"Add Task"})]})]})]}),x.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Task List"}),x.jsx("div",{className:"max-h-[600px] overflow-y-auto grid grid-cols-1 md:grid-cols-3 gap-6",children:w.map(q=>x.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded shadow h-60 flex flex-col",children:m===q.originalIndex?x.jsxs(x.Fragment,{children:[x.jsx("input",{type:"text",value:y.name,onChange:st=>_({...y,name:st.target.value}),className:"border p-1 rounded mb-2 text-black"}),x.jsx("textarea",{value:y.description,onChange:st=>_({...y,description:st.target.value}),className:"border p-1 rounded mb-2 text-black h-16 overflow-y-auto",placeholder:"Description"}),x.jsxs("div",{className:"flex gap-2 mb-2",children:[x.jsx("input",{type:"number",value:y.difficulty,onChange:st=>_({...y,difficulty:parseInt(st.target.value)||0}),className:"border p-1 rounded w-full text-black",placeholder:"Difficulty"}),x.jsx("input",{type:"number",value:y.value,onChange:st=>_({...y,value:parseInt(st.target.value)||0}),className:"border p-1 rounded w-full text-black",placeholder:"Value"})]}),x.jsxs("div",{className:"flex gap-2 mt-auto justify-end",children:[x.jsx("button",{onClick:()=>j(q.originalIndex),className:"bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded",children:"Save"}),x.jsx("button",{onClick:U,className:"bg-gray-500 hover:bg-gray-600 text-white px-3 py-1 rounded",children:"Cancel"})]})]}):x.jsxs(x.Fragment,{children:[x.jsx("h3",{className:"font-bold text-xl mb-1 text-gray-900 dark:text-gray-100",children:q.name}),x.jsx("p",{className:"mb-2 text-gray-700 dark:text-gray-300 flex-grow overflow-hidden",style:{display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical"},children:q.description}),x.jsxs("div",{className:"flex justify-between items-center mb-2",children:[x.jsxs("span",{className:"text-gray-900 dark:text-gray-100",children:["Difficulty: ",q.difficulty]}),x.jsxs("span",{className:"text-gray-900 dark:text-gray-100",children:["Value: ",q.value]})]}),x.jsxs("div",{className:"flex gap-2 mt-auto justify-end",children:[x.jsx("button",{onClick:()=>L(q.originalIndex,q),className:"bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-1 rounded",children:"Edit"}),x.jsx("button",{onClick:()=>C(q.originalIndex),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded",children:"Delete"})]})]})},q.originalIndex))}),x.jsx("div",{className:"flex justify-center mt-6",children:x.jsx("button",{onClick:()=>b("/"),className:"p-2 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded",children:"Back to Setup"})})]})}function K6({tile:e,claimedTeams:t=[],firstClaimBonusInfo:i=null,canClaim:r,onClaim:o,onClose:u}){var c,d,m,g;return x.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 max-w-xs w-full",children:[x.jsx("h3",{className:"text-xl font-bold mb-2",children:((c=e.task)==null?void 0:c.name)||(e.isMine?"Mine!":"Task")}),x.jsx("div",{className:"mb-2 text-gray-700 dark:text-gray-200",children:(d=e.task)==null?void 0:d.description}),e.isMine?x.jsxs("div",{className:"text-red-600 font-bold text-lg mb-2",children:["💣 Mine! ",(m=e.task)!=null&&m.value?`Penalty: ${e.task.value}`:""]}):x.jsxs("div",{className:"mb-2 text-gray-700 dark:text-gray-200",children:[x.jsx("span",{className:"font-bold",children:"Value:"})," ",((g=e.task)==null?void 0:g.value)??1]}),x.jsxs("div",{className:"mb-2",children:[x.jsx("span",{className:"font-bold",children:"Claimed by:"}),x.jsxs("div",{className:"flex flex-col gap-1 mt-1",children:[t.length===0&&x.jsx("span",{className:"text-gray-500",children:"Unclaimed"}),t.map((y,_)=>x.jsxs("span",{className:"rounded px-2 py-1 font-semibold flex items-center",style:{background:y.color,color:"#fff",fontWeight:_===0?700:500,fontSize:_===0?"1em":"0.95em"},children:[y.name,i&&_===0&&i.firstTeam===y.name&&!e.isMine&&x.jsxs("span",{className:"ml-2 bg-yellow-300 text-yellow-900 px-2 py-0.5 rounded text-xs font-bold",children:["+",i.bonus]})]},y.name))]})]}),x.jsxs("div",{className:"flex gap-3 mt-4 justify-end",children:[r&&x.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded font-semibold",onClick:o,children:"Claim"}),x.jsx("button",{className:"bg-gray-400 hover:bg-gray-500 text-white px-4 py-2 rounded font-semibold",onClick:u,children:"Close"})]})]})}function Q6({cardId:e}){const[t,i]=k.useState(null),[r,o]=k.useState(""),[u,c]=k.useState(""),[d,m]=k.useState(null),[g,y]=k.useState(""),[_,b]=k.useState(null),[w,C]=k.useState(!1),[L,j]=k.useState(""),[U,K]=k.useState(""),[Q,lt]=k.useState(null),[q,st]=k.useState(!1),[V,R]=k.useState(""),[D,O]=k.useState(""),[P,z]=k.useState(null),[N,he]=k.useState(null),[Xt,W]=k.useState(64),[at,ft]=k.useState(!0),[zt,I]=k.useState([]),[rt,ht]=k.useState(0),[ut,bt]=k.useState(!1),[Ct,wt]=k.useState(null),[dt,mt]=k.useState(null),fe=12*60*60*1e3,[we,ae]=k.useState(!1);if(k.useEffect(()=>{const J=gh(vh,"bingoCards",e),pt=GV(J,vt=>{vt.exists()?i(vt.data()):i(void 0)});return()=>pt()},[e]),k.useEffect(()=>{function J(){const pt=window.innerWidth<640,vt=(t==null?void 0:t.gridSize)||(t==null?void 0:t.boardSize)||5;let Pt;if(pt)Pt=Math.max(40,Math.min(72,Math.floor(window.innerWidth/(vt+1))));else{const At=window.innerHeight-140,kt=(vt-1)*4;Pt=Math.max(10,Math.min(120,Math.floor((At-kt)/vt)))}W(Pt)}return J(),window.addEventListener("resize",J),()=>window.removeEventListener("resize",J)},[t==null?void 0:t.gridSize,t==null?void 0:t.boardSize]),t===null)return x.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center",children:[x.jsx(ea,{}),x.jsx("span",{className:"text-lg text-gray-700 dark:text-gray-200",children:"Loading board..."})]});if(t===void 0)return x.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center",children:[x.jsx(ea,{}),x.jsx("span",{className:"text-xl text-red-500",children:"Board not found."})]});const He=t&&t.mode==="individual",qt=t&&(t.mode==="teams"||t.mode==="multi-claim"),_n=!!t.perTeamUnlocks,Se=(t==null?void 0:t.manualUnlockCount)||1,Fe=(t==null?void 0:t.unlockMode)||"auto",Te=t.gridSize||t.boardSize||5,br=t.teams||[],Zn=t.mineCount||0,Bt=t.mineDamage||0,Er=(In?In():[]).filter(J=>J.isMine&&J.completed).length,Wn=Zn-Er;if(He&&!q)return x.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center gap-4 p-4 bg-gray-100 dark:bg-gray-900",children:[x.jsx(ea,{}),x.jsx("h2",{className:"text-2xl font-bold mb-2 text-gray-900 dark:text-gray-100",children:"Enter Board Password"}),x.jsxs("div",{className:"flex flex-col gap-2 bg-white dark:bg-gray-700 p-4 rounded shadow",children:[x.jsx("input",{type:"password",placeholder:"Board password",value:V,onChange:J=>{R(J.target.value),O("")},className:"p-2 border rounded bg-white text-black"}),x.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white rounded p-2 mt-2",onClick:async()=>{if(O(""),!V){O("Enter the board password.");return}await fo(V)===t.boardPasswordHash?(st(!0),mt(Date.now())):O("Incorrect password.")},children:"Enter"}),D&&x.jsx("p",{className:"text-red-500",children:D})]})]});if(qt&&!d)return x.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center gap-4 p-4 bg-gray-100 dark:bg-gray-900",children:[x.jsx(ea,{}),x.jsx("h2",{className:"text-2xl font-bold mb-2 text-gray-900 dark:text-gray-100",children:"Team Login"}),x.jsxs("div",{className:"flex flex-col gap-2 bg-white dark:bg-gray-700 p-4 rounded shadow",children:[x.jsxs("label",{children:[x.jsx("span",{className:"font-medium",children:"Select team:"}),x.jsxs("select",{value:r,onChange:J=>{o(J.target.value),b(null)},className:"p-2 border rounded bg-white text-black",children:[x.jsx("option",{value:"",children:"-- Select Team --"}),((t==null?void 0:t.teams)||[]).map(J=>x.jsx("option",{value:J.name,children:J.name},J.name))]})]}),x.jsxs("label",{children:[x.jsx("span",{className:"font-medium",children:"Team password:"}),x.jsx("input",{type:"password",value:u,onChange:J=>c(J.target.value),className:"p-2 border rounded bg-white text-black"})]}),x.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white rounded p-2 mt-2",onClick:pi,children:"Login"}),_&&x.jsx("p",{className:"text-red-500",children:_})]})]});function mi(){return!t||t.mode!=="individual"?0:t.tiles.filter(J=>J.completed).reduce((J,pt)=>{var vt;return J+(typeof((vt=pt.task)==null?void 0:vt.value)=="number"?pt.task.value:1)},0)}async function pi(){if(b(null),!r||!u){b("Select a team and enter password.");return}const J=((t==null?void 0:t.teams)||[]).find(vt=>vt.name===r);if(!J){b("Team not found.");return}const pt=await fo(u);if(pt===J.passwordHash){m(J),y("captain"),mt(Date.now());return}if(pt===J.memberPasswordHash){m(J),y("member"),mt(Date.now());return}b("Incorrect password.")}function pe(){if(!t||!qt)return[];const J=(t==null?void 0:t.firstClaimBonus)??0;return(t.teams||[]).map(pt=>{let vt=0;return t.tiles.filter(yt=>(Array.isArray(yt.claimedBy)?yt.claimedBy:yt.claimedBy?[yt.claimedBy]:[]).includes(pt.name)).forEach(yt=>{var Et;const At=Array.isArray(yt.claimedBy)?yt.claimedBy:yt.claimedBy?[yt.claimedBy]:[];vt+=typeof((Et=yt.task)==null?void 0:Et.value)=="number"?yt.task.value:1,J>0&&At.length>0&&At[0]===pt.name&&!yt.isMine&&(vt+=J)}),{...pt,score:vt}})}function $t(J){const pt=(t==null?void 0:t.firstClaimBonus)??0,vt=Array.isArray(J.claimedBy)?J.claimedBy:J.claimedBy?[J.claimedBy]:[];return pt>0&&vt.length>0&&!J.isMine?{firstTeam:vt[0],bonus:pt}:null}function qe(J,pt,vt="8"){const Pt=[],{row:yt,col:At}=J;for(let Et=-1;Et<=1;Et++)for(let kt=-1;kt<=1;kt++){if(Et===0&&kt===0||vt==="4"&&Math.abs(Et)+Math.abs(kt)!==1)continue;const oe=yt+Et,Rt=At+kt;oe>=0&&oe<pt&&Rt>=0&&Rt<pt&&Pt.push(oe*pt+Rt)}return Pt}function Xe(J,pt,vt,Pt){const yt=J.map((Et,kt)=>qt?(Array.isArray(Et.claimedBy)?Et.claimedBy:Et.claimedBy?[Et.claimedBy]:[]).includes(Pt)?kt:null:Et.completed?kt:null).filter(Et=>Et!==null),At=new Set;return yt.forEach(Et=>{const kt=J[Et];qe(kt,pt,t.neighborMode||"8").forEach(Rt=>{(qt?!(Array.isArray(J[Rt].visibleTeams)&&J[Rt].visibleTeams.includes(Pt)):!J[Rt].visible)&&At.add(Rt)})}),Array.from(At)}const fa=async()=>{if(lt(null),!L||!U){lt("Select a team and enter password.");return}const J=((t==null?void 0:t.teams)||[]).find(vt=>vt.name===L);if(!J){lt("Team not found.");return}if(await fo(U)===J.passwordHash){m(J),y("captain"),o(J.name),C(!1),j(""),K("");return}lt("Incorrect password.")},Oo=async J=>{if(!t)return;if(dt&&Date.now()-dt>fe){ae(!0);return}if(!navigator.onLine){b("You appear to be offline. Please reconnect and try again."),ae(!0);return}const pt=gh(vh,"bingoCards",e);let vt;try{vt=await FV(pt)}catch{b("Could not load latest board data.");return}if(!vt.exists()){b("Board not found.");return}const yt=[...vt.data().tiles],At=yt[J];if(qt){if(!d||g!=="captain")return;let Et=!0;if(_n?Et=(Array.isArray(At.visibleTeams)?At.visibleTeams:[]).includes(d.name):At.visible||(Et=!1),!Et)return;let kt=Array.isArray(At.claimedBy)?[...At.claimedBy]:At.claimedBy?[At.claimedBy]:[],oe=Array.isArray(At.visibleTeams)?[...At.visibleTeams]:At.visibleTeams?[At.visibleTeams]:[];if(kt.includes(d.name))return;if(At.isMine?(kt.includes(d.name)||kt.push(d.name),oe.includes(d.name)||oe.push(d.name),yt[J]={...At,claimedBy:kt,visibleTeams:oe,completed:!0,task:{...At.task,value:-Bt}}):(kt.push(d.name),oe.includes(d.name)||oe.push(d.name),yt[J]={...At,claimedBy:kt,visibleTeams:oe,completed:!0}),Fe==="manual"){const Rt=Xe(yt,Te,t.neighborMode||"8",d==null?void 0:d.name);if(Rt.length===0){await Jn([],J);return}z({allowed:Se,eligible:Rt,selected:Rt.length<Se?[...Rt]:[]}),he(J);return}_n?yt.map((Tt,ne)=>(Array.isArray(Tt.claimedBy)?Tt.claimedBy:Tt.claimedBy?[Tt.claimedBy]:[]).includes(d==null?void 0:d.name)?ne:null).filter(Tt=>Tt!==null).forEach(Tt=>{const ne=yt[Tt];qe(ne,Te,t.neighborMode||"8").forEach(le=>{if(le>=0&&le<yt.length){let Ae=yt[le],Tn=Array.isArray(Ae.visibleTeams)?[...Ae.visibleTeams]:[];Tn.includes(d.name)||Tn.push(d.name),yt[le]={...Ae,visibleTeams:Tn}}})}):yt.map((Tt,ne)=>Tt.completed?ne:null).filter(Tt=>Tt!==null).forEach(Tt=>{const ne=yt[Tt];qe(ne,Te,t.neighborMode||"8").forEach(le=>{le>=0&&le<yt.length&&!yt[le].visible&&(yt[le]={...yt[le],visible:!0})})})}else{if(!At.visible||At.completed)return;if(At.isMine?yt[J]={...At,completed:!0,visible:!0,task:{...At.task,value:-Bt}}:yt[J]={...At,completed:!0,visible:!0},Fe==="manual"){const kt=Xe(yt,Te,t.neighborMode||"8",null);if(kt.length===0){await Jn([],J);return}z({allowed:Se,eligible:kt,selected:kt.length<Se?[...kt]:[]}),he(J);return}yt.map((kt,oe)=>kt.completed?oe:null).filter(kt=>kt!==null).forEach(kt=>{const oe=yt[kt];qe(oe,Te,t.neighborMode||"8").forEach(Tt=>{Tt>=0&&Tt<yt.length&&!yt[Tt].visible&&(yt[Tt]={...yt[Tt],visible:!0})})})}try{await jT(pt,{tiles:yt,lastUpdated:new Date().toISOString()})}catch{b("Failed to claim tile."),ae(!0)}};async function Jn(J=null,pt=null){const vt=J!==null?J:P?P.selected:[],Pt=pt!==null?pt:N,yt=qt,At=d==null?void 0:d.name,Et=[...t.tiles],kt=t.mineDamage||0;let oe=[];if(vt.forEach(Rt=>{var Tt;(Tt=Et[Rt])!=null&&Tt.isMine&&oe.push(Rt)}),oe.length>0&&(I(oe),ht(kt*oe.length),setTimeout(()=>I([]),1600),setTimeout(()=>ht(0),1800)),Pt!==null&&Et[Pt])if(yt){let Rt=Et[Pt],Tt=Array.isArray(Rt.claimedBy)?[...Rt.claimedBy]:Rt.claimedBy?[Rt.claimedBy]:[],ne=Array.isArray(Rt.visibleTeams)?[...Rt.visibleTeams]:Rt.visibleTeams?[Rt.visibleTeams]:[];Tt.includes(At)||Tt.push(At),ne.includes(At)||ne.push(At),Rt.isMine?Et[Pt]={...Rt,claimedBy:Tt,visibleTeams:ne,completed:!0,task:{...Rt.task,value:-kt}}:Et[Pt]={...Rt,claimedBy:Tt,visibleTeams:ne,completed:!0}}else{let Rt=Et[Pt];Rt.isMine?Et[Pt]={...Rt,completed:!0,visible:!0,task:{...Rt.task,value:-kt}}:Et[Pt]={...Rt,completed:!0,visible:!0}}if(yt)vt.forEach(Rt=>{let Tt=Et[Rt],ne=Array.isArray(Tt.visibleTeams)?[...Tt.visibleTeams]:Tt.visibleTeams?[Tt.visibleTeams]:[],ie=Array.isArray(Tt.claimedBy)?[...Tt.claimedBy]:Tt.claimedBy?[Tt.claimedBy]:[];ne.includes(At)||ne.push(At),Tt.isMine?(ie.includes(At)||ie.push(At),Et[Rt]={...Tt,visibleTeams:ne,claimedBy:ie,completed:!0,task:{...Tt.task,value:-kt}}):Et[Rt]={...Tt,visibleTeams:ne}});else{let Rt=!0;if(vt.forEach(Tt=>{let ne=Et[Tt];ne.isMine?Et[Tt]={...ne,visible:!0,completed:!0,task:{...ne.task,value:-kt}}:(Rt=!1,Et[Tt]={...ne,visible:!0,completed:!1})}),vt.length>0&&Rt&&Et.some(Tt=>!Tt.visible&&!Tt.completed&&!Tt.isMine)){const Tt=Et.map((ne,ie)=>!ne.visible&&!ne.completed&&!ne.isMine?ie:null).filter(ne=>ne!==null);if(Tt.length>0){z({allowed:1,eligible:Tt,selected:[]});return}}}try{await jT(gh(vh,"bingoCards",e),{tiles:Et,lastUpdated:new Date().toISOString()})}catch{b("Failed to unlock tiles.")}z(null),he(null)}function In(){if(!t)return[];if(t.mode==="teams"||t.mode==="multi-claim"){if(!d)return[];const J=pt=>(Array.isArray(pt.claimedBy)?pt.claimedBy:pt.claimedBy?[pt.claimedBy]:[]).includes(d.name);return t.tiles.map((pt,vt)=>({...pt,completed:J(pt),visible:Array.isArray(pt.visibleTeams)?pt.visibleTeams.includes(d.name):!!pt.visible,__index:vt}))}return t.tiles.map((J,pt)=>({...J,completed:!!J.completed,visible:!!J.visible,__index:pt}))}const Ei=J=>(Array.isArray(J.claimedBy)?J.claimedBy:J.claimedBy?[J.claimedBy]:[]).map(vt=>br.find(Pt=>Pt.name===vt)).filter(Boolean),zn=J=>{P&&P.eligible.includes(J)&&z(pt=>{const vt=pt.selected.includes(J);let Pt;return vt?Pt=pt.selected.filter(yt=>yt!==J):pt.selected.length<pt.allowed?Pt=[...pt.selected,J]:Pt=pt.selected,{...pt,selected:Pt}})},Zi=!!P;function Wi(){if(!He)return null;const pt=In().filter(vt=>vt.visible&&!vt.completed);return x.jsxs("aside",{className:"w-full md:w-72 flex flex-col gap-4",children:[x.jsx("h3",{className:"text-xl font-bold",children:"Overall Score"}),x.jsx("div",{className:"p-3 text-2xl font-bold bg-green-100 dark:bg-green-700 rounded text-center shadow",children:mi()}),x.jsxs("h3",{className:"text-xl font-bold mt-4",children:["Available Tasks (",pt.length,")"]}),x.jsx("div",{className:"flex flex-col gap-2 max-h-[70vh] overflow-auto pr-2",children:pt.map((vt,Pt)=>{var yt,At,Et,kt;return x.jsxs(ir.div,{className:"border p-2 rounded-lg shadow flex flex-col gap-1 bg-white dark:bg-gray-700",initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.05*Pt},children:[x.jsx("span",{className:"font-semibold",children:(yt=vt.task)==null?void 0:yt.name}),x.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:(At=vt.task)==null?void 0:At.description}),((Et=vt.task)==null?void 0:Et.difficulty)!=null&&x.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Difficulty: ",vt.task.difficulty]}),x.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Value: ",((kt=vt.task)==null?void 0:kt.value)??1]})]},Pt)})}),Zn>0&&Fe==="manual"&&x.jsxs("div",{className:"mt-4 bg-yellow-50 dark:bg-yellow-900 text-yellow-900 dark:text-yellow-100 rounded px-4 py-2 font-semibold shadow",children:[x.jsx("span",{role:"img","aria-label":"mine",children:"💣"})," Mines left: ",x.jsx("b",{children:Wn}),x.jsx("br",{}),"Bomb damage: ",x.jsx("b",{children:Bt})," points"]})]})}return x.jsxs(ir.div,{className:"h-screen flex flex-col md:flex-row p-0 md:p-4 gap-6 bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100 overflow-y-auto md:overflow-y-hidden",initial:{opacity:0},animate:{opacity:1},children:[x.jsx(ea,{}),He?Wi():qt&&x.jsxs("aside",{className:"w-full md:w-72 flex flex-col gap-4",children:[x.jsx("h3",{className:"text-xl font-bold",children:"Team Scores"}),x.jsx("div",{className:"flex flex-col gap-2",children:pe().map(J=>x.jsxs("div",{className:"flex items-center gap-2 p-2 rounded",style:{background:J.color,color:"#fff"},children:[x.jsx("span",{className:"font-bold",children:J.name}),x.jsx("span",{className:"ml-auto text-lg font-mono",children:J.score}),d&&J.name===d.name&&x.jsx("span",{className:"ml-2 text-xs bg-black bg-opacity-30 px-2 py-0.5 rounded",children:"You"})]},J.name))}),Zn>0&&Fe==="manual"&&x.jsxs("div",{className:"mt-4 bg-yellow-50 dark:bg-yellow-900 text-yellow-900 dark:text-yellow-100 rounded px-4 py-2 font-semibold shadow",children:[x.jsx("span",{role:"img","aria-label":"mine",children:"💣"})," Mines left: ",x.jsx("b",{children:Wn}),x.jsx("br",{}),"Bomb damage: ",x.jsx("b",{children:Bt})," points"]})]}),x.jsxs("div",{className:"flex-1 flex flex-col items-center relative",children:[x.jsx(ir.h2,{className:"text-2xl font-bold mb-4",initial:{y:-10,opacity:0},animate:{y:0,opacity:1},children:qt&&d?x.jsxs(x.Fragment,{children:["Team: ",x.jsx("span",{style:{color:d.color},children:d.name}),x.jsx("span",{className:"ml-2 text-xs px-2 py-0.5 rounded",style:{background:g==="captain"?"#2563eb":"#6b7280",color:"#fff"},children:g==="captain"?"Captain":"Member"}),g==="captain"&&x.jsx("button",{className:"ml-4 px-2 py-1 bg-yellow-500 hover:bg-yellow-600 text-white rounded text-xs",onClick:()=>C(!0),children:"Switch Team"})]}):x.jsx(x.Fragment,{children:"Task Bingo Board"})}),x.jsxs("div",{className:"mb-4 w-full flex flex-row justify-center items-center",children:[x.jsx("button",{className:`mr-2 px-1 py-0.5 rounded text-xs border 
        ${at?"bg-blue-400 text-black-700 border-blue-300":"bg-gray-100 text-gray-600 border-gray-300"}
        hover:bg-blue-200 hover:text-blue-800 transition`,onClick:()=>ft(J=>!J),children:at?"Hide Team Badges":"Show Team Badges"}),x.jsx("label",{className:"mr-2 font-semibold text-xs text-gray-700 dark:text-gray-400",children:"Tile Size"}),x.jsx("input",{type:"range",min:10,max:120,value:Xt,onChange:J=>W(Number(J.target.value)),className:"w-32"}),x.jsxs("span",{className:"ml-2 text-xs",children:[Xt,"px"]})]}),qt&&g==="captain"&&w&&x.jsxs("div",{className:"mb-4 p-4 bg-gray-200 dark:bg-gray-700 rounded shadow w-full max-w-xs flex flex-col gap-2",children:[x.jsx("h3",{className:"font-bold text-lg",children:"Switch Team (Captain)"}),x.jsxs("label",{children:[x.jsx("span",{className:"font-medium",children:"Select team:"}),x.jsxs("select",{value:L,onChange:J=>{j(J.target.value),lt(null)},className:"p-2 border rounded bg-white text-black w-full",children:[x.jsx("option",{value:"",children:"-- Select Team --"}),((t==null?void 0:t.teams)||[]).map(J=>x.jsx("option",{value:J.name,children:J.name},J.name))]})]}),x.jsxs("label",{children:[x.jsx("span",{className:"font-medium",children:"Captain password:"}),x.jsx("input",{type:"password",value:U,onChange:J=>K(J.target.value),className:"p-2 border rounded bg-white text-black w-full"})]}),x.jsxs("div",{className:"flex gap-2 mt-2",children:[x.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white rounded px-2 py-1",onClick:fa,children:"Switch"}),x.jsx("button",{className:"bg-gray-400 hover:bg-gray-500 text-white rounded px-2 py-1",onClick:()=>C(!1),children:"Cancel"})]}),Q&&x.jsx("p",{className:"text-red-500",children:Q})]}),P&&x.jsxs("div",{className:"w-full max-w-md mx-auto mb-3",children:[x.jsxs("div",{className:"bg-yellow-100 dark:bg-yellow-800 text-yellow-800 dark:text-yellow-100 rounded px-4 py-2 font-semibold text-center mb-2 shadow",children:["Select ",P.allowed," tiles to unlock.",x.jsx("br",{}),Zn>0&&x.jsx("span",{className:"text-xs text-yellow-900 dark:text-yellow-100",children:"Beware: mines may be hidden on this board!"})]}),x.jsxs("div",{className:"text-center mb-2",children:[P.selected.length," / ",Math.min(P.allowed,P.eligible.length)," selected"]}),x.jsxs("div",{className:"flex justify-center gap-4",children:[x.jsx("button",{className:`px-4 py-2 rounded bg-blue-600 text-white font-semibold transition-colors ${Zi?"hover:bg-blue-700":"opacity-50 cursor-not-allowed"}`,disabled:!Zi,onClick:()=>{P.selected.length<Math.min(P.allowed,P.eligible.length)?bt(!0):Jn()},children:"Confirm Unlocks"}),x.jsx("button",{className:"px-4 py-2 rounded bg-gray-400 hover:bg-gray-500 text-white font-semibold",onClick:()=>{z(null),he(null)},children:"Cancel"})]})]}),ut&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg max-w-xs w-full text-center",children:[x.jsx("div",{className:"mb-4 text-lg font-semibold text-red-700 dark:text-red-300",children:P.selected.length===0?"No Tiles Selected":"Fewer Than Allowed Unlocks"}),x.jsx("div",{className:"mb-4 text-gray-700 dark:text-gray-200",children:P.selected.length===0?x.jsxs(x.Fragment,{children:["You have not selected any unlocks.",x.jsx("br",{}),x.jsx("b",{children:"You will not get these unlocks back."}),x.jsx("br",{}),"Are you sure you want to skip your unlocks?"]}):x.jsxs(x.Fragment,{children:["You have selected fewer than the allowed number of unlocks.",x.jsx("br",{}),x.jsx("b",{children:"You will not get these unlocks back."}),x.jsx("br",{}),"Are you sure you want to confirm?"]})}),x.jsxs("div",{className:"flex gap-4 justify-center",children:[x.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white rounded px-4 py-2",onClick:()=>{bt(!1),Jn()},children:"Yes, Confirm"}),x.jsx("button",{className:"bg-gray-400 hover:bg-gray-500 text-white rounded px-4 py-2",onClick:()=>bt(!1),children:"Cancel"})]})]})}),rt>0&&x.jsx("div",{className:"mb-3 text-center",children:x.jsxs("span",{className:"inline-block px-4 py-2 bg-red-700 text-white rounded-lg font-bold text-lg shadow-lg animate-pulse",children:["💥 -",rt," points!"]})}),x.jsx("div",{className:"grid gap-1",style:{gridTemplateColumns:`repeat(${Te}, ${Xt}px)`,width:"fit-content"},children:x.jsx(eA,{children:In().map(J=>{const pt=J.__index;let vt=null;P&&P.eligible.includes(pt)&&(P.selected.includes(pt)?vt="selected":vt="eligible");const Pt=P&&vt==="eligible",yt=qt&&d?Array.isArray(J.claimedBy)?J.claimedBy.includes(d.name):J.claimedBy===d.name:!1;qt&&g==="captain"&&J.visible&&!yt||!qt&&J.visible&&J.completed;const At=zt.includes(pt);return x.jsxs("div",{className:"relative",children:[x.jsx(G6,{tile:J,tileSize:Xt,onClick:()=>{P?vt==="eligible"&&zn(pt):J.visible&&wt(J)},canUnlock:Pt,claimedTeams:qt?Ei(J):[],currentTeam:qt?d:null,showTeamBadges:at}),vt==="eligible"&&x.jsx("span",{className:"absolute inset-0 rounded-lg border-4 border-yellow-400 pointer-events-none",style:{zIndex:10}}),vt==="selected"&&x.jsx("span",{className:"absolute inset-0 rounded-lg border-4 border-blue-500 pointer-events-none",style:{zIndex:10}}),At&&x.jsx("span",{className:"absolute inset-0 flex items-center justify-center pointer-events-none animate-bounce",style:{zIndex:30,background:"rgba(255,255,255,0.7)"},children:x.jsx("span",{style:{fontSize:"2.5em"},role:"img","aria-label":"Boom",children:"💣"})})]},pt)})})})]}),(qt||He)&&x.jsxs("aside",{className:"w-full md:w-72 flex flex-col gap-4 md:ml-6 h-screen pb-8",children:[x.jsxs("h3",{className:"text-xl font-bold py-2",children:["Available Tasks (",In().filter(J=>J.visible&&!J.completed).length,")"]}),x.jsx("div",{className:"flex-1 flex flex-col gap-2 overflow-y-auto pr-2",style:{maxHeight:"calc(100vh - 100px)"},children:In().filter(J=>J.visible&&!J.completed).map((J,pt)=>{var vt,Pt,yt,At;return x.jsxs(ir.div,{className:"border p-2 rounded-lg shadow flex flex-col gap-1 bg-white dark:bg-gray-700",initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.05*pt},children:[x.jsx("span",{className:"font-semibold",children:(vt=J.task)==null?void 0:vt.name}),x.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:(Pt=J.task)==null?void 0:Pt.description}),((yt=J.task)==null?void 0:yt.difficulty)!=null&&x.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Difficulty: ",J.task.difficulty]}),x.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Value: ",((At=J.task)==null?void 0:At.value)??1]})]},pt)})})]}),Ct&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",onClick:()=>wt(null),tabIndex:-1,children:x.jsx("div",{onClick:J=>J.stopPropagation(),className:"max-w-xs w-full",children:x.jsx(K6,{tile:Ct,claimedTeams:qt?Ei(Ct):[],firstClaimBonusInfo:qt?$t(Ct):null,canClaim:!qt&&Ct.visible&&!Ct.completed||qt&&d&&g==="captain"&&Ct.visible&&!(Array.isArray(Ct.claimedBy)?Ct.claimedBy.includes(d.name):Ct.claimedBy===d.name),onClaim:()=>{Oo(Ct.__index),wt(null)},onClose:()=>wt(null)})})}),we&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50",children:x.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded shadow-lg text-center",children:[x.jsx("h2",{className:"text-xl font-bold mb-2 text-red-600 dark:text-red-400",children:"Session Expired"}),x.jsx("p",{className:"mb-4 text-gray-700 dark:text-gray-200",children:"Your session has expired (over 24 hours). Please log in again to continue."}),x.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded font-semibold",onClick:()=>{m(null),st(!1),mt(null),ae(!1)},children:"Log In Again"})]})})]})}function X6(){const{cardId:e}=t2();return x.jsx("div",{className:"min-h-screen",children:x.jsx(Q6,{cardId:e})})}function $6(){const[e,t]=k.useState([{name:"Complete 1 achievement task",description:"Complete one achievement task in OSRS",difficulty:1,value:2},{name:"10kc at a wildy boss",description:"Achieve 10 kill count at a wilderness boss",difficulty:3,value:5},{name:"25k fishing xp",description:"Gain 25,000 fishing experience",difficulty:1,value:2},{name:"Full tree run",description:"Complete a full tree run",difficulty:2,value:3},{name:"25 laps of agility or sep",description:"Complete 25 laps of agility (or SEP equivalent)",difficulty:2,value:3},{name:"Do 10 kills vorkath",description:"Defeat Vorkath 10 times",difficulty:4,value:6},{name:"2 gauntlet attempt/run",description:"Attempt or complete 2 runs of the Gauntlet",difficulty:3,value:4},{name:"Attempt to Pk for 30 mins",description:"Engage in PKing for 30 minutes",difficulty:3,value:4},{name:"100k cooking xp",description:"Gain 100,000 cooking experience",difficulty:1,value:2},{name:"50k herblore",description:"Gain 50,000 Herblore experience",difficulty:2,value:3},{name:"5 tempoross games",description:"Participate in 5 Tempoross games",difficulty:2,value:3},{name:"Kill hespori",description:"Defeat Hespori",difficulty:3,value:4},{name:"Solo raid run",description:"Complete a raid run on your own",difficulty:4,value:6},{name:"50k thieving experience",description:"Gain 50,000 Thieving experience",difficulty:1,value:2},{name:"5 zulrah runs",description:"Complete 5 runs of Zulrah",difficulty:3,value:4},{name:"5 dt2 boss attempt/run",description:"Attempt or complete 5 runs of Dragon Slayer II",difficulty:4,value:6},{name:"5 chaos ele kills",description:"Defeat Chaos Elemental 5 times",difficulty:3,value:4},{name:"25k mining xp",description:"Gain 25,000 Mining experience",difficulty:1,value:2},{name:"Jad run for the pet bby",description:"Attempt the Jad run, aiming for the pet",difficulty:4,value:6},{name:"50k woodcutting xp",description:"Gain 50,000 Woodcutting experience",difficulty:1,value:2},{name:"Complete a slayer task",description:"Finish a Slayer task",difficulty:2,value:3},{name:"10 barrows runs",description:"Complete 10 runs of Barrows",difficulty:3,value:4},{name:"100k construction xp",description:"Gain 100,000 Construction experience",difficulty:2,value:3},{name:"Go for a champion scroll for 1 hour",description:"Play for 1 hour in hopes of obtaining a champion scroll",difficulty:2,value:3},{name:"100k fetching xp",description:"Gain 100,000 Fetching experience",difficulty:1,value:2},{name:"50k firemaking",description:"Gain 50,000 Firemaking experience",difficulty:1,value:2},{name:"2 attempts/kills at muspah",description:"Attempt or kill Muspah twice",difficulty:3,value:4},{name:"Barb assault run",description:"Complete a Barbarian Assault run",difficulty:2,value:3}]);return x.jsxs(p2,{children:[x.jsx(lh,{path:"/",element:x.jsx(q6,{tasksPool:e,setTasksPool:t})}),x.jsx(lh,{path:"/manage-tasks",element:x.jsx(Y6,{tasksPool:e,setTasksPool:t})}),x.jsx(lh,{path:"/shared/:cardId",element:x.jsx(X6,{})})]})}Sw.createRoot(document.getElementById("root")).render(x.jsx(sr.StrictMode,{children:x.jsx(B2,{basename:"/ChaseWaltersSite",children:x.jsx($6,{})})}));
